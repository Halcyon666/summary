---
id: docusaurus
title: Docusaurus é…ç½®
sidebar_label: Docusaurus é…ç½®
sidebar_position: 11
description: Docusaurus éƒ¨ç½²ã€æœç´¢é…ç½®å’Œæ•…éšœæ’é™¤
tags:
- frontend
- javascript
- react
last_update:
  date: '2026-01-25'
  author: halcyon666
---
# docusaurus

## GitHub å·¥ä½œæµé…ç½®

### éƒ¨ç½²è„šæœ¬

[å‚è€ƒæ–‡ç« ](https://juejin.cn/post/7115631818736402440)

> å¦å¤–ï¼šä½ éœ€è¦å®‰è£… yarn å¹¶åœ¨æ–‡æ¡£é¡¹ç›®ä¸­è¿è¡Œ yarn install

[Docusaurus éƒ¨ç½²](https://docusaurus.io/docs/deployment#deploying-to-github-pages)

```yml title="deploy.yml"
name: Deploy taco shop

on:
  push:
    branches:
      - main
    # Review gh actions docs if you want to further define triggers, paths, etc
    # https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#on

jobs:
  deploy:
    name: Deploy Chef Claude
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: pnpm/action-setup@v2
        with:
          version: 8
      - uses: actions/setup-node@v3
        with:
          node-version: 22.19.0
          cache: "pnpm"
      - name: Install dependencies
        run: |
          echo ${{ github.workspace }}  # è¾“å‡ºå·¥ä½œåŒºä¸Šä¸‹æ–‡è·¯å¾„ï¼Œå°±æ˜¯å·¥ç¨‹è·¯å¾„
          pnpm install --frozen-lockfile
      - name: Build Chef Claude
        run: |
          pnpm build

      # Popular action to deploy to GitHub Pages:
      # Docs: https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-docusaurus
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.SECRET_TOKEN }}
          # Build output to publish to the `gh-pages` branch:
          publish_dir: ./dist # æ–‡æ¡£æ‰“åŒ…äº§ç‰©çš„ç›®å½•åå°±æ˜¯build
          user_name: "github-actions[bot]"
          user_email: "github-actions[bot]@users.noreply.github.com"
          commit_message: ${{ github.event.head_commit.message }}

```

### é…ç½®å¯†é’¥

![20251020205913](https://s2.loli.net/2025/10/20/J2Z7CxXQPNjc8UW.png)
![20251103223927](https://s2.loli.net/2025/11/03/m8RPDfWd1TYsGwN.png)

æ–°ç‰ˆé¡µé¢æœ€å°åŒ–æƒé™é…ç½®TOKEN

| åˆ†ç±»              | æƒé™é¡¹            | è®¿é—®çº§åˆ«                                                   |
| --------------- | -------------- | ------------------------------------------------------ |
| ğŸ§± **Contents** | Read and write | âœ… å¿…éœ€ï¼šå…è®¸ Action æ¨é€ `gh-pages` åˆ†æ”¯                        |
| âš™ï¸ **Actions**  | Read and write | âœ… å¯é€‰ï¼šå¦‚æœä½ çš„ Workflow éœ€è¦è§¦å‘å…¶ä»– Actionsï¼ˆä¾‹å¦‚ re-run workflowsï¼‰ |


### éƒ¨ç½²é”™è¯¯ css net::ERR_ABORTED 404 (Not Found)

å¦‚æœä¸éœ€è¦åœ¨ä¸­å›½å¤§é™†è®¿é—®ï¼Œå¯ä»¥å…ˆä½¿ç”¨ Vercel éƒ¨ç½²ã€‚

```ts
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react-swc";

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
  // highlight-next-line
  {/* base: "/tenzies/", // ä¸è¦è¿™ä¹ˆå†™ */}
  // highlight-next-line
  base: "./"
});
```

## DocSearch v2 åœ¨æˆ‘çš„ç½‘ç«™ä¸Šæ— æ³•å·¥ä½œ

### èƒŒæ™¯

æˆ‘çš„ Docusaurusï¼ˆç‰ˆæœ¬ 3.1.0ï¼‰åšå®¢éƒ¨ç½²åœ¨ GitHub Pages ä¸Šï¼Œåœ¨æˆ‘å°†åŸŸåä»

`https://halcyon666.github.io/summary/` æ›´æ”¹ä¸º `https://halcyon666.top` ä¹‹å‰ï¼ŒDocSearch v2 åœ¨æˆ‘çš„ç½‘ç«™ä¸Šå¯ä»¥æ­£å¸¸å·¥ä½œã€‚å½“æˆ‘ä¸ºæ–°åŸŸåé‡æ–°ç”³è¯·

DocSearch æ—¶ï¼Œæˆ‘æŒ‰ç…§ä¹‹å‰çš„æ–¹æ³•æ“ä½œï¼Œä½†æœç´¢æ— æ³•æ­£å¸¸å·¥ä½œã€‚

### URL è¢«å¿½ç•¥

é¦–å…ˆæˆ‘æ£€æŸ¥äº†çˆ¬è™«ç®¡ç†åå° [https://crawler.algolia.com/](https://crawler.algolia.com/)ï¼Œå‘ç°å¾ˆå¤šç½‘ç«™ URL è¢«å¿½ç•¥ï¼Œå› ä¸ºæ–°åº”ç”¨ä¸­å­˜åœ¨å¾ˆå¤š 302 é‡å®šå‘ã€‚

æˆ‘å°è¯•åœ¨é¢„è§ˆæœç´¢ä¸­æœç´¢ï¼Œé™¤äº†é¦–é¡µä¿¡æ¯å¤–ï¼Œæ²¡æœ‰å…³äºæˆ‘çš„ Markdown åšå®¢çš„ç»“æœã€‚

![image-20240202002105462](https://s2.loli.net/2024/02/02/eM7Vc45PLlyGJYw.png)


ä½ å¯ä»¥åœ¨ä¸Šé¢çœ‹åˆ°æˆ‘çš„æ­£ç¡®é…ç½®ï¼Œä¸‹é¢æ˜¯é”™è¯¯çš„é…ç½®ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹è§£å†³äº†çˆ¬è™«å¿½ç•¥é—®é¢˜ã€‚

```react
new Crawler({
  sitemaps: [],
  ignoreCanonicalTo: false,
});
```

è¿™æ¬¡æˆ‘å¯ä»¥åœ¨æœç´¢é¢„è§ˆä¸­æœç´¢ï¼Œä½†åœ¨æˆ‘çš„ç½‘ç«™ä¸Šä¸è¡Œã€‚

### æ— æ•ˆçš„ Application-ID æˆ– API å¯†é’¥

è§£å†³æ— æ•ˆçš„ Application-ID æˆ– API å¯†é’¥é—®é¢˜ï¼Œæˆ‘æŸ¥çœ‹äº†æœ‰å¸®åŠ©çš„[é“¾æ¥](https://support.algolia.com/hc/en-us/articles/11217017604497-Why-am-I-getting-403-error-message-Invalid-Application-ID-or-API-key-status-403-with-DocSearch)ï¼Œå‘ç°æˆ‘çš„ API å¯†é’¥æ˜¯é”™è¯¯çš„ï¼Œç”± DocSearch å›å¤é‚®ä»¶ç»™å‡ºï¼Œæ‰€ä»¥å½“ä½ é‡åˆ°æ­¤é”™è¯¯æ—¶ï¼Œä½ éœ€è¦åœ¨ä½ çš„[ä»ªè¡¨æ¿](https://dashboard.algolia.com/account/api-keys)ä¸­æ£€æŸ¥ä½ çš„ API å¯†é’¥ã€‚


### è¯¯è§£ facetFilters

åœ¨é¢„è§ˆæœç´¢ä¸­æœ‰ç»“æœï¼Œä½†åœ¨æˆ‘çš„ç½‘ç«™ä¸Šæ²¡æœ‰ã€‚

æˆ‘ä»é¢„è§ˆæœç´¢å’Œæˆ‘çš„ç½‘ç«™è·å–äº†ä¸¤ä¸ª payloadï¼Œæˆ‘æ¯”è¾ƒäº†è¿™äº›å‚æ•°ï¼Œå‘ç°ä¸æˆ‘çš„å‚æ•°æœ‰äº›ä¸åŒã€‚æ‰€ä»¥æˆ‘æŸ¥çœ‹äº† [docusaurus æ–‡æ¡£](https://docusaurus.io/docs/search#contextual-search)ï¼Œå¹¶é€šè¿‡æ›´æ”¹é…ç½®ä¿®å¤äº†æ­¤é—®é¢˜ã€‚

> è¿™æ˜¯è¯·æ±‚ URL æœ«å°¾çš„é”™è¯¯ payload å‚æ•°ã€‚
>
> `facetFilters=["language:zh",["docusaurus_tag:default","docusaurus_tag:docs-default-current"]]`
>
> æˆ‘çš„é”™è¯¯é…ç½®æ˜¯
>
> ```ts
> contextualSearch: true,
> searchParameters: {},
> ```
>

ä½ éœ€è¦å°† contextualSearch è®¾ç½®ä¸º falseï¼ˆ*æç¤ºï¼šæ­¤é…ç½®åœ¨ `docusaurus.config.ts` æˆ– `docusaurus.config.js` ä¸­*ï¼‰ï¼Œå¹¶å°†ä½ çš„è¯­è¨€è¿‡æ»¤å™¨å†™åœ¨æ‹¬å·ä¸­ã€‚ä½ å¯ä»¥çœ‹åˆ°æˆ‘ä¸‹é¢çš„ä¿®å¤ç¤ºä¾‹ã€‚

```ts
contextualSearch: false,
searchParameters: {
  // maybe yours is en
	facetFilters: ["zh"],
},
```

## **React Live åœ¨ `Docusaurus`ä¸­ä½¿ç”¨æ—¶å¤±æ•ˆçš„é—®é¢˜**

### **æˆåŠŸå’Œå¤±æ•ˆæ—¶æ•ˆæœå¯¹æ¯”**

**å¤±æ•ˆåœºæ™¯å›¾**

![image-20250920214427419](https://s2.loli.net/2025/09/20/A2gkTwlQ3CvBpHi.png)

**æ­£å¸¸åœºæ™¯å›¾**

![image-20250920214505155](https://s2.loli.net/2025/09/20/6DmZ957BCRWQr8w.png)

### **é€ æˆå¤±æ•ˆæäº¤Commitè®°å½•**

[æ·»åŠ ç»„ä»¶`TailProtocal`](https://github.com/Halcyon666/summary/commit/7b94f431d7bfedb1e8abf6132a0688c510ffa0c2)

### **ä¿®å¤æ–¹æ¡ˆ**

å•ç‹¬å¯¼å…¥ç»„ä»¶ï¼Œä¸ä½¿ç”¨å…¨å±€å¯¼å…¥ã€‚

ä¿®å¤commit[è®°å½•](https://github.com/Halcyon666/summary/commit/00b6ea74b68b586919e0a2c41a67ef0037defe7b)


## rspack ç¼“å­˜å´©æºƒ

```shell
> summary@0.2.0 start D:\summary
> docusaurus start --host 0.0.0.0 --no-open

[INFO] Starting the development server...
[SUCCESS] Docusaurus website is running at: http://localhost:3000/summary/
â— Client â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (9%) setup compilation
Panic occurred at runtime. Please file an issue on GitHub with the backtrace below: https://github.com/web-infra-dev/rspack/issues: panicked at crates\rspack_core\src\cache\persistent\occasion\make\module_graph.rs:188:8:
should mgm exist
â€‰ELIFECYCLEâ€‰ Command failed with exit code 3221226505.
```

åœ¨ é¡¹ç›®æ ¹ç›®å½• D:\summary æ‰§è¡Œï¼š

```shell

rmdir /s /q .docusaurus
rmdir /s /q node_modules\.cache
rmdir /s /q node_modules\.pnpm
del /f /q pnpm-lock.yaml


ç„¶åé‡æ–°å®‰è£…ï¼š

pnpm install
pnpm start
```


import TailProtocal from "@site/src/components/TailProtocal";

<TailProtocal />
