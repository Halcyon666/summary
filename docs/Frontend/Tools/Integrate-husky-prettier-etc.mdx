---
id: integrate-husky-prettier-etc
title: 集成 Husky、Prettier 等工具
sidebar_label: 集成 Husky、Prettier 等工具
sidebar_position: 10
description: pnpm create vite-app vue3-ts shell pnpm install husky lint-staged eslint
  prettier -D  json
tags:
- frontend
- javascript
- react
last_update:
  date: '2026-01-25'
  author: halcyon666
sources:
- pnpm
---
# 如何在 Vue 项目中集成 Husky、Prettier 等工具？

## 使用 Vite 创建项目

`pnpm create vite-app vue3-ts`

## 安装依赖

```shell
pnpm install husky lint-staged eslint prettier -D
```



## 配置 Prettier

```json
// .prettierrc.json
{
  "singleQuote": true,
  "semi": true,
  "printWidth": 100,
  "trailingComma": "all",
  "endOfLine": "auto"
}
```

你可以使用 `pnpx prettier --write .` 命令格式化代码

## 配置 ESLint

```shell
# 初始化 ESLint
pnpm create @eslint/config
```

以下选项是可选的，你可以选择与我相同的配置。

![image-20231231160250767](https://s2.loli.net/2023/12/31/194DgcJLWNP2V5y.png)

运行命令 `pnpx eslint .` 检查 ESLint 规则；

## 安装并配置 Husky

```shell
# 初始化 husky
pnpm husky install
# 配置 husky
pnpx husky add .husky/pre-commit "pnpm lint-staged"
```

执行上述命令后，你的项目结构如下，会自动创建一个 .husky 目录和一个 pre-commit 文件。

![image-20231231154728294](https://s2.loli.net/2023/12/31/NtE6ZeXCjAdHfGV.png)

稍等，还需要另一个配置。

```shell
// package.json
  "scripts": {
    "lint": "eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",
    "prepare": "husky install",
    "lint-staged": "lint-staged"
  },
 "lint-staged": {
    "*.{js,ts,vue}": [
      "eslint --fix"
    ]
  },
```

## 验证 Husky 

运行以下命令提交一些文件

```shell
git add .

git commit -m 'test for husky'
```

你将在控制台看到以下内容：

![image-20231231160344135](https://s2.loli.net/2023/12/31/f1Ap5UPsdYVjOMG.png)

恭喜你，你成功地使用 `git commit` 触发了 lint-staged。

这包括了 ESLint 修复代码和 Prettier 格式化代码。

## 结语

感谢你的时间，如果你从我的文章中学到了一些东西，请给我点赞，同时，如有任何问题，欢迎随时提问。


import TailProtocal from "@site/src/components/TailProtocal";

<TailProtocal />
