<!doctype html><html lang=zh-Hans dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ai-bigdata/AI/maxi-model-capacity" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Agent 智能体设计完整指南 | halcyon666</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://halcyon666.github.io/summary/img/docusaurus.png /><meta data-rh=true name=twitter:image content=https://halcyon666.github.io/summary/img/docusaurus.png /><meta data-rh=true property=og:url content=https://halcyon666.github.io/summary/ai-bigdata/AI/maxi-model-capacity /><meta data-rh=true property=og:locale content=zh_Hans /><meta data-rh=true name=docusaurus_locale content=zh-Hans /><meta data-rh=true name=docsearch:language content=zh-Hans /><meta data-rh=true name=google-site-verification content=vagj8ng2T0VN92-bvbq6xTnbbGF0_ZJXDvV0E_Yu3jY /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Agent 智能体设计完整指南 | halcyon666"/><meta data-rh=true name=description content="基于 ReAct 的 Agent 智能体设计完整指南"/><meta data-rh=true property=og:description content="基于 ReAct 的 Agent 智能体设计完整指南"/><link data-rh=true rel=icon href=/summary/img/favicon.png /><link data-rh=true rel=canonical href=https://halcyon666.github.io/summary/ai-bigdata/AI/maxi-model-capacity /><link data-rh=true rel=alternate href=https://halcyon666.github.io/summary/ai-bigdata/AI/maxi-model-capacity hreflang=zh-Hans /><link data-rh=true rel=alternate href=https://halcyon666.github.io/summary/ai-bigdata/AI/maxi-model-capacity hreflang=x-default /><link data-rh=true rel=preconnect href=https://T5OO103S1G-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://halcyon666.github.io/summary/category/-ai--big-data","name":"🤖 AI & Big Data","position":1},{"@type":"ListItem","item":"https://halcyon666.github.io/summary/category/-ai--llm","name":"🤖 AI & LLM","position":2},{"@type":"ListItem","item":"https://halcyon666.github.io/summary/ai-bigdata/AI/maxi-model-capacity","name":"Agent智能体设计完整指南","position":3}]}</script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-62NRN6R4XB"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-62NRN6R4XB",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title=halcyon666 href=/summary/opensearch.xml><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css type=text/css integrity=sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM crossorigin=anonymous><link rel=stylesheet href=/summary/assets/css/styles.dd91ab9a.css /><script src=/summary/assets/js/runtime~main.b7e4e126.js defer></script><script src=/summary/assets/js/main.007da56a.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/summary/img/logo.png /><div role=region aria-label=跳到主要内容><a class=skipToContent_F9ZE href=#__docusaurus_skipToContent_fallback>跳到主要内容</a></div><nav aria-label=主导航 class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_FXta"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label=切换导航栏 aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/summary/><div class=navbar__logo><img src=/summary/img/logo.png alt="My Site Logo" class="themedComponent_MNra themedComponent--light_Enr6"/><img src=/summary/img/logo.png alt="My Site Logo" class="themedComponent_MNra themedComponent--dark_uUdp"/></div><b class="navbar__title text--truncate">halcyon666</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/summary/category/-background-knowledge>docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/Halcyon666/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_sHI9><use href=#theme-svg-external-link /></svg></a><div class="toggle_YzcH colorModeToggle_cSrP"><button class="clean-btn toggleButton_iZxK toggleButtonDisabled_E59s" type=button disabled title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_dB4F lightToggleIcon_zDiM"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_dB4F darkToggleIcon_FykE"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_dB4F systemToggleIcon_lbyK"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_jAyF><button type=button class="DocSearch DocSearch-Button" aria-label="搜索 (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>搜索</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_Bxtz"><div class=docsWrapper_oH49><button aria-label=回到顶部 class="clean-btn theme-back-to-top-button backToTopButton_FdLT" type=button></button><div class=docRoot_M4_D><aside class="theme-doc-sidebar-container docSidebarContainer_Rqs_"><div class=sidebarViewport_P8T6><div class="sidebar_UbpO sidebarWithHideableNavbar_HUW5"><a tabindex=-1 class=sidebarLogo_PdVP href=/summary/><img src=/summary/img/logo.png alt="My Site Logo" class="themedComponent_MNra themedComponent--light_Enr6"/><img src=/summary/img/logo.png alt="My Site Logo" class="themedComponent_MNra themedComponent--dark_uUdp"/><b>halcyon666</b></a><nav aria-label=文档侧边栏 class="menu thin-scrollbar menu_DwFK"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_aTjM menu__link menu__link--sublist" href=/summary/category/-background-knowledge><span title="📚 Background Knowledge" class=categoryLinkLabel_s7J8>📚 Background Knowledge</span></a><button aria-label="展开侧边栏分类 '📚 Background Knowledge'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/summary/intro><span title="📚 Introduction" class=linkLabel_VTEo>📚 Introduction</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_aTjM menu__link menu__link--sublist" href=/summary/category/-frontend-development><span title="🎨 Frontend Development" class=categoryLinkLabel_s7J8>🎨 Frontend Development</span></a><button aria-label="展开侧边栏分类 '🎨 Frontend Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_aTjM menu__link menu__link--sublist" href=/summary/category/-devops--infrastructure><span title="🚀 DevOps & Infrastructure" class=categoryLinkLabel_s7J8>🚀 DevOps & Infrastructure</span></a><button aria-label="展开侧边栏分类 '🚀 DevOps & Infrastructure'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_aTjM menu__link menu__link--sublist" href=/summary/category/️-development-tools><span title="🛠️ Development Tools" class=categoryLinkLabel_s7J8>🛠️ Development Tools</span></a><button aria-label="展开侧边栏分类 '🛠️ Development Tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_aTjM menu__link menu__link--sublist menu__link--active" href=/summary/category/-ai--big-data><span title="🤖 AI & Big Data" class=categoryLinkLabel_s7J8>🤖 AI & Big Data</span></a><button aria-label="折叠侧边栏分类 '🤖 AI & Big Data'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_aTjM menu__link menu__link--sublist menu__link--active" tabindex=0 href=/summary/category/-ai--llm><span title="🤖 AI & LLM" class=categoryLinkLabel_s7J8>🤖 AI & LLM</span></a><button aria-label="折叠侧边栏分类 '🤖 AI & LLM'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/summary/ai-bigdata/AI/career><span title="🧭 Career Direction" class=linkLabel_VTEo>🧭 Career Direction</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/summary/ai-bigdata/AI/ai-roadmap><span title="🚀 AI Engineer Roadmap" class=linkLabel_VTEo>🚀 AI Engineer Roadmap</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/summary/ai-bigdata/AI/lays-in-ai><span title=AI开发核心技术栈 class=linkLabel_VTEo>AI开发核心技术栈</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/summary/ai-bigdata/AI/maxi-model-capacity><span title=Agent智能体设计完整指南 class=linkLabel_VTEo>Agent智能体设计完整指南</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/summary/ai-bigdata/AI/mcp><span title=MCP class=linkLabel_VTEo>MCP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/summary/ai-bigdata/AI/ai-problems><span title="AI Problems" class=linkLabel_VTEo>AI Problems</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/summary/ai-bigdata/AI/AI-formula><span title="AI Formula" class=linkLabel_VTEo>AI Formula</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_aTjM menu__link menu__link--sublist" tabindex=0 href=/summary/category/-big-data><span title="🐘 Big Data" class=categoryLinkLabel_s7J8>🐘 Big Data</span></a><button aria-label="展开侧边栏分类 '🐘 Big Data'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_aTjM menu__link menu__link--sublist" href=/summary/category/-miscellaneous><span title="📖 Miscellaneous" class=categoryLinkLabel_s7J8>📖 Miscellaneous</span></a><button aria-label="展开侧边栏分类 '📖 Miscellaneous'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title=收起侧边栏 aria-label=收起侧边栏 class="button button--secondary button--outline collapseSidebarButton_D_hU"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_yiBA><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_yXKq><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_djKp"><div class=docItemContainer_RGev><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_fho7" aria-label=页面路径><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label=主页面 class=breadcrumbs__link href=/summary/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_iFeT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/summary/category/-ai--big-data><span>🤖 AI & Big Data</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/summary/category/-ai--llm><span>🤖 AI & LLM</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Agent智能体设计完整指南</span></ul></nav><div class="tocCollapsible_zWEZ theme-doc-toc-mobile tocMobile_hGwt"><button type=button class="clean-btn tocCollapsibleButton_IjVe">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>基于 ReAct 的 Agent 智能体设计完整指南</h1></header>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-方案概述>📋 方案概述<a href=#-方案概述 class=hash-link aria-label="📋 方案概述的直接链接" title="📋 方案概述的直接链接" translate=no>​</a></h2>
<p>本文档提供了一套完整的 <strong>Agent 智能体构建方案</strong>，结合 <strong>LangGPT 结构化提示词</strong> + <strong>ReAct 推理模式</strong>，用于处理需要多步推理、工具调用和知识整合的复杂任务。</p>
<p><strong>核心理念</strong>：让 AI 像人类专家一样"先思考、再行动、再观察、再决策"。</p>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-适用场景>🎯 适用场景<a href=#-适用场景 class=hash-link aria-label="🎯 适用场景的直接链接" title="🎯 适用场景的直接链接" translate=no>​</a></h2>
<p>✅ <strong>需要查阅专业知识库 + 联网搜索的任务</strong><br/>
<!-- -->✅ <strong>需要多步骤规划和动态决策的复杂查询</strong><br/>
<!-- -->✅ <strong>需要透明推理过程的教学/咨询场景</strong><br/>
<!-- -->✅ <strong>需要工具编排（检索、搜索、计算等）的应用</strong></p>
<p><strong>典型应用场景</strong>：</p>
<ul>
<li class="">🎓 英语教学助手（语法 + 发音双重诊断）</li>
<li class="">⚖️ 法律顾问（法条检索 + 案例搜索）</li>
<li class="">🏥 医疗问诊（医学知识库 + 最新研究）</li>
<li class="">🔧 技术支持（产品文档 + 社区方案）</li>
</ul>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=第一部分结构化提示词设计>第一部分：结构化提示词设计<a href=#第一部分结构化提示词设计 class=hash-link aria-label=第一部分：结构化提示词设计的直接链接 title=第一部分：结构化提示词设计的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=设计原则>设计原则<a href=#设计原则 class=hash-link aria-label=设计原则的直接链接 title=设计原则的直接链接 translate=no>​</a></h3>
<p>基于 <strong>LangGPT 标准格式</strong>，采用五要素结构：</p>
<div class="language-text codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-text codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token plain">Role（角色定位）→ Goals（目标）→ Constraints（约束）→ Skills（技能/工具）→ Workflow（工作流）</span><br/></span></code></pre></div></div>
<p>核心要点：</p>
<ol>
<li class=""><strong>强制 ReAct 循环</strong>：[Thought] → [Action] → [Observation] → [Response]</li>
<li class=""><strong>工具优先级</strong>：知识库优先 → 联网搜索补充 → 多源整合</li>
<li class=""><strong>推理透明化</strong>：向用户展示决策路径</li>
<li class=""><strong>拒绝幻觉</strong>：无依据时诚实告知</li>
</ol>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=完整提示词模板>完整提示词模板<a href=#完整提示词模板 class=hash-link aria-label=完整提示词模板的直接链接 title=完整提示词模板的直接链接 translate=no>​</a></h3>
<div class="language-markdown codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-markdown codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Role</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">你是一位精通「美式发音训练」与「英语语法」的 AI 语言教学专家 (Senior Linguistic Agent)。</span><br/></span><span class=token-line style=color:#000000><span class="token plain">你拥有《English Grammar in Use》和《American Accent Training》知识库访问权限，同时具备联网搜索能力。</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Goals</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">1.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">精准诊断</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：分析用户句子的语法错误或发音难点</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">2.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">权威引用</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：优先基于知识库提供教材级别的解释</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">3.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">动态补充</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：当知识库无法覆盖时（如最新俚语），使用联网搜索工具</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">4.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">教学闭环</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：不仅给出答案，还提供针对性练习建议</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Constraints</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">1.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">ReAct 思考原则</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：在回答前必须执行 [Thought] → [Action] → [Observation] 推理循环</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">2.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">知识优先级</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：优先检索知识库，仅在无结果或相关度低时才调用搜索工具</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">3.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">格式规范</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：最终输出必须使用 Markdown 清晰分点陈述</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">4.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">拒绝幻觉</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：如果知识库和网络均无可靠信息，诚实回答"未找到权威依据"</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">5.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">推理透明</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：向用户展示你的查找路径和决策依据</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Skills (Available Tools)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">1.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">Knowledge_Retrieval</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：查阅《English Grammar in Use》和《American Accent Training》</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">2.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">Web_Search</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：使用搜索引擎查找最新语言用法或补充例句</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Workflow (ReAct Loop)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">##</span><span class="token title important"> Phase 1: Thought - 分析与规划</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">在执行任何操作前，必须先思考：</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 用户意图是什么？（语法问题 / 发音问题 / 词汇解释）</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 该知识点属于哪个范畴？（经典语法 / 发音规则 / 新词俚语）</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 制定行动计划：</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 是否需要查知识库？（关键词是什么？）</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 知识库可能无法覆盖吗？（需要提前准备搜索）</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 需要组合多个信息源吗？</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">##</span><span class="token title important"> Phase 2: Action - 执行工具调用</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">按优先级执行：</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">1.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">Step 1</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：调用 </span><span class="token code-snippet code keyword" style="color:rgb(0, 0, 255)">`Knowledge_Retrieval`</span><span class="token plain"> 搜索核心关键词</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">2.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">Step 2</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：观察检索结果</span><br/></span><span class=token-line style=color:#000000><span class="token plain">   </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果相关度 ≥ 0.7 且内容充分 → 直接使用</span><br/></span><span class=token-line style=color:#000000><span class="token plain">   </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果相关度 &lt; 0.6 或无结果 → 立即调用 </span><span class="token code-snippet code keyword" style="color:rgb(0, 0, 255)">`Web_Search`</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">3.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">Step 3</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain">：整合多源信息（知识库 + 搜索结果）</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">##</span><span class="token title important"> Phase 3: Observation - 结果评估</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">对每次工具调用的结果进行判断：</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 信息是否充分？是否需要二次检索？</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 不同来源的信息是否矛盾？如何取舍？</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 是否需要调用其他工具补充？</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">##</span><span class="token title important"> Phase 4: Response - 结构化输出</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token bold content">按以下格式输出最终答案：</span><span class="token bold punctuation" style="color:rgb(4, 81, 165)">**</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">###</span><span class="token title important"> 🔍 分析路径</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">简述你的推理和查找过程（如："已查阅《Grammar in Use》Unit 5，并通过搜索验证了最新用法..."）</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">###</span><span class="token title important"> ✅ 核心解答</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 给出修正后的正确句子或发音指导</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 用加粗/高亮标注关键修改点</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">###</span><span class="token title important"> 📖 深度解析</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 解释背后的语法规则或发音原理</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 引用知识库出处（如"Unit 12: Present Perfect"）</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 对比常见错误用法</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">###</span><span class="token title important"> 🗣️ 练习建议</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 提供 1-2 个针对性练习句</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 给出跟读或改写任务</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">###</span><span class="token title important"> 📚 拓展资源（可选）</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果网络搜索发现了优质资料，提供链接</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Initialization</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">我已准备就绪。请直接发送你要分析的句子或问题，我将启动 ReAct 推理流程为你解答。</span><br/></span></code></pre></div></div>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=推理模式设置>推理模式设置<a href=#推理模式设置 class=hash-link aria-label=推理模式设置的直接链接 title=推理模式设置的直接链接 translate=no>​</a></h3>
<p>在 Dify Agent 配置中，选择合适的推理模式：</p>
<table><thead><tr><th>模式<th>适用场景<th>优势<th>劣势<tbody><tr><td><strong>Function Calling</strong><td>模型原生支持时<td>速度快、准确率高、Token 消耗低<td>依赖模型能力<tr><td><strong>ReAct</strong><td>通用场景<td>推理过程可见、易调试、灵活性高<td>Token 消耗高</table>
<p><strong>推荐配置</strong>：</p>
<ul>
<li class="">✅ 优先选择 <strong>Function Calling</strong>（GPT-4, Claude 3.5, DeepSeek-V3）</li>
<li class="">✅ 如果模型不支持，降级为 <strong>ReAct</strong></li>
<li class="">✅ 开发阶段开启「显示思考过程」便于调试</li>
</ul>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=高级参数调优>高级参数调优<a href=#高级参数调优 class=hash-link aria-label=高级参数调优的直接链接 title=高级参数调优的直接链接 translate=no>​</a></h3>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token comment" style="color:rgb(0, 128, 0)"># 模型参数</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Temperature</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.3</span><span class="token plain">          </span><span class="token comment" style="color:rgb(0, 128, 0)"># 降低随机性，提高准确性</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Max Tokens</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2000</span><span class="token plain">          </span><span class="token comment" style="color:rgb(0, 128, 0)"># 确保能输出完整解析</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Top P</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.9</span><span class="token plain">               </span><span class="token comment" style="color:rgb(0, 128, 0)"># 保持输出质量</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Presence Penalty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.1</span><span class="token plain">     </span><span class="token comment" style="color:rgb(0, 128, 0)"># 减少重复表述</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Frequency Penalty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># 不限制专业术语频率</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 检索参数</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Top K</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">               </span><span class="token comment" style="color:rgb(0, 128, 0)"># 返回最相关的 3-5 个片段</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Score Threshold</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.6</span><span class="token plain">     </span><span class="token comment" style="color:rgb(0, 128, 0)"># 相关度阈值</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Rerank</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)"># 启用重排序（如果支持）</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 搜索参数</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Max Results</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">           </span><span class="token comment" style="color:rgb(0, 128, 0)"># 最多返回 5 个搜索结果</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Timeout</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 10s            </span><span class="token comment" style="color:rgb(0, 128, 0)"># 搜索超时时间</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Safe Search</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> moderate    </span><span class="token comment" style="color:rgb(0, 128, 0)"># 中等安全搜索级别</span><br/></span></code></pre></div></div>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=最终输出示例>最终输出示例<a href=#最终输出示例 class=hash-link aria-label=最终输出示例的直接链接 title=最终输出示例的直接链接 translate=no>​</a></h3>
<p><strong>用户输入</strong>：</p>
<div class="language-text codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-text codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token plain">What's the difference between 'I live in Shanghai' and 'I am creating a Rizz app'?</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-分析路径>🔍 分析路径<a href=#-分析路径 class=hash-link aria-label="🔍 分析路径的直接链接" title="🔍 分析路径的直接链接" translate=no>​</a></h4>
<p>我查阅了《English Grammar in Use》Unit 3 确认了 <code>live</code> 的时态用法，并通过联网搜索获取了 <code>Rizz</code> 的最新定义（Oxford Word of the Year 2023）。</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-核心解答>✅ 核心解答<a href=#-核心解答 class=hash-link aria-label="✅ 核心解答的直接链接" title="✅ 核心解答的直接链接" translate=no>​</a></h4>
<ol>
<li class="">
<p><strong>"I live in Shanghai"</strong> ✅ 正确</p>
<ul>
<li class=""><code>live</code> 是状态动词，描述长期居住状态</li>
<li class="">不应使用进行时 <del>I am living</del>（除非强调临时性）</li>
</ul>
</li>
<li class="">
<p><strong>"I am creating a Rizz app"</strong> ✅ 正确</p>
<ul>
<li class=""><code>create</code> 是动作动词，可以用进行时表示正在进行的开发工作</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-深度解析>📖 深度解析<a href=#-深度解析 class=hash-link aria-label="📖 深度解析的直接链接" title="📖 深度解析的直接链接" translate=no>​</a></h4>
<p><strong>语法规则</strong>（来源：Unit 3）：</p>
<ul>
<li class=""><strong>状态动词</strong>（Stative Verbs）：live, know, like, understand<!-- -->
<ul>
<li class="">描述状态而非动作，通常不用进行时</li>
<li class="">例外：当 live 强调"临时居住"时可用进行时<!-- -->
<ul>
<li class=""><em>"I'm living in a hotel this week."</em> ✅</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>词汇解析</strong>（来源：Web Search）：</p>
<ul>
<li class=""><strong>Rizz</strong> /rɪz/<!-- -->
<ul>
<li class="">词源：Charisma 的缩写（连读：Cha-<strong>ris</strong>-ma → Rizz）</li>
<li class="">含义：吸引异性的魅力或技巧</li>
<li class="">例句：<em>"He's got serious rizz!"</em>（他很有魅力！）</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=️-练习建议>🗣️ 练习建议<a href=#️-练习建议 class=hash-link aria-label="🗣️ 练习建议的直接链接" title="🗣️ 练习建议的直接链接" translate=no>​</a></h4>
<ol>
<li class="">
<p><strong>时态对比练习</strong>：</p>
<ul>
<li class="">I <strong>live</strong> in Beijing. (permanent)</li>
<li class="">I <strong>'m living</strong> in a hotel. (temporary)</li>
</ul>
</li>
<li class="">
<p><strong>Rizz 用法练习</strong>：
用一句话描述你的 app：
<em>"This app helps users improve their rizz through AI-powered conversation tips."</em></p>
</li>
</ol>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-拓展资源>📚 拓展资源<a href=#-拓展资源 class=hash-link aria-label="📚 拓展资源的直接链接" title="📚 拓展资源的直接链接" translate=no>​</a></h4>
<ul>
<li class=""><a href=https://languages.oup.com/word-of-the-year/2023/ target=_blank rel="noopener noreferrer" class="">Oxford Word of the Year 2023: Rizz</a></li>
</ul>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=第二部分dify-agent-配置指南>第二部分：Dify Agent 配置指南<a href=#第二部分dify-agent-配置指南 class=hash-link aria-label="第二部分：Dify Agent 配置指南的直接链接" title="第二部分：Dify Agent 配置指南的直接链接" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=1️⃣-创建-agent-应用>1️⃣ 创建 Agent 应用<a href=#1️⃣-创建-agent-应用 class=hash-link aria-label="1️⃣ 创建 Agent 应用的直接链接" title="1️⃣ 创建 Agent 应用的直接链接" translate=no>​</a></h3>
<p><strong>操作路径</strong>：</p>
<div class="language-text codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-text codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token plain">Dify 首页 → 创建应用 → 选择「Agent (智能体)」→ 基础编排模式</span><br/></span></code></pre></div></div>
<p><strong>注意事项</strong>：</p>
<ul>
<li class="">❌ 不要使用"聊天助手"或"工作流"模式（它们不支持动态推理）</li>
<li class="">✅ Agent 模式会自动规划工具调用顺序，无需手动连线</li>
<li class="">✅ 支持中途改变决策（如检索失败后自动切换搜索）</li>
</ul>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=2️⃣-模型选择>2️⃣ 模型选择<a href=#2️⃣-模型选择 class=hash-link aria-label="2️⃣ 模型选择的直接链接" title="2️⃣ 模型选择的直接链接" translate=no>​</a></h3>
<table><thead><tr><th>推荐模型<th>平台<th>推理能力<th>成本<th>Function Calling<tbody><tr><td><strong>DeepSeek-V3</strong><td>硅基流动<td>⭐⭐⭐⭐⭐<td>💰<td>✅<tr><td><strong>Qwen2.5-72B</strong><td>硅基流动<td>⭐⭐⭐⭐<td>💰💰<td>✅<tr><td><strong>GPT-4o</strong><td>OpenAI<td>⭐⭐⭐⭐⭐<td>💰💰💰<td>✅<tr><td><strong>Claude 3.5 Sonnet</strong><td>Anthropic<td>⭐⭐⭐⭐⭐<td>💰💰💰<td>✅</table>
<p><strong>配置要求</strong>：</p>
<ul>
<li class="">✅ 必须支持 <strong>Function Calling</strong>（工具调用）</li>
<li class="">✅ 上下文窗口 ≥ 32K（用于处理长知识库检索结果）</li>
<li class="">✅ 推理能力强（能理解复杂的 ReAct 指令）</li>
</ul>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=3️⃣-工具配置>3️⃣ 工具配置<a href=#3️⃣-工具配置 class=hash-link aria-label="3️⃣ 工具配置的直接链接" title="3️⃣ 工具配置的直接链接" translate=no>​</a></h3>
<p>在 Agent 编排页面的 <strong>「工具 (Tools)」</strong> 栏目添加：</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-工具-1知识库检索>🔧 工具 1：知识库检索<a href=#-工具-1知识库检索 class=hash-link aria-label="🔧 工具 1：知识库检索的直接链接" title="🔧 工具 1：知识库检索的直接链接" translate=no>​</a></h4>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token key atrule">类型</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Knowledge Retrieval</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">数据源</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 选择已创建的「English Book」知识库</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">检索模式</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 语义检索（Semantic Search）</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Top K</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">相关度阈值</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.6</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">重排序</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 启用（如果支持）</span><br/></span></code></pre></div></div>
<p><strong>知识库准备建议</strong>：</p>
<ul>
<li class="">将《English Grammar in Use》和《American Accent Training》拆分成章节上传</li>
<li class="">每个文档添加元数据（如 Unit 编号、主题标签）</li>
<li class="">使用高质量的 Embedding 模型（如 text-embedding-3-large）</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-工具-2联网搜索>🔧 工具 2：联网搜索<a href=#-工具-2联网搜索 class=hash-link aria-label="🔧 工具 2：联网搜索的直接链接" title="🔧 工具 2：联网搜索的直接链接" translate=no>​</a></h4>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token key atrule">类型</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Web Search</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">推荐插件</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> DuckDuckGo / Tavily / SerpAPI</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">最大结果数</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">超时设置</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 10 秒</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">语言偏好</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> English</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">安全搜索</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 中等</span><br/></span></code></pre></div></div>
<p><strong>可选工具</strong>：</p>
<ul>
<li class="">🎵 <strong>发音合成</strong>（Azure TTS / ElevenLabs）：朗读纠正后的句子</li>
<li class="">📝 <strong>例句生成</strong>（GPT-4 Mini）：生成场景化练习句</li>
<li class="">🎨 <strong>图表生成</strong>（Python Code Interpreter）：可视化语法结构</li>
</ul>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=4️⃣-agent-mode-配置>4️⃣ Agent Mode 配置<a href=#4️⃣-agent-mode-配置 class=hash-link aria-label="4️⃣ Agent Mode 配置的直接链接" title="4️⃣ Agent Mode 配置的直接链接" translate=no>​</a></h3>
<p><strong>在模型配置区找到「代理模式 (Agent Mode)」</strong>：</p>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token comment" style="color:rgb(0, 128, 0)"># 推荐配置</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Agent Mode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Function Calling  </span><span class="token comment" style="color:rgb(0, 128, 0)"># 优先选择</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Max Iterations</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)"># 最多推理 10 轮</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Tool Choice</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> auto            </span><span class="token comment" style="color:rgb(0, 128, 0)"># 自动选择工具</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Parallel Tool Calls</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token boolean important">false</span><span class="token plain">   </span><span class="token comment" style="color:rgb(0, 128, 0)"># 按顺序调用（确保逻辑清晰）</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Show Reasoning</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain">         </span><span class="token comment" style="color:rgb(0, 128, 0)"># 开发阶段开启</span><br/></span></code></pre></div></div>
<p><strong>降级方案</strong>（如果模型不支持 Function Calling）：</p>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token key atrule">Agent Mode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> ReAct</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Max Iterations</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Scratchpad</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> enabled         </span><span class="token comment" style="color:rgb(0, 128, 0)"># 启用草稿本记录推理过程</span><br/></span></code></pre></div></div>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=第三部分实战案例解析>第三部分：实战案例解析<a href=#第三部分实战案例解析 class=hash-link aria-label=第三部分：实战案例解析的直接链接 title=第三部分：实战案例解析的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=案例-1经典语法--新词混合查询>案例 1：经典语法 + 新词混合查询<a href=#案例-1经典语法--新词混合查询 class=hash-link aria-label="案例 1：经典语法 + 新词混合查询的直接链接" title="案例 1：经典语法 + 新词混合查询的直接链接" translate=no>​</a></h3>
<p><strong>输入</strong>：</p>
<div class="language-text codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-text codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token plain">Is "I'm loving this Rizz app" correct?</span><br/></span></code></pre></div></div>
<p><strong>ReAct 推理过程</strong>：</p>
<div class="language-text codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-text codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token plain">💭 Thought:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">- "loving" 是状态动词 → 检查知识库规则</span><br/></span><span class=token-line style=color:#000000><span class="token plain">- "Rizz" 是流行词 → 需要联网确认含义</span><br/></span><span class=token-line style=color:#000000><span class="token plain">- 计划：先查语法书，再搜索词汇</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">🔨 Action 1:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Tool: Knowledge_Retrieval</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Query: "state verbs love continuous"</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Result: </span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - Unit 4: "Love 通常不用进行时"</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - 例外：某些语境下可以用（强调临时感受）</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - 相关度：0.92</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">👁️ Observation 1:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">知识库给出了规则和例外，但需要判断 "loving this app" 是否属于例外</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">🔨 Action 2:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Tool: Web_Search</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Query: "I'm loving it grammar modern usage"</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Result:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - McDonald's slogan 使得这种用法在口语中被接受</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - 语法学家认为在广告/口语中可以接受</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><br/></span><span class=token-line style=color:#000000><span class="token plain">👁️ Observation 2:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">现代英语中，"I'm loving" 在非正式场合已被广泛接受</span><br/></span></code></pre></div></div>
<p><strong>最终输出</strong>：</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-分析路径-1>🔍 分析路径<a href=#-分析路径-1 class=hash-link aria-label="🔍 分析路径的直接链接" title="🔍 分析路径的直接链接" translate=no>​</a></h4>
<p>检索了《Grammar in Use》Unit 4 关于状态动词的规则，并搜索了现代英语的实际用法。</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-核心解答-1>✅ 核心解答<a href=#-核心解答-1 class=hash-link aria-label="✅ 核心解答的直接链接" title="✅ 核心解答的直接链接" translate=no>​</a></h4>
<p><strong>"I'm loving this Rizz app"</strong> 在口语/社交媒体中 ✅ 可接受<br/>
<!-- -->在正式写作中 ⚠️ 建议改为 "I love this Rizz app"</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-深度解析-1>📖 深度解析<a href=#-深度解析-1 class=hash-link aria-label="📖 深度解析的直接链接" title="📖 深度解析的直接链接" translate=no>​</a></h4>
<ul>
<li class=""><strong>传统语法</strong>：love 是状态动词，原则上不用进行时</li>
<li class=""><strong>现代用法</strong>：McDonald's "I'm lovin' it" 的成功使这种用法在口语中普及</li>
<li class=""><strong>语境判断</strong>：<!-- -->
<ul>
<li class="">社交媒体/广告 → 可以使用（强调当下的强烈感受）</li>
<li class="">学术写作/正式文档 → 避免使用</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=️-练习建议-1>🗣️ 练习建议<a href=#️-练习建议-1 class=hash-link aria-label="🗣️ 练习建议的直接链接" title="🗣️ 练习建议的直接链接" translate=no>​</a></h4>
<p>对比以下句子，感受语气差异：</p>
<ol>
<li class="">I <strong>love</strong> your app. (客观事实)</li>
<li class="">I'<strong>m loving</strong> your app! (此刻的强烈情感)</li>
</ol>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=案例-2多轮推理--工具切换>案例 2：多轮推理 + 工具切换<a href=#案例-2多轮推理--工具切换 class=hash-link aria-label="案例 2：多轮推理 + 工具切换的直接链接" title="案例 2：多轮推理 + 工具切换的直接链接" translate=no>​</a></h3>
<p><strong>输入</strong>：</p>
<div class="language-text codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-text codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token plain">How do you pronounce "schedule"? Is it different in American English?</span><br/></span></code></pre></div></div>
<p><strong>ReAct 推理过程</strong>：</p>
<div class="language-text codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-text codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token plain">💭 Thought:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">- 发音问题 → 优先查《American Accent Training》</span><br/></span><span class=token-line style=color:#000000><span class="token plain">- 涉及美英差异 → 可能需要补充搜索</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">🔨 Action 1:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Tool: Knowledge_Retrieval</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Query: "schedule pronunciation American"</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Result: </span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - Chapter 7: "Schedule 在美式发音为 /ˈskedʒuːl/"</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - 相关度：0.88</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">👁️ Observation 1:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">知识库给出了美式发音，但没有提到英式发音对比</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">🔨 Action 2:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Tool: Web_Search</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Query: "schedule pronunciation British vs American"</span><br/></span><span class=token-line style=color:#000000><span class="token plain">Result:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - 英式：/ˈʃedjuːl/</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - 美式：/ˈskedʒuːl/</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  - 历史：美国独立后的拼写改革影响</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">👁️ Observation 2:</span><br/></span><span class=token-line style=color:#000000><span class="token plain">获得了完整的对比信息，可以整合输出</span><br/></span></code></pre></div></div>
<p><strong>最终输出</strong>：</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-分析路径-2>🔍 分析路径<a href=#-分析路径-2 class=hash-link aria-label="🔍 分析路径的直接链接" title="🔍 分析路径的直接链接" translate=no>​</a></h4>
<p>查阅了《American Accent Training》Chapter 7，并搜索了美英发音差异的历史原因。</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-核心解答-2>✅ 核心解答<a href=#-核心解答-2 class=hash-link aria-label="✅ 核心解答的直接链接" title="✅ 核心解答的直接链接" translate=no>​</a></h4>
<p><strong>American English</strong>: /ˈskedʒuːl/ (SKED-jool)<br/>
<strong>British English</strong>: /ˈʃedjuːl/ (SHED-yool)</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-深度解析-2>📖 深度解析<a href=#-深度解析-2 class=hash-link aria-label="📖 深度解析的直接链接" title="📖 深度解析的直接链接" translate=no>​</a></h4>
<ul>
<li class="">
<p><strong>美式发音要点</strong>：</p>
<ul>
<li class="">首音节强调：<strong>SKED</strong>-jool</li>
<li class="">"ch" 发 /k/ 音（如 school）</li>
</ul>
</li>
<li class="">
<p><strong>为什么不同？</strong></p>
<ul>
<li class="">18 世纪美国独立后，Noah Webster 推动拼写改革</li>
<li class="">美式倾向于"读什么写什么"的发音逻辑</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=️-练习建议-2>🗣️ 练习建议<a href=#️-练习建议-2 class=hash-link aria-label="🗣️ 练习建议的直接链接" title="🗣️ 练习建议的直接链接" translate=no>​</a></h4>
<p>跟读对比句：</p>
<ul>
<li class="">🇺🇸 "What's your <strong>schedule</strong> /ˈskedʒuːl/ today?"</li>
<li class="">🇬🇧 "What's your <strong>schedule</strong> /ˈʃedjuːl/ today?"</li>
</ul>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=第四部分优化建议>第四部分：优化建议<a href=#第四部分优化建议 class=hash-link aria-label=第四部分：优化建议的直接链接 title=第四部分：优化建议的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=提示词优化方向>提示词优化方向<a href=#提示词优化方向 class=hash-link aria-label=提示词优化方向的直接链接 title=提示词优化方向的直接链接 translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=1-增加错误处理机制>1. 增加错误处理机制<a href=#1-增加错误处理机制 class=hash-link aria-label="1. 增加错误处理机制的直接链接" title="1. 增加错误处理机制的直接链接" translate=no>​</a></h4>
<div class="language-markdown codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-markdown codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Error Handling</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果工具调用失败，尝试改写关键词重试（最多 2 次）</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果知识库和搜索均无结果，提供相关主题的替代建议</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果检索到矛盾信息，标注不同来源的观点并说明取舍依据</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Fallback Strategy</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">当所有工具都失败时：</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">1.</span><span class="token plain"> 基于通用语言学知识给出保守建议</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">2.</span><span class="token plain"> 明确告知"这是基于常规规则的推测"</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">3.</span><span class="token plain"> 建议用户查阅权威词典或咨询专业人士</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=2-添加用户画像适配>2. 添加用户画像适配<a href=#2-添加用户画像适配 class=hash-link aria-label="2. 添加用户画像适配的直接链接" title="2. 添加用户画像适配的直接链接" translate=no>​</a></h4>
<div class="language-markdown codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-markdown codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> User Context Adaptation</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 默认用户英语水平：中级（CEFR B1-B2）</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果用户提问涉及高级语法（如虚拟语气），提升解释深度</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果用户使用简单句提问，避免过于学术的术语</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 根据历史对话调整例句难度</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Dynamic Difficulty</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 初次互动：使用日常例句</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 多轮对话后：根据用户反馈调整专业度</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=3-增强交互性>3. 增强交互性<a href=#3-增强交互性 class=hash-link aria-label="3. 增强交互性的直接链接" title="3. 增强交互性的直接链接" translate=no>​</a></h4>
<div class="language-markdown codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-markdown codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Interactive Features</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 在解答后提供后续选项：</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 🅰️ 更多例句</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 🅱️ 相关语法点</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 🅲️ 发音示范</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 🅳️ 练习测试</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 对于复杂问题，询问："需要我深入解释哪个部分？"</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 提供"简化版"和"完整版"两种输出模式切换</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=4-增加知识溯源>4. 增加知识溯源<a href=#4-增加知识溯源 class=hash-link aria-label="4. 增加知识溯源的直接链接" title="4. 增加知识溯源的直接链接" translate=no>​</a></h4>
<div class="language-markdown codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-markdown codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Citation & Sources</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 知识库引用格式：[来源：《Grammar in Use》Unit 12, P.45]</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 网络搜索引用格式：[来源：Oxford Dictionary Online, 2024-01-15]</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token list punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> 如果结合多个来源，标注"综合以下 3 个来源：..."</span><br/></span></code></pre></div></div>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=agent-配置优化>Agent 配置优化<a href=#agent-配置优化 class=hash-link aria-label="Agent 配置优化的直接链接" title="Agent 配置优化的直接链接" translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=1-知识库优化策略>1. 知识库优化策略<a href=#1-知识库优化策略 class=hash-link aria-label="1. 知识库优化策略的直接链接" title="1. 知识库优化策略的直接链接" translate=no>​</a></h4>
<p><strong>分层检索</strong>：</p>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token key atrule">Layer 1 (粗检索)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Method</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> BM25 关键词匹配</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Top K</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Purpose</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 快速定位相关章节</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Layer 2 (精检索)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Method</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Semantic Embedding</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Top K</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Rerank</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> BAAI/bge</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">reranker</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">large</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Purpose</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 找到最相关的段落</span><br/></span></code></pre></div></div>
<p><strong>元数据增强</strong>：</p>
<div class="language-json codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-json codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"doc_id"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"grammar_unit_12"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"title"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"Present Perfect Tense"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"level"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"intermediate"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"tags"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">"tense"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"perfect"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"have+pp"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"unit"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"page"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">24</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=2-工具编排优化>2. 工具编排优化<a href=#2-工具编排优化 class=hash-link aria-label="2. 工具编排优化的直接链接" title="2. 工具编排优化的直接链接" translate=no>​</a></h4>
<p><strong>并行调用</strong>（适用于独立查询）：</p>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token comment" style="color:rgb(0, 128, 0)"># 当用户同时问语法和发音时</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Parallel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Tool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Knowledge_Retrieval</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><span class="token key atrule">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"present perfect grammar"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">Tool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Knowledge_Retrieval</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><span class="token key atrule">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"perfect pronunciation"</span><br/></span></code></pre></div></div>
<p><strong>条件分支</strong>（适用于依赖关系）：</p>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token key atrule">IF Knowledge_Retrieval.score &lt; 0.6</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  THEN Web_Search</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">ELSE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  SKIP Web_Search</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=3-性能优化>3. 性能优化<a href=#3-性能优化 class=hash-link aria-label="3. 性能优化的直接链接" title="3. 性能优化的直接链接" translate=no>​</a></h4>
<p><strong>缓存策略</strong>：</p>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token comment" style="color:rgb(0, 128, 0)"># 知识库缓存</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Cache TTL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 7 days</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Cache Key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> query_hash + knowledge_base_version</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 搜索结果缓存</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Cache TTL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 1 day</span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Cache Key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> search_query_hash</span><br/></span></code></pre></div></div>
<p><strong>速率限制</strong>：</p>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token comment" style="color:rgb(0, 128, 0)"># 防止工具调用过多</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Max Tool Calls Per Turn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Max Total Calls Per Session</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Cooldown</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 100ms between calls</span><br/></span></code></pre></div></div>
<p><strong>Token 优化</strong>：</p>
<div class="language-yaml codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-yaml codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token comment" style="color:rgb(0, 128, 0)"># 截断策略</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Knowledge Result Max Tokens</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">800</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Search Result Max Tokens</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token key atrule">Total Context Max Tokens</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2000</span><br/></span></code></pre></div></div>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=第五部分进阶技巧>第五部分：进阶技巧<a href=#第五部分进阶技巧 class=hash-link aria-label=第五部分：进阶技巧的直接链接 title=第五部分：进阶技巧的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=1-多模态输入支持>1. 多模态输入支持<a href=#1-多模态输入支持 class=hash-link aria-label="1. 多模态输入支持的直接链接" title="1. 多模态输入支持的直接链接" translate=no>​</a></h3>
<p><strong>语音输入处理</strong>：</p>
<div class="language-markdown codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-markdown codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Voice Input Handler</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">IF input_type == "audio":</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">1.</span><span class="token plain"> 使用 Whisper API 转写为文本</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">2.</span><span class="token plain"> 识别发音错误（对比标准音标）</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">3.</span><span class="token plain"> 在回答中标注实际发音 vs 标准发音</span><br/></span></code></pre></div></div>
<p><strong>图片输入处理</strong>（如拍照笔记）：</p>
<div class="language-markdown codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-markdown codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Image Input Handler</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">IF input_type == "image":</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">1.</span><span class="token plain"> 使用 OCR 提取文本</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">2.</span><span class="token plain"> 识别手写标注的疑问点</span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(4, 81, 165)">3.</span><span class="token plain"> 针对标注部分重点解释</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=2-个性化记忆系统>2. 个性化记忆系统<a href=#2-个性化记忆系统 class=hash-link aria-label="2. 个性化记忆系统的直接链接" title="2. 个性化记忆系统的直接链接" translate=no>​</a></h3>
<p><strong>知识点追踪</strong>：</p>
<div class="language-json codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-json codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"user_id"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"user_123"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"weak_points"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">"present_perfect"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">"pronunciation_th"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"mastered_points"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">"simple_past"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">"articles"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">  </span><span class="token property">"practice_history"</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">...</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br/></span></code></pre></div></div>
<p><strong>自适应推荐</strong>：</p>
<div class="language-markdown codeBlockContainer_avui theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_jTQg><pre tabindex=0 class="prism-code language-markdown codeBlock_d4az thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_Qoil><span class=token-line style=color:#000000><span class="token title important punctuation" style="color:rgb(4, 81, 165)">#</span><span class="token title important"> Adaptive Practice</span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">基于用户弱点，在每次回答后附加：</span><br/></span><span class=token-line style=color:#000000><span class="token plain">"💡 顺便一提，你之前问过 Present Perfect，今天的例句也用到了这个时态，注意看..."</span><br/></span></code></pre></div></div>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-部署前检查清单>✅ 部署前检查清单<a href=#-部署前检查清单 class=hash-link aria-label="✅ 部署前检查清单的直接链接" title="✅ 部署前检查清单的直接链接" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=基础配置>基础配置<a href=#基础配置 class=hash-link aria-label=基础配置的直接链接 title=基础配置的直接链接 translate=no>​</a></h3>
<ul class="contains-task-list containsTaskList_UjFa">
<li class=task-list-item><input type=checkbox disabled/> <!-- -->提示词已完整复制到 Agent 系统提示词</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->模型选择正确且支持 Function Calling / ReAct</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->Agent Mode 已配置（Function Calling 优先）</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->Temperature 设置为 0.3-0.5（平衡准确性和创造性）</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=工具配置>工具配置<a href=#工具配置 class=hash-link aria-label=工具配置的直接链接 title=工具配置的直接链接 translate=no>​</a></h3>
<ul class="contains-task-list containsTaskList_UjFa">
<li class=task-list-item><input type=checkbox disabled/> <!-- -->知识库已创建并上传全部文档</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->知识库检索参数已调优（Top K, Score Threshold）</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->联网搜索工具已启用并测试可用</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->可选工具（TTS/图表等）已根据需求配置</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=测试验证>测试验证<a href=#测试验证 class=hash-link aria-label=测试验证的直接链接 title=测试验证的直接链接 translate=no>​</a></h3>
<ul class="contains-task-list containsTaskList_UjFa">
<li class=task-list-item><input type=checkbox disabled/> <!-- -->测试用例 1：纯语法问题（应仅调用知识库）</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->测试用例 2：新词问题（应调用搜索）</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->测试用例 3：混合问题（应依次调用两个工具）</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->推理过程日志清晰可读</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->Token 消耗在预算范围内（&lt; 2000 tokens/query）</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=用户体验>用户体验<a href=#用户体验 class=hash-link aria-label=用户体验的直接链接 title=用户体验的直接链接 translate=no>​</a></h3>
<ul class="contains-task-list containsTaskList_UjFa">
<li class=task-list-item><input type=checkbox disabled/> <!-- -->输出格式美观（Markdown 渲染正常）</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->分析路径清晰（用户能理解 AI 的决策过程）</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->练习建议实用（可直接使用）</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->响应速度 &lt; 10 秒</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=安全性>安全性<a href=#安全性 class=hash-link aria-label=安全性的直接链接 title=安全性的直接链接 translate=no>​</a></h3>
<ul class="contains-task-list containsTaskList_UjFa">
<li class=task-list-item><input type=checkbox disabled/> <!-- -->知识库内容无版权问题</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->搜索工具已开启安全搜索</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->无敏感信息泄露风险</li>
<li class=task-list-item><input type=checkbox disabled/> <!-- -->错误处理完善（工具调用失败时不崩溃）</li>
</ul>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=-相关资源>🔗 相关资源<a href=#-相关资源 class=hash-link aria-label="🔗 相关资源的直接链接" title="🔗 相关资源的直接链接" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=文档与教程>文档与教程<a href=#文档与教程 class=hash-link aria-label=文档与教程的直接链接 title=文档与教程的直接链接 translate=no>​</a></h3>
<ul>
<li class=""><a href=https://github.com/langgptai/LangGPT target=_blank rel="noopener noreferrer" class="">LangGPT 提示词框架</a></li>
<li class=""><a href=https://arxiv.org/abs/2210.03629 target=_blank rel="noopener noreferrer" class="">ReAct 论文原文</a></li>
<li class=""><a href=https://docs.dify.ai/ target=_blank rel="noopener noreferrer" class="">Dify Agent 官方文档</a></li>
<li class=""><a href=https://platform.openai.com/docs/guides/function-calling target=_blank rel="noopener noreferrer" class="">Function Calling 最佳实践</a></li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=推荐工具>推荐工具<a href=#推荐工具 class=hash-link aria-label=推荐工具的直接链接 title=推荐工具的直接链接 translate=no>​</a></h3>
<ul>
<li class=""><strong>知识库管理</strong>: Dify Knowledge Base / LangChain Document Loader</li>
<li class=""><strong>搜索 API</strong>: Tavily (AI 优化) / SerpAPI (全面) / DuckDuckGo (免费)</li>
<li class=""><strong>语音合成</strong>: Azure TTS / ElevenLabs / OpenAI TTS</li>
<li class=""><strong>重排序模型</strong>: BAAI/bge-reranker / Cohere Rerank</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=进阶阅读>进阶阅读<a href=#进阶阅读 class=hash-link aria-label=进阶阅读的直接链接 title=进阶阅读的直接链接 translate=no>​</a></h3>
<ul>
<li class=""><a href=https://docs.anthropic.com/claude/docs/prompt-engineering target=_blank rel="noopener noreferrer" class="">Anthropic - Prompt Engineering Guide</a></li>
<li class=""><a href=https://platform.openai.com/docs/guides/agents target=_blank rel="noopener noreferrer" class="">OpenAI - Best Practices for Agent Development</a></li>
<li class=""><a href=https://ai.google/responsibility/responsible-ai-practices/ target=_blank rel="noopener noreferrer" class="">Google - Responsible AI Practices</a></li>
</ul>
<hr/>
<p><strong>文档版本</strong>：v2.0<br/>
<strong>最后更新</strong>：2025-01-21<br/>
<strong>适用平台</strong>：Dify / LangChain / Semantic Kernel / AutoGPT<br/>
<strong>许可协议</strong>：MIT License</p>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_bSch" id=附录常见问题解答>附录：常见问题解答<a href=#附录常见问题解答 class=hash-link aria-label=附录：常见问题解答的直接链接 title=附录：常见问题解答的直接链接 translate=no>​</a></h2>
<details class="details_R7q1 alert alert--info details_s6Oz" data-collapsed=true><summary><b>Q1: 为什么推荐 DeepSeek-V3 而不是 GPT-4？</b></summary><div><div class=collapsibleContent_jk7X><p><strong>A</strong>: 在成本敏感的场景下，DeepSeek-V3 提供了接近 GPT-4 的推理能力，但价格仅为 1/10。对于教育类应用，性价比更高。如果预算充足且需要最佳效果，GPT-4o 仍是首选。</div></div></details>
<details class="details_R7q1 alert alert--info details_s6Oz" data-collapsed=true><summary><b>Q2: ReAct 和 Chain-of-Thought (CoT) 有什么区别？</b></summary><div><div class=collapsibleContent_jk7X><p><strong>A</strong>:<ul>
<li class=""><strong>CoT</strong>：只有思考过程，没有工具调用（纯推理）</li>
<li class=""><strong>ReAct</strong>：思考 + 行动 + 观察的闭环（可调用外部工具）</li>
</ul><p>简单说，ReAct = CoT + Tool Use</div></div></details>
<details class="details_R7q1 alert alert--info details_s6Oz" data-collapsed=true><summary><b>Q3: 如何判断知识库检索失败需要调用搜索？</b></summary><div><div class=collapsibleContent_jk7X><p><strong>A</strong>: 设置 <strong>Score Threshold = 0.6</strong>，当检索结果的相关度分数 &lt; 0.6 时，自动触发搜索。也可以在提示词中指定关键词黑名单（如 "Rizz", "Skibidi" 等新词直接搜索）。</div></div></details>
<details class="details_R7q1 alert alert--info details_s6Oz" data-collapsed=true><summary><b>Q4: Agent 推理轮次过多导致超时怎么办？</b></summary><div><div class=collapsibleContent_jk7X><p><strong>A</strong>:<ol>
<li class="">减少 Max Iterations（如 10 → 5）</li>
<li class="">在提示词中增加"2 轮内必须给出答案"的硬约束</li>
<li class="">使用 Function Calling 而非 ReAct（速度更快）</li>
</ol></div></div></details>
<details class="details_R7q1 alert alert--info details_s6Oz" data-collapsed=true><summary><b>Q5: 能否用这套方案做非英语教学的 Agent？</b></summary><div><div class=collapsibleContent_jk7X><p><strong>A</strong>: 完全可以！只需替换 Role、Goals 和知识库内容。例如：<ul>
<li class="">法律顾问：知识库 = 法律条文，搜索 = 案例库</li>
<li class="">医疗问诊：知识库 = 医学教科书，搜索 = 最新研究</li>
<li class="">编程助手：知识库 = 官方文档，搜索 = Stack Overflow</li>
</ul><p>核心框架（ReAct + 工具编排）是通用的。</div></div></details></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_F68C"><a href=https://github.com/Halcyon666/summary/edit/main/docs/ai-bigdata/AI/maxi-model-capacity.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Fmjn aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>编辑此页</a></div><div class="col lastUpdated_UOR5"><span class=theme-last-updated>最后<!-- -->由 <b>Halcyon666</b> <!-- -->于 <b><time datetime=2026-01-24T16:31:25.000Z itemprop=dateModified>2026年1月24日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label=文件选项卡><a class="pagination-nav__link pagination-nav__link--prev" href=/summary/ai-bigdata/AI/lays-in-ai><div class=pagination-nav__sublabel>上一页</div><div class=pagination-nav__label>AI开发核心技术栈</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/summary/ai-bigdata/AI/mcp><div class=pagination-nav__sublabel>下一页</div><div class=pagination-nav__label>MCP</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents__Uiu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#-方案概述 class="table-of-contents__link toc-highlight">📋 方案概述</a><li><a href=#-适用场景 class="table-of-contents__link toc-highlight">🎯 适用场景</a><li><a href=#第一部分结构化提示词设计 class="table-of-contents__link toc-highlight">第一部分：结构化提示词设计</a><ul><li><a href=#设计原则 class="table-of-contents__link toc-highlight">设计原则</a><li><a href=#完整提示词模板 class="table-of-contents__link toc-highlight">完整提示词模板</a><li><a href=#推理模式设置 class="table-of-contents__link toc-highlight">推理模式设置</a><li><a href=#高级参数调优 class="table-of-contents__link toc-highlight">高级参数调优</a><li><a href=#最终输出示例 class="table-of-contents__link toc-highlight">最终输出示例</a><ul><li><a href=#-分析路径 class="table-of-contents__link toc-highlight">🔍 分析路径</a><li><a href=#-核心解答 class="table-of-contents__link toc-highlight">✅ 核心解答</a><li><a href=#-深度解析 class="table-of-contents__link toc-highlight">📖 深度解析</a><li><a href=#️-练习建议 class="table-of-contents__link toc-highlight">🗣️ 练习建议</a><li><a href=#-拓展资源 class="table-of-contents__link toc-highlight">📚 拓展资源</a></ul></ul><li><a href=#第二部分dify-agent-配置指南 class="table-of-contents__link toc-highlight">第二部分：Dify Agent 配置指南</a><ul><li><a href=#1️⃣-创建-agent-应用 class="table-of-contents__link toc-highlight">1️⃣ 创建 Agent 应用</a><li><a href=#2️⃣-模型选择 class="table-of-contents__link toc-highlight">2️⃣ 模型选择</a><li><a href=#3️⃣-工具配置 class="table-of-contents__link toc-highlight">3️⃣ 工具配置</a><ul><li><a href=#-工具-1知识库检索 class="table-of-contents__link toc-highlight">🔧 工具 1：知识库检索</a><li><a href=#-工具-2联网搜索 class="table-of-contents__link toc-highlight">🔧 工具 2：联网搜索</a></ul><li><a href=#4️⃣-agent-mode-配置 class="table-of-contents__link toc-highlight">4️⃣ Agent Mode 配置</a></ul><li><a href=#第三部分实战案例解析 class="table-of-contents__link toc-highlight">第三部分：实战案例解析</a><ul><li><a href=#案例-1经典语法--新词混合查询 class="table-of-contents__link toc-highlight">案例 1：经典语法 + 新词混合查询</a><ul><li><a href=#-分析路径-1 class="table-of-contents__link toc-highlight">🔍 分析路径</a><li><a href=#-核心解答-1 class="table-of-contents__link toc-highlight">✅ 核心解答</a><li><a href=#-深度解析-1 class="table-of-contents__link toc-highlight">📖 深度解析</a><li><a href=#️-练习建议-1 class="table-of-contents__link toc-highlight">🗣️ 练习建议</a></ul><li><a href=#案例-2多轮推理--工具切换 class="table-of-contents__link toc-highlight">案例 2：多轮推理 + 工具切换</a><ul><li><a href=#-分析路径-2 class="table-of-contents__link toc-highlight">🔍 分析路径</a><li><a href=#-核心解答-2 class="table-of-contents__link toc-highlight">✅ 核心解答</a><li><a href=#-深度解析-2 class="table-of-contents__link toc-highlight">📖 深度解析</a><li><a href=#️-练习建议-2 class="table-of-contents__link toc-highlight">🗣️ 练习建议</a></ul></ul><li><a href=#第四部分优化建议 class="table-of-contents__link toc-highlight">第四部分：优化建议</a><ul><li><a href=#提示词优化方向 class="table-of-contents__link toc-highlight">提示词优化方向</a><ul><li><a href=#1-增加错误处理机制 class="table-of-contents__link toc-highlight">1. 增加错误处理机制</a><li><a href=#2-添加用户画像适配 class="table-of-contents__link toc-highlight">2. 添加用户画像适配</a><li><a href=#3-增强交互性 class="table-of-contents__link toc-highlight">3. 增强交互性</a><li><a href=#4-增加知识溯源 class="table-of-contents__link toc-highlight">4. 增加知识溯源</a></ul><li><a href=#agent-配置优化 class="table-of-contents__link toc-highlight">Agent 配置优化</a><ul><li><a href=#1-知识库优化策略 class="table-of-contents__link toc-highlight">1. 知识库优化策略</a><li><a href=#2-工具编排优化 class="table-of-contents__link toc-highlight">2. 工具编排优化</a><li><a href=#3-性能优化 class="table-of-contents__link toc-highlight">3. 性能优化</a></ul></ul><li><a href=#第五部分进阶技巧 class="table-of-contents__link toc-highlight">第五部分：进阶技巧</a><ul><li><a href=#1-多模态输入支持 class="table-of-contents__link toc-highlight">1. 多模态输入支持</a><li><a href=#2-个性化记忆系统 class="table-of-contents__link toc-highlight">2. 个性化记忆系统</a></ul><li><a href=#-部署前检查清单 class="table-of-contents__link toc-highlight">✅ 部署前检查清单</a><ul><li><a href=#基础配置 class="table-of-contents__link toc-highlight">基础配置</a><li><a href=#工具配置 class="table-of-contents__link toc-highlight">工具配置</a><li><a href=#测试验证 class="table-of-contents__link toc-highlight">测试验证</a><li><a href=#用户体验 class="table-of-contents__link toc-highlight">用户体验</a><li><a href=#安全性 class="table-of-contents__link toc-highlight">安全性</a></ul><li><a href=#-相关资源 class="table-of-contents__link toc-highlight">🔗 相关资源</a><ul><li><a href=#文档与教程 class="table-of-contents__link toc-highlight">文档与教程</a><li><a href=#推荐工具 class="table-of-contents__link toc-highlight">推荐工具</a><li><a href=#进阶阅读 class="table-of-contents__link toc-highlight">进阶阅读</a></ul><li><a href=#附录常见问题解答 class="table-of-contents__link toc-highlight">附录：常见问题解答</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2026 Halcyon666 Built with Docusaurus 3.9.2</div></div></div></footer></div></body>