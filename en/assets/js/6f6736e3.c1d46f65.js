"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["7094"],{45894(e,a,n){n.r(a),n.d(a,{metadata:()=>t,default:()=>m,frontMatter:()=>l,contentTitle:()=>c,toc:()=>d,assets:()=>o});var t=JSON.parse('{"id":"background/Java/JavaBase/lambda","title":"lambda Usage","description":"> NOTES: All content taken from Java 8 Functional Programming java public Set<String> findLongTracks(List<Album> albums) { Set<String> trackNames=new HashSet<>();","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/background/Java/JavaBase/lambda.mdx","sourceDirName":"background/Java/JavaBase","slug":"/background/Java/JavaBase/lambda","permalink":"/en/background/Java/JavaBase/lambda","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/background/Java/JavaBase/lambda.mdx","tags":[{"inline":true,"label":"algorithm","permalink":"/en/tags/algorithm"},{"inline":true,"label":"computer-science","permalink":"/en/tags/computer-science"},{"inline":true,"label":"data-structures","permalink":"/en/tags/data-structures"}],"version":"current","lastUpdatedBy":"halcyon666","lastUpdatedAt":1769299200000,"sidebarPosition":10,"frontMatter":{"id":"lambda","title":"lambda Usage","sidebar_label":"lambda Usage","sidebar_position":10,"description":"> NOTES: All content taken from Java 8 Functional Programming java public Set<String> findLongTracks(List<Album> albums) { Set<String> trackNames=new HashSet<>();","tags":["algorithm","computer-science","data-structures"],"last_update":{"date":"2026-01-25","author":"halcyon666"},"sources":["spring-core"]},"sidebar":"tutorialSidebar","previous":{"title":"Java File Related","permalink":"/en/background/Java/JavaBase/file-upload"},"next":{"title":"netty","permalink":"/en/background/Java/JavaBase/netty"}}'),r=n(62615),i=n(77545),s=n(4040);let l={id:"lambda",title:"lambda Usage",sidebar_label:"lambda Usage",sidebar_position:10,description:"> NOTES: All content taken from Java 8 Functional Programming java public Set<String> findLongTracks(List<Album> albums) { Set<String> trackNames=new HashSet<>();",tags:["algorithm","computer-science","data-structures"],last_update:{date:"2026-01-25",author:"halcyon666"},sources:["spring-core"]},c,o={},d=[{value:"Java 8 Functional Programming",id:"java-8-functional-programming",level:2},{value:"Refactoring Legacy Code",id:"refactoring-legacy-code",level:3},{value:"Function Method Parameter Overloading",id:"function-method-parameter-overloading",level:3},{value:"Interface Multiple Inheritance",id:"interface-multiple-inheritance",level:3},{value:"Sub-collector <code>groupingBy</code>",id:"sub-collector-groupingby",level:3},{value:"Refactoring Domain Methods",id:"refactoring-domain-methods",level:3},{value:"Tips",id:"tips",level:3}];function u(e){let a={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.h2,{id:"java-8-functional-programming",children:"Java 8 Functional Programming"}),"\n",(0,r.jsxs)(a.blockquote,{children:["\n",(0,r.jsx)(a.p,{children:"NOTES: All content taken from Java 8 Functional Programming"}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"refactoring-legacy-code",children:"Refactoring Legacy Code"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public Set<String> findLongTracks(List<Album> albums) {\n    Set<String> trackNames=new HashSet<>();\n    for(Album album : albums) {\n        for (Track track : album.getTrackList()) {\n            if (track.getLength() > 60) {\n                String name=track.getName();\n                trackNames.add(name);\n            }\n        }\n    }\n    return trackNames;\n}\n"})}),"\n",(0,r.jsxs)(a.p,{children:["Refactor 1 ",(0,r.jsx)(a.code,{children:"for"})," to ",(0,r.jsx)(a.code,{children:"forEach"})]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public Set<String> findLongTracks(List<Album> albums) {\n    Set<String> trackNames=new HashSet<>();\n    albums.stream()\n        .forEach(album-> {\n            album.getTracks()\n                .forEach(track-> {\n                    if (track.getLength() > 60) {\n                        String name=track.getName();\n                        trackNames.add(name);\n                    }\n                });\n        });\n    return trackNames;\n}\n"})}),"\n",(0,r.jsxs)(a.p,{children:["Refactor 2 ",(0,r.jsx)(a.code,{children:"if"})," to ",(0,r.jsx)(a.code,{children:"filter"})]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public Set<String> findLongTracks(List<Album> albums) {\n    Set<String> trackNames=new HashSet<>();\n    albums.stream()\n        .forEach(album-> {\n            album.getTracks()\n                .filter(track-> track.getLength() > 60)\n                .map(track-> track.getName())\n                .forEach(name-> trackNames.add(name));\n        });\n    return trackNames;\n}\n"})}),"\n",(0,r.jsxs)(a.p,{children:["Refactor 3 Outermost ",(0,r.jsx)(a.code,{children:"forEach"})," to ",(0,r.jsx)(a.code,{children:"flatMap"})]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public Set<String> findLongTracks(List<Album> albums) {\n    Set<String> trackNames=new HashSet<>();\n    albums.stream()\n        .flatMap(album-> album.getTracks())\n        .filter(track-> track.getLength() > 60)\n        .map(track-> track.getName())\n        .forEach(name-> trackNames.add(name));\n    return trackNames;\n}\n"})}),"\n",(0,r.jsxs)(a.p,{children:["Refactor 4 ",(0,r.jsx)(a.code,{children:"forEach"})," adding elements to ",(0,r.jsx)(a.code,{children:"collect"})," for collection"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public Set<String> findLongTracks(List<Album> albums) {\n    return albums.stream()\n        .flatMap(album-> album.getTracks())\n        .filter(track-> track.getLength() > 60)\n        .map(track-> track.getName())\n        .collect(toSet());\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"function-method-parameter-overloading",children:"Function Method Parameter Overloading"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'overloadedMethod((x, y)-> x+y);\n\nprivate interface IntegerBiFunction extends BinaryOperator<Integer> {\n}\nprivate void overloadedMethod(BinaryOperator<Integer> Lambda) {\n    System.out.print("BinaryOperator");\n}\nprivate void overloadedMethod(IntegerBiFunction Lambda) {\n    System.out.print("IntegerBinaryOperator");\n}\n'})}),"\n",(0,r.jsxs)(a.blockquote,{children:["\n",(0,r.jsxs)(a.p,{children:["Accept ",(0,r.jsx)(a.code,{children:"BinaryOperator"})," and a subclass of this interface as parameters respectively. When calling these methods, the type of Lambda expression inferred by Java is exactly the type of the most specific functional interface. For example, when Example 4-7 chooses between the two methods in Example 4-8, the output is ",(0,r.jsx)(a.code,{children:"IntegerBinaryOperator"}),"."]}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"General Principles"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"If there is only one possible target type, it is inferred from the parameter type in the corresponding functional interface;"}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"If there are multiple possible target types, it is inferred from the most specific type;"}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"If there are multiple possible target types and the most specific type is ambiguous, the type needs to be manually specified."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"interface-multiple-inheritance",children:"Interface Multiple Inheritance"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'public interface Jukebox {\n    public default String rock() {\n        return "... all over the world! ";\n    }\n}\n\npublic interface Carriage {\n    public default String rock() {\n        return "... from side to side";\n    }\n}\n\npublic class MusicalCarriage implements Carriage, Jukebox {\n}\n'})}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.code,{children:"javac"})," is not clear which interface's method should be inherited, so the compiler will report an error: class Musical Carriage inherits unrelated defaults for rock() from types Carriage and Jukebox."]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public class MusicalCarriage\n    implements Carriage, Jukebox {\n    @Override\n    public String rock() {\n        return Carriage.super.rock();\n    }\n}\n"})}),"\n",(0,r.jsx)(a.p,{children:"General Principles"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Classes win over interfaces. If there is a method body or abstract method declaration in the inheritance chain, then the method defined in the interface can be ignored."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Subclasses win over parent classes. If an interface inherits another interface, and both interfaces define a default method, then the method defined in the subclass wins."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"No rule three. If the above two rules do not apply, the subclass must either implement the method or declare the method as abstract."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(a.ol,{start:"5",children:["\n",(0,r.jsxs)(a.li,{children:["For example, when using parallel streams, ",(0,r.jsx)(a.code,{children:"forEach"})," method cannot guarantee that elements are processed in order. If processing in order is required, ",(0,r.jsx)(a.code,{children:"forEachOrdered"})," method should be used."]}),"\n"]}),"\n",(0,r.jsxs)(a.h3,{id:"sub-collector-groupingby",children:["Sub-collector ",(0,r.jsx)(a.code,{children:"groupingBy"})]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public Map<Artist, List<String>> nameOfAlbums(Stream<Album> albums) {\n    return albums.collect(groupingBy(Album::getMainMusician, mapping(Album::getName, toList())));\n}\n"})}),"\n",(0,r.jsxs)(a.p,{children:["mapping allows perform map-like operations on the collector's container. But need to specify what kind of collection class to use to store results, such as ",(0,r.jsx)(a.code,{children:"toList"}),"."]}),"\n",(0,r.jsx)(a.h3,{id:"refactoring-domain-methods",children:"Refactoring Domain Methods"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public long countFeature(ToLongFunction<Album> function) {\n    return albums.stream()\n        .mapToLong(function)\n        .sum();\n}\npublic long countTracks() {\n    return countFeature(album-> album.getTracks().count());\n}\npublic long countRunningTime() {\n    return countFeature(album-> album.getTracks()\n                        .mapToLong(track-> track.getLength())\n                        .sum());\n}\npublic long countMusicians() {\n    return countFeature(album-> album.getMusicians().count());\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"tips",children:"Tips"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"It is simple to judge whether an operation is lazy evaluation or eager evaluation: just look at its return value. If the return value is Stream, then it is lazy evaluation; if the return value is another value or empty, then it is eager evaluation."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"After extracting the logic of lambda into a method, you can test the method and cover all boundary cases."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Use peek method to observe lambda intermediate values."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'Set<String> nationalities = album.getMusicians()\n    .filter(artist-> artist.getName().startsWith("The"))\n    .map(artist-> artist.getNationality())\n    .peek(nation-> System.out.println("Found nationality: "+nation))\n    .collect(Collectors.<String>toSet());\n'})}),"\n","\n",(0,r.jsx)(s.A,{})]})}function m(e={}){let{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);