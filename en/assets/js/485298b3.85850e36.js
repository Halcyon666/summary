"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([[5632],{5248:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(758);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}},8921:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Java/ProblemSummary/Java problems","title":"Java Related Problem Handling","description":"SpringBoot Related Issues","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/01-Java/03-ProblemSummary/Java problems.mdx","sourceDirName":"01-Java/03-ProblemSummary","slug":"/Java/ProblemSummary/Java problems","permalink":"/summary/en/Java/ProblemSummary/Java problems","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/i18n/en/docusaurus-plugin-content-docs/current/01-Java/03-ProblemSummary/Java problems.mdx","tags":[],"version":"current","lastUpdatedAt":1750494055000,"sidebarPosition":2,"frontMatter":{"title":"Java Related Problem Handling","sidebar_label":"Java Related Problem Handling","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Oracle\u76f8\u5173\u95ee\u9898\u5904\u7406","permalink":"/summary/en/Java/ProblemSummary/Oracle"},"next":{"title":"github\u76f8\u5173\u95ee\u9898\u5904\u7406","permalink":"/summary/en/Java/ProblemSummary/github problems"}}');var r=t(6070),s=t(5248);const o={title:"Java Related Problem Handling",sidebar_label:"Java Related Problem Handling",sidebar_position:2},a=void 0,l={},c=[{value:"SpringBoot Related Issues",id:"springboot-related-issues",level:2},{value:"SpringBoot startup error org.springframework.boot does not exist",id:"springboot-startup-error-orgspringframeworkboot-does-not-exist",level:3},{value:"Spring boot source code running SpringApplication error",id:"spring-boot-source-code-running-springapplication-error",level:3},{value:"gradle spring boot 3.0 import error",id:"gradle-spring-boot-30-import-error",level:3},{value:"logback related",id:"logback-related",level:3},{value:"mapstruct related",id:"mapstruct-related",level:3},{value:"maven related issues",id:"maven-related-issues",level:2},{value:"Handling Maven remote repository unable to download jar packages",id:"handling-maven-remote-repository-unable-to-download-jar-packages",level:3},{value:"Using Tomcat to start service dependency conflict issues",id:"using-tomcat-to-start-service-dependency-conflict-issues",level:2},{value:"after run the packaged jar occurs this unable to find main class",id:"after-run-the-packaged-jar-occurs-this-unable-to-find-main-class",level:3},{value:"mvnw clean occurs Some Enforcer rules have failed.",id:"mvnw-clean-occurs-some-enforcer-rules-have-failed",level:2},{value:"Mybatis related",id:"mybatis-related",level:2},{value:"SQL query null value encapsulation back to int type reports UncategorizedSQLException",id:"sql-query-null-value-encapsulation-back-to-int-type-reports-uncategorizedsqlexception",level:3},{value:"Mysql tinyint is problematic",id:"mysql-tinyint-is-problematic",level:3},{value:"MybatisPlus Invalid bound statement (not found) exception",id:"mybatisplus-invalid-bound-statement-not-found-exception",level:3},{value:"idea usage related",id:"idea-usage-related",level:2},{value:"idea terminal Chinese garbled characters issue",id:"idea-terminal-chinese-garbled-characters-issue",level:3},{value:"mojibake chinese characters in Resttemplate",id:"mojibake-chinese-characters-in-resttemplate",level:2},{value:"Others (difficult to categorize)",id:"others-difficult-to-categorize",level:2},{value:"jasper backend, if the print template needs too many dynamic areas, the previously encapsulated framework is not enough, what to do?",id:"jasper-backend-if-the-print-template-needs-too-many-dynamic-areas-the-previously-encapsulated-framework-is-not-enough-what-to-do",level:3},{value:"How to configure generating log files",id:"how-to-configure-generating-log-files",level:3},{value:"MockBean usage issues",id:"mockbean-usage-issues",level:3},{value:"lombok usage pitfalls",id:"lombok-usage-pitfalls",level:3},{value:"Dynamic data source issues",id:"dynamic-data-source-issues",level:3},{value:"override by no-compatible bean instance of type[com.sun.Proxy.$Proxy227",id:"override-by-no-compatible-bean-instance-of-typecomsunproxyproxy227",level:3},{value:"netty response speed issues",id:"netty-response-speed-issues",level:3},{value:"Shield logs in a certain method",id:"shield-logs-in-a-certain-method",level:3},{value:"Using mybatis-plus primary key auto-increment issues",id:"using-mybatis-plus-primary-key-auto-increment-issues",level:3},{value:"Problems that may be encountered when changing boolean to Boolean",id:"problems-that-may-be-encountered-when-changing-boolean-to-boolean",level:3},{value:"@Value default value can&#39;t be present on annotations @ConditionalOnExpression or @ConditionalOnProperty.",id:"value-default-value-cant-be-present-on-annotations-conditionalonexpression-or-conditionalonproperty",level:3},{value:"Hutool ExcelUtil, write type handling",id:"hutool-excelutil-write-type-handling",level:3},{value:"org.springframework.jdbc.UncategorizedSQLException",id:"orgspringframeworkjdbcuncategorizedsqlexception",level:3},{value:"fetch all the data once but not paginate.",id:"fetch-all-the-data-once-but-not-paginate",level:3},{value:"validated not work in groups",id:"validated-not-work-in-groups",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"springboot-related-issues",children:"SpringBoot Related Issues"}),"\n",(0,r.jsx)(n.h3,{id:"springboot-startup-error-orgspringframeworkboot-does-not-exist",children:"SpringBoot startup error org.springframework.boot does not exist"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsxs)(n.strong,{children:["It is recommended to use method 2 to enter ",(0,r.jsx)(n.code,{children:"mvn idea:idea"})," in the terminal. Method 1 will restart the SpringBoot project when running other Main method test classes in Spring Boot projects. If you also get from ApplicationContext, you will receive an error that the container has been closed."]})}),"\n",(0,r.jsx)(n.a,{href:"https://blog.csdn.net/qq_35456400/article/details/107190640",children:"See blog"})]}),"\n",(0,r.jsx)(n.h3,{id:"spring-boot-source-code-running-springapplication-error",children:"Spring boot source code running SpringApplication error"}),"\n",(0,r.jsxs)(n.p,{children:["Could not find artifact lifecycle-mapping:lifecycle-mapping:jar:sources:1.0.0\n",(0,r.jsx)(n.a,{href:"https://blog.csdn.net/awecoder/article/details/101159870",children:"See blog - now requires payment to view! Speechless"})]}),"\n",(0,r.jsx)(n.h3,{id:"gradle-spring-boot-30-import-error",children:"gradle spring boot 3.0 import error"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://stackoverflow.com/questions/69696321/intellij-invalid-source-release-17",children:"Invalid source release: 17"})}),"\n",(0,r.jsx)(n.p,{children:"Ensure that the gradle version JDK 17 and JDK version are correct."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://s2.loli.net/2023/07/28/UzsD4BnrPYSbo1T.png",alt:"image-20230728021351697"})}),"\n",(0,r.jsx)(n.h3,{id:"logback-related",children:"logback related"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Startup console log has no color"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Include in spring-logback.xml"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'    <include resource="org/springframework/boot/logging/logback/base.xml"/>\n    <logger name="org.springframework.web" level="INFO"/>\n    <logger name="org.springboot.sample" level="TRACE"/>\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"logback modify log print content"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Code: extends ThrowableHandlingConverter\nimpl convert method"}),"\n",(0,r.jsx)(n.p,{children:"logback configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<conversionRule convertionWord="someKeyMsg" convertClass="com.xxx.xxx.Xclass"/>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mapstruct-related",children:"mapstruct related"}),"\n",(0,r.jsx)(n.p,{children:"Always use unmappedTargetPolicy Error, which can avoid many problems."}),"\n",(0,r.jsx)(n.h2,{id:"maven-related-issues",children:"maven related issues"}),"\n",(0,r.jsx)(n.h3,{id:"handling-maven-remote-repository-unable-to-download-jar-packages",children:"Handling Maven remote repository unable to download jar packages"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.em,{children:["First go to ",(0,r.jsx)(n.a,{href:"https://mvnrepository.com/",children:"Maven Repository"})," to find the corresponding dependency and download it."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Go to the download directory and execute the following command, note to replace -DgroupId, -DartifactId, -Dversion, -Dfile"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mvn install:install-file -DgroupId=io.confluent -DartifactId=kafka-schema-registry-client -Dversion=4.1.0 -Dpackaging=jar  -Dfile=kafka-schema-registry-client-4.1.0.jar\n"})}),"\n",(0,r.jsx)(n.h2,{id:"using-tomcat-to-start-service-dependency-conflict-issues",children:"Using Tomcat to start service dependency conflict issues"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Solution: Check error information, find conflicting classes according to prompts, locate to corresponding jar (directly search class name, including no-project items)"}),"\n",(0,r.jsx)(n.li,{children:"Go to tomcat lib directory to check related jars; find jars in project imported dependencies."}),"\n",(0,r.jsx)(n.li,{children:"First determine whether the jar version matches the current project related things. If it matches, you can remove one side's jar package for testing. Generally can solve the problem"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"after-run-the-packaged-jar-occurs-this-unable-to-find-main-class",children:"after run the packaged jar occurs this unable to find main class"}),"\n",(0,r.jsx)(n.p,{children:"Method 1. Replace plugin"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"\x3c!--<plugin>\n\t\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\n\t\t\t\t<configuration>\n\t\t\t\t\t<mainClass>none</mainClass>     &lt;!&ndash; Cancel finding Main method in this project: to solve Unable to find main class problem &ndash;&gt;\n\t\t\t\t\t<classifier>execute</classifier>    &lt;!&ndash; To solve dependency modules cannot find classes or properties in this module &ndash;&gt;\n\t\t\t\t</configuration>\n\t\t\t\t<executions>\n\t\t\t\t\t<execution>\n\t\t\t\t\t\t<goals>\n\t\t\t\t\t\t\t<goal>repackage</goal>\n\t\t\t\t\t\t</goals>\n\t\t\t\t\t</execution>\n\t\t\t\t</executions>\n\t\t\t</plugin>--\x3e\n\t\t\t<plugin>\n\t\t\t\t<groupId>org.apache.maven.plugins</groupId>\n\t\t\t\t<artifactId>maven-source-plugin</artifactId>\n\t\t\t\t<version>3.0.1</version>\n\t\t\t\t<executions>\n\t\t\t\t\t<execution>\n\t\t\t\t\t\t<id>attach-sources</id>\n\t\t\t\t\t\t<goals>\n\t\t\t\t\t\t\t<goal>jar</goal>\n\t\t\t\t\t\t</goals>\n\t\t\t\t\t</execution>\n\t\t\t\t</executions>\n\t\t\t</plugin>\n"})}),"\n",(0,r.jsx)(n.p,{children:"Method 2: Remove spring-boot parent, then use spring boot plugin to package"}),"\n",(0,r.jsx)(n.h2,{id:"mvnw-clean-occurs-some-enforcer-rules-have-failed",children:"mvnw clean occurs Some Enforcer rules have failed."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-log",children:"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:1.4.1:enforce\n(enforce-versions) on project SIMI: Some Enforcer rules have failed. Look above for\nspecific messages explaining why the rule failed. -> [Help 1]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://stackoverflow.com/questions/45337558/failed-to-execute-goal-org-apache-maven-pluginsmaven-enforcer-plugin?newreg=4546ba2b3da24e02908324ea31452cb8",children:"not solved! stackoverflow  website"})}),"\n",(0,r.jsx)(n.p,{children:"To skip enforcer (not always working)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mvn clean install -Denforcer.skip=true\n"})}),"\n",(0,r.jsx)(n.p,{children:"To continue the build if error"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mvn clean install -Denforcer.fail=false\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"./mvnw clean install -DskipDistribution=true  -Denforcer.skip=true\n"})}),"\n",(0,r.jsx)(n.h2,{id:"mybatis-related",children:"Mybatis related"}),"\n",(0,r.jsx)(n.h3,{id:"sql-query-null-value-encapsulation-back-to-int-type-reports-uncategorizedsqlexception",children:"SQL query null value encapsulation back to int type reports UncategorizedSQLException"}),"\n",(0,r.jsx)(n.p,{children:"Change BO property from int to Integer type"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"rg.springframework.jdbc.UncategorizedSQLException: SqlMapClient operation; \nuncategorized SQLException for SQL []; SQL state [null]; error code [0];\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mysql-tinyint-is-problematic",children:"Mysql tinyint is problematic"}),"\n",(0,r.jsx)(n.p,{children:"mysql do not use field type tinyint, your updated 1 might become 49"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.huaweicloud.com/articles/11968406.html",children:"See blog"})}),"\n",(0,r.jsx)(n.h3,{id:"mybatisplus-invalid-bound-statement-not-found-exception",children:"MybatisPlus Invalid bound statement (not found) exception"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://baomidou.com/pages/f84a74/#%E5%87%BA%E7%8E%B0-invalid-bound-statement-not-found-%E5%BC%82%E5%B8%B8",children:"See article"})}),"\n",(0,r.jsx)(n.h2,{id:"idea-usage-related",children:"idea usage related"}),"\n",(0,r.jsx)(n.h3,{id:"idea-terminal-chinese-garbled-characters-issue",children:"idea terminal Chinese garbled characters issue"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://blog.csdn.net/xgw1010/article/details/108583796",children:"Reference article"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# solve idea terminal Chinese garbled\nexport LANG="zh_CN.UTF-8"\nexport LC_ALL="zh_CN.UTF-8"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mojibake-chinese-characters-in-resttemplate",children:"mojibake chinese characters in Resttemplate"}),"\n",(0,r.jsx)(n.p,{children:"When you use Spring Boot mvc, provide a api endpoint,"}),"\n",(0,r.jsx)(n.p,{children:"maybe confront mojibake chinese characters."}),"\n",(0,r.jsx)(n.p,{children:"It's not the problem of Spring Boot, but what the client you use."}),"\n",(0,r.jsx)(n.p,{children:"result form is below."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"server receive content-type"}),(0,r.jsx)(n.th,{children:"client Content-Type"}),(0,r.jsx)(n.th,{children:"client Accept-Charset"}),(0,r.jsx)(n.th,{children:"lib use"}),(0,r.jsx)(n.th,{children:"worked?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"application/json; charset=UTF-8"}),(0,r.jsx)(n.td,{children:"application/json"}),(0,r.jsx)(n.td,{children:"charset=UTF-8"}),(0,r.jsx)(n.td,{children:"RestTemplate"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"application/json; charset=UTF-8"}),(0,r.jsx)(n.td,{children:"application/json; charset=UTF-8"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"RestTemplate"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"application/json; charset=UTF-8"}),(0,r.jsx)(n.td,{children:"application/json"}),(0,r.jsx)(n.td,{children:"charset=UTF-8"}),(0,r.jsx)(n.td,{children:"HttpClient"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"application/json; charset=UTF-8"}),(0,r.jsx)(n.td,{children:"application/json; charset=UTF-8"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"HttpClient"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"text/plain; charset=UTF-8"}),(0,r.jsx)(n.td,{children:"application/json"}),(0,r.jsx)(n.td,{children:"charset=UTF-8"}),(0,r.jsx)(n.td,{children:"RestTemplate"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"No"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"text/plain; charset=UTF-8"}),(0,r.jsx)(n.td,{children:"application/json; charset=UTF-8"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"RestTemplate"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"text/plain; charset=UTF-8"}),(0,r.jsx)(n.td,{children:"application/json"}),(0,r.jsx)(n.td,{children:"charset=UTF-8"}),(0,r.jsx)(n.td,{children:"HttpClient"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"text/plain; charset=UTF-8"}),(0,r.jsx)(n.td,{children:"application/json; charset=UTF-8"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"HttpClient"}),(0,r.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["finally conclusion about the form , only when you use RestTemplate, and separately set the ",(0,r.jsx)(n.code,{children:"Content-Type"})]}),"\n",(0,r.jsxs)(n.p,{children:["and ",(0,r.jsx)(n.code,{children:"Accept-Charset"}),", the problem will occur."]}),"\n",(0,r.jsx)(n.p,{children:"thanks for your reading."}),"\n",(0,r.jsx)(n.p,{children:"If you have any problem, feel free to contact with me."}),"\n",(0,r.jsx)(n.h2,{id:"others-difficult-to-categorize",children:"Others (difficult to categorize)"}),"\n",(0,r.jsx)(n.h3,{id:"jasper-backend-if-the-print-template-needs-too-many-dynamic-areas-the-previously-encapsulated-framework-is-not-enough-what-to-do",children:"jasper backend, if the print template needs too many dynamic areas, the previously encapsulated framework is not enough, what to do?"}),"\n",(0,r.jsx)(n.p,{children:"At this time rewriting the framework might be too f**king annoying. Of course you can also find new versions of POI framework to see if there are corresponding extension points."}),"\n",(0,r.jsx)(n.p,{children:"This does not discuss the content of new POI framework; adopt the solution of only modifying jasper files:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The text box must be ",(0,r.jsx)(n.code,{children:"text field"}),", not ",(0,r.jsx)(n.code,{children:"static text"}),"\n",(0,r.jsx)(n.img,{src:"https://s2.loli.net/2023/07/15/NkCXDGsSVzqTUMm.png",alt:""})]}),"\n",(0,r.jsxs)(n.li,{children:["Write ternary expressions in the box, then check ",(0,r.jsx)(n.code,{children:"remove line when blank"})," and ",(0,r.jsx)(n.code,{children:"blank when null"}),"\n",(0,r.jsx)(n.img,{src:"https://s2.loli.net/2023/07/15/vK4etqMGoj2zh69.png",alt:""})]}),"\n",(0,r.jsxs)(n.li,{children:["Preview effect. Here is the effect of expression ",(0,r.jsx)(n.code,{children:'1==2?"a":null'}),"\n",(0,r.jsx)(n.img,{src:"https://s2.loli.net/2023/07/15/dMH1Velm5DrwOYg.png",alt:""})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"how-to-configure-generating-log-files",children:"How to configure generating log files"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:' \x3c!--Log file main directory: here ${user.home} is the current server user home directory--\x3e\n    <property name="LOG_HOME" value="log"/>\n\n\n    \x3c!--Configure log file (File)--\x3e\n    <appender name="rollingFile" class="ch.qos.logback.core.rolling.RollingFileAppender">\n        \x3c!--Set strategy--\x3e\n        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">\n            \x3c!--Log file path: here %d{yyyyMMdd} means classify logs by day--\x3e\n            <FileNamePattern>${LOG_HOME}/%d{yyyyMMdd}.%i.log</FileNamePattern>\n            <maxFileSize>30MB</maxFileSize>\n            \x3c!--<maxHistory>100</maxHistory>--\x3e\n            \x3c!--<totalSizeCap>5GB</totalSizeCap>--\x3e\n        </rollingPolicy>\n        \x3c!--Set format--\x3e\n        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">\n            \x3c!--Format output: %d represents date, %thread represents thread name, %-5level: level displays 5 character width from left %msg: log message, %n is newline--\x3e\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n            \x3c!-- Or use default configuration --\x3e\n            \x3c!--<pattern>${FILE_LOG_PATTERN}</pattern>--\x3e\n            <charset>utf8</charset>\n        </encoder>\n\n        \x3c!--Maximum size of log file--\x3e\n        \x3c!--<triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">--\x3e\n            \x3c!--<MaxFileSize>1KB</MaxFileSize>--\x3e\n        \x3c!--</triggeringPolicy>--\x3e\n    </appender>\n    <root level="info">\n        <appender-ref ref="rollingFile" />\n    </root>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mockbean-usage-issues",children:"MockBean usage issues"}),"\n",(0,r.jsx)(n.p,{children:"When using MockBean, String input parameter, int return value, when the input parameter is the actual called method, thenReturn is the expected value, otherwise when passing string it is always 0;"}),"\n",(0,r.jsx)(n.h3,{id:"lombok-usage-pitfalls",children:"lombok usage pitfalls"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"@Data"})," annotation generated ",(0,r.jsx)(n.code,{children:"getters"}),", ",(0,r.jsx)(n.code,{children:"setters"})," inconsistent with ",(0,r.jsx)(n.code,{children:"jackson-databind"})," causes object properties to have no values during deserialization."]}),"\n",(0,r.jsx)(n.h3,{id:"dynamic-data-source-issues",children:"Dynamic data source issues"}),"\n",(0,r.jsx)(n.p,{children:"If the operations used have transactions, the data source needs to be set before the Dao layer. Data source switching will be ineffective in Dao or service with dao in Mybatis-plus."}),"\n",(0,r.jsx)(n.h3,{id:"override-by-no-compatible-bean-instance-of-typecomsunproxyproxy227",children:"override by no-compatible bean instance of type[com.sun.Proxy.$Proxy227"}),"\n",(0,r.jsx)(n.p,{children:"Reason: JDK proxy and CGlib proxy mixed use issue"}),"\n",(0,r.jsx)(n.p,{children:"Solution: Inject interface, not a specific implementation class"}),"\n",(0,r.jsx)(n.h3,{id:"netty-response-speed-issues",children:"netty response speed issues"}),"\n",(0,r.jsxs)(n.p,{children:["When closing resources, ",(0,r.jsx)(n.code,{children:"group.shutdownGracefully().sync()"}),", remove ",(0,r.jsx)(n.code,{children:".sync()"})," call will not block."]}),"\n",(0,r.jsx)(n.h3,{id:"shield-logs-in-a-certain-method",children:"Shield logs in a certain method"}),"\n",(0,r.jsxs)(n.p,{children:["Configure ",(0,r.jsx)(n.code,{children:"logging.level.com.xxx.xx"}),", com.xxx.xx is the full class path name"]}),"\n",(0,r.jsx)(n.h3,{id:"using-mybatis-plus-primary-key-auto-increment-issues",children:"Using mybatis-plus primary key auto-increment issues"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"select SEQUENCE_NAME.nextval from dual;\ninsert into xxx() values (xx.nextval, #{tssnbr, jdbcType=CHAR})\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"notes:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Field case must be consistent"}),"\n",(0,r.jsx)(n.li,{children:"Fields should specify jdbcType"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"problems-that-may-be-encountered-when-changing-boolean-to-boolean",children:"Problems that may be encountered when changing boolean to Boolean"}),"\n",(0,r.jsx)(n.p,{children:"When optimizing code, when changing primitive types to wrapper types, if using Spring injection method, note that default values will change. boolean default value is false, wrapper class is null, may cause null pointer exception"}),"\n",(0,r.jsx)(n.p,{children:"boolean changed to Boolean value, some scenarios (netty not responding to requests) will have problems"}),"\n",(0,r.jsx)(n.p,{children:"Problem: boolean changed to Boolean value, some scenarios (netty not responding to requests) will have problems"}),"\n",(0,r.jsx)(n.p,{children:"Solution: Assign false value to Boolean class"}),"\n",(0,r.jsx)(n.h3,{id:"value-default-value-cant-be-present-on-annotations-conditionalonexpression-or-conditionalonproperty",children:"@Value default value can't be present on annotations @ConditionalOnExpression or @ConditionalOnProperty."}),"\n",(0,r.jsx)(n.p,{children:"Solution: Configure corresponding parameters in yml"}),"\n",(0,r.jsx)(n.h3,{id:"hutool-excelutil-write-type-handling",children:"Hutool ExcelUtil, write type handling"}),"\n",(0,r.jsxs)(n.p,{children:["When using ",(0,r.jsx)(n.code,{children:"cn.hutool.poi.excel.ExcelUtil"})," in Hutool, if you want to output what type to corresponding cells, you need to define corresponding content as corresponding type;"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Basic data types:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Java's ",(0,r.jsx)(n.code,{children:"int"}),", ",(0,r.jsx)(n.code,{children:"long"}),", ",(0,r.jsx)(n.code,{children:"float"}),", ",(0,r.jsx)(n.code,{children:"double"})," and other basic data types correspond to ",(0,r.jsx)(n.strong,{children:"number"})," type in Excel."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"String type:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Java's ",(0,r.jsx)(n.code,{children:"String"})," type corresponds to ",(0,r.jsx)(n.strong,{children:"text"})," type in Excel."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Date type:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Java's ",(0,r.jsx)(n.code,{children:"java.util.Date"})," type usually corresponds to ",(0,r.jsx)(n.strong,{children:"date"})," type in Excel."]}),"\n",(0,r.jsxs)(n.li,{children:["In Hutool, you can use ",(0,r.jsx)(n.code,{children:"DateTime"})," type, which is more flexible in handling dates and times."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Boolean type:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Java's ",(0,r.jsx)(n.code,{children:"boolean"})," type usually corresponds to ",(0,r.jsx)(n.strong,{children:"boolean"})," type in Excel."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Other special types:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Hutool provides some conversion methods, for example ",(0,r.jsx)(n.code,{children:"cn.hutool.core.convert.Convert.toStr(obj)"})," can convert objects to strings, then write to Excel."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"If using styles defined in templates, cell content can be used, but specific cell formats will be overridden."}),"\n",(0,r.jsx)(n.p,{children:"If Hutool's ExcelUtil is not sufficient, please use POI's native API."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"orgspringframeworkjdbcuncategorizedsqlexception",children:"org.springframework.jdbc.UncategorizedSQLException"}),"\n",(0,r.jsx)(n.p,{children:"Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n[Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: x.xx.x.insert\n(batch index #1) failed. Cause: java.sql.BatchUpdateException: The MySQL server is running with the --read-only\noption so it cannot execute this statement; uncategorized SQLException; SQL state [HY000]; error code [1290];\nThe MySQL server is running with the --read-only option so it cannot execute this statement; nested exception\nis java.sql.BatchUpdateException:"}),"\n",(0,r.jsx)(n.p,{children:"solution:"}),"\n",(0,r.jsx)(n.p,{children:"the error configuration, the url miss connect port, mislead phonomenone sometimes maybe right, sometimes occurs error above."}),"\n",(0,r.jsx)(n.h3,{id:"fetch-all-the-data-once-but-not-paginate",children:"fetch all the data once but not paginate."}),"\n",(0,r.jsx)(n.p,{children:"the relative code below,"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"import com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.util.List;\n\n@Service\npublic class DataMigrationService {\n   @Autowired\n   private SourceEntityMapper sourceEntityMapper;\n   @Autowired\n   private TargetEntityMapper targetEntityMapper;\n   public void migrateData() {\n       int pageSize = 100;  // Adjust the page size according to your needs\n       int currentPage = 1;\n       while (true) {\n           // Fetch data from the source database in chunks using MyBatis Plus\n           List<SourceEntity> sourceEntities = sourceEntityMapper.selectPage(\n                   new Page<>(currentPage, pageSize),\n                   new QueryWrapper<>()\n           ).getRecords();\n\n           if (sourceEntities.isEmpty()) {\n               break;  // No more data to fetch\n           }\n           // Process and insert data into the target database\n           processAndInsertData(sourceEntities);\n           currentPage++;\n       }\n   }\n\n   private void processAndInsertData(List<SourceEntity> sourceEntities) {\n       List<TargetEntity> targetEntities = convertToTargetEntities(sourceEntities);\n       // Batch insert into the target database using MyBatis Plus\n       targetEntityMapper.insertBatchSomeColumn(targetEntities);\n   }\n\n\n\n   private List<TargetEntity> convertToTargetEntities(List<SourceEntity> sourceEntities) {\n       // Implement logic to convert SourceEntity to TargetEntity\n       // ...\n       return targetEntities;\n   }\n\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"solution:"}),"\n",(0,r.jsx)(n.p,{children:"when you want migrate the data paginate and you need config this bean."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@Bean\npublic MybatisPlusInterceptor mybatisPlusInterceptor() {\n   MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\n   interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.ORACLE));\n   return interceptor;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"validated-not-work-in-groups",children:"validated not work in groups"}),"\n",(0,r.jsx)(n.p,{children:"solution"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"write check annotation in entity"}),"\n",(0,r.jsx)(n.li,{children:"write @Validated(Group1.class)"}),"\n",(0,r.jsx)(n.li,{children:"write @Valid before the parameter which you wanna check"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Do not use one more check in one class"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);