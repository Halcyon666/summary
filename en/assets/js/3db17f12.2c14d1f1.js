"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["4572"],{65781(e,n,t){t.r(n),t.d(n,{metadata:()=>s,default:()=>u,frontMatter:()=>r,contentTitle:()=>l,toc:()=>d,assets:()=>c});var s=JSON.parse('{"id":"Frontend/Vue/vue3-starter","title":"Vue3 Starter","description":"1. SPA (Single Page Application): - Applicable Scenario: Suitable for applications requiring high interactivity and real-time performance, such as Web applications, management backends, social media platforms, etc. - Advantage: User experience is closer to traditional desktop applications, allowing for more flexible implementation of complex interaction logic.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/Frontend/Vue/vue3-starter.mdx","sourceDirName":"Frontend/Vue","slug":"/Frontend/Vue/vue3-starter","permalink":"/en/Frontend/Vue/vue3-starter","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/Frontend/Vue/vue3-starter.mdx","tags":[{"inline":true,"label":"frontend","permalink":"/en/tags/frontend"},{"inline":true,"label":"javascript","permalink":"/en/tags/javascript"},{"inline":true,"label":"react","permalink":"/en/tags/react"}],"version":"current","lastUpdatedBy":"halcyon666","lastUpdatedAt":1769299200000,"sidebarPosition":10,"frontMatter":{"id":"vue3-starter","title":"Vue3 Starter","sidebar_label":"Vue3 Starter","sidebar_position":10,"description":"1. SPA (Single Page Application): - Applicable Scenario: Suitable for applications requiring high interactivity and real-time performance, such as Web applications, management backends, social media platforms, etc. - Advantage: User experience is closer to traditional desktop applications, allowing for more flexible implementation of complex interaction logic.","tags":["frontend","javascript","react"],"last_update":{"date":"2026-01-25","author":"halcyon666"},"sources":null,"references":["vue-grammer-one","vue-grammer-two","vue-project-notes","vue-route"]},"sidebar":"tutorialSidebar","previous":{"title":"Using Vue Route","permalink":"/en/Frontend/Vue/vue-route"},"next":{"title":"CSS Related Knowledge","permalink":"/en/Frontend/Styling/css"}}'),a=t(62615),i=t(77545),o=t(4040);let r={id:"vue3-starter",title:"Vue3 Starter",sidebar_label:"Vue3 Starter",sidebar_position:10,description:"1. SPA (Single Page Application): - Applicable Scenario: Suitable for applications requiring high interactivity and real-time performance, such as Web applications, management backends, social media platforms, etc. - Advantage: User experience is closer to traditional desktop applications, allowing for more flexible implementation of complex interaction logic.",tags:["frontend","javascript","react"],last_update:{date:"2026-01-25",author:"halcyon666"},sources:null,references:["vue-grammer-one","vue-grammer-two","vue-project-notes","vue-route"]},l,c={},d=[{value:"Frontend Engineering",id:"frontend-engineering",level:2},{value:"<code>SPA</code>, <code>SSR</code> and <code>SSG</code> (Deployment Rendering Methods)",id:"spa-ssr-and-ssg-deployment-rendering-methods",level:4},{value:"nvm Installation and Usage",id:"nvm-installation-and-usage",level:4},{value:"babel",id:"babel",level:4},{value:"Single File Component",id:"single-file-component",level:2},{value:"Reactive API: reactive",id:"reactive-api-reactive",level:3},{value:"Reactive API: toRef and toRefs",id:"reactive-api-toref-and-torefs",level:3},{value:"toRef",id:"toref",level:4},{value:"toRefs",id:"torefs",level:4},{value:"Watch",id:"watch",level:3},{value:"Deep watch for reactive and ref?",id:"deep-watch-for-reactive-and-ref",level:4},{value:"Unmount and Clean up Watch",id:"unmount-and-clean-up-watch",level:4},{value:"watchEffect watching multiple data",id:"watcheffect-watching-multiple-data",level:4},{value:"Difference between <code>watchEffect</code> and <code>watch</code>",id:"difference-between-watcheffect-and-watch",level:4},{value:"style module",id:"style-module",level:3},{value:"Pinia State Management",id:"pinia-state-management",level:2},{value:"pinia <code>storeToRefs</code> returns reactive data",id:"pinia-storetorefs-returns-reactive-data",level:3},{value:"toRef",id:"toref-1",level:3},{value:"Equivalent Type Declaration",id:"equivalent-type-declaration",level:3},{value:"pinia modifies multiple parameters simultaneously",id:"pinia-modifies-multiple-parameters-simultaneously",level:3},{value:"pinia passes in a function",id:"pinia-passes-in-a-function",level:3},{value:"pinia resets state",id:"pinia-resets-state",level:3},{value:"Efficient Development",id:"efficient-development",level:2},{value:"script-setup",id:"script-setup",level:3},{value:"defineProps",id:"defineprops",level:3},{value:"defineEmits",id:"defineemits",level:3},{value:"Change in picking method of attrs",id:"change-in-picking-method-of-attrs",level:3},{value:"Parent component uses child component data",id:"parent-component-uses-child-component-data",level:3},{value:"Naming Convention Description",id:"naming-convention-description",level:3}];function p(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"frontend-engineering",children:"Frontend Engineering"}),"\n",(0,a.jsxs)(n.h4,{id:"spa-ssr-and-ssg-deployment-rendering-methods",children:[(0,a.jsx)(n.code,{children:"SPA"}),", ",(0,a.jsx)(n.code,{children:"SSR"})," and ",(0,a.jsx)(n.code,{children:"SSG"})," (Deployment Rendering Methods)"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SPA (Single Page Application)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Applicable Scenario"}),": Suitable for applications requiring high interactivity and real-time performance, such as Web applications, management backends, social media platforms, etc."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Advantage"}),": User experience is closer to traditional desktop applications, allowing for more flexible implementation of complex interaction logic."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Note"}),": Initial load may be slower, support for SEO is relatively poor."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SSR (Server-Side Rendering)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Applicable Scenario"}),": Suitable for applications requiring better Search Engine Optimization (SEO) and faster initial load speeds, such as blogs, news websites, etc."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Advantage"}),": Provides better SEO, speeds up the initial load of the page."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Note"}),": Server-side rendering usually requires more server resources, so the cost may be higher."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SSG (Static Site Generation)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Applicable Scenario"}),": Suitable for sites with relatively fixed content, infrequent changes, and mainly display content, such as corporate official websites, blogs, documentation websites, etc."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Advantage"}),": Provides very fast loading speeds, suitable for sites that do not need real-time content updates."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Note"}),": Not suitable for applications requiring real-time data or dynamic content."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"nvm-installation-and-usage",children:"nvm Installation and Usage"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://zhuanlan.zhihu.com/p/608604094",children:"Original Address"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/coreybutler/nvm-windows/releases",children:"download"})}),"\n",(0,a.jsx)(n.p,{children:"Configuration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tex",children:"root: D:\\software\\nvm\npath: D:\\software\\nodejs\n\nnode_mirror: https://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-powershell",children:"nvm list available\nnvm install 20.8.0\nnvm list\nnvm use 20.8.0\n\nnvm off                     # Disable node.js version management (does not uninstall anything)\nnvm on                      # Enable node.js version management\nnvm install <version>       # Command to install node.js, version is the version number, example: nvm install 8.12.0\nnvm uninstall <version>     # Command to uninstall node.js, uninstall specified version of nodejs, use when installation fails\n# Use when uninstall\nnvm ls                      # Show all installed node.js versions\nnvm list available          # Show all available node.js versions for installation\nnvm use <version>           # Switch to use specified nodejs version\nnvm v                       # Show nvm version\nnvm install stable          # Install latest stable version\n"})}),"\n",(0,a.jsx)(n.h4,{id:"babel",children:"babel"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://www.ruanyifeng.com/blog/2016/01/babel.html",children:"Original Address"})}),"\n",(0,a.jsx)(n.h2,{id:"single-file-component",children:"Single File Component"}),"\n",(0,a.jsx)(n.h3,{id:"reactive-api-reactive",children:"Reactive API: reactive"}),"\n",(0,a.jsxs)(n.p,{children:["Compared to ",(0,a.jsx)(n.code,{children:"ref"}),", its limitation is that it is only suitable for objects and arrays."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"const uids: number[] = reactive([1, 2, 3])\n\n/**\n * Recommended to use this way, will not break reactivity\n */\nuids.length = 0\n\n//Break reactivity\n// uids = []\n\n// After asynchronous data acquisition, template can display correctly\nsetTimeout(() => {\n  uids.push(1)\n}, 1000)\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Do not perform ",(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment",children:"ES6 Destructuring"})," operations on Reactive data, because the variables obtained after destructuring will lose reactivity."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"import { defineComponent, reactive } from 'vue'\n\ninterface Member {\n  id: number\n  name: string\n}\n\nexport default defineComponent({\n  setup() {\n    // Define an object with reactivity\n    const userInfo: Member = reactive({\n      id: 1,\n      name: 'Petter',\n    })\n\n    // Update `userInfo` after 2s\n    setTimeout(() => {\n      userInfo.name = 'Tom'\n    }, 2000)\n\n    // This variable will not update synchronously after 2s\n    const newUserInfo: Member = { ...userInfo }\n\n    // This variable will not update synchronously after 2s\n    const { name } = userInfo\n\n    // Return like this for template use, will not update synchronously after 2s\n    return {\n      ...userInfo,\n    }\n  },\n})\n"})}),"\n",(0,a.jsx)(n.h3,{id:"reactive-api-toref-and-torefs",children:"Reactive API: toRef and toRefs"}),"\n",(0,a.jsx)(n.h4,{id:"toref",children:"toRef"}),"\n",(0,a.jsxs)(n.p,{children:["Vue 3 also launched two related APIs: ",(0,a.jsx)(n.code,{children:"toRef"})," and ",(0,a.jsx)(n.code,{children:"toRefs"}),", both for converting ",(0,a.jsx)(n.code,{children:"reactive"})," to ",(0,a.jsx)(n.code,{children:"ref"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"const name = toRef(userInfo, 'name')\nconsole.log(name.value) // Petter\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"interface Member {\n  id: number\n  name: string\n  // Add a new property to type, because it is optional, default value will be `undefined`\n  age?: number\n}\n\n// Omit `age` property when declaring variables\nconst userInfo: Member = reactive({\n  id: 1,\n  name: 'Petter',\n})\n\n// To avoid program runtime errors, can specify an initial value\n// But initial value is only valid for Ref variable, will not affect Reactive field value\nconst age = toRef(userInfo, 'age', 18)\nconsole.log(age.value)  // 18\nconsole.log(userInfo.age) // undefined\n\n// Unless re-assigned, both will update simultaneously\nage.value = 25\nconsole.log(age.value)  // 25\nconsole.log(userInfo.age) // 25\n"})}),"\n",(0,a.jsx)(n.h4,{id:"torefs",children:"toRefs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"interface Member {\n  id: number\n  name: string\n}\n\n// Declare a Reactive variable\nconst userInfo: Member = reactive({\n  id: 1,\n  name: 'Petter',\n})\n\n// Pass to `toRefs` as argument\nconst userInfoRefs = toRefs(userInfo)\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// Import `toRefs` API type\nimport type { ToRefs } from 'vue'\n\n// Context code omitted...\n\n// Pass original type to API type\nconst userInfoRefs: ToRefs<Member> = toRefs(userInfo)\n"})}),"\n",(0,a.jsx)(n.p,{children:"or"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// Import `ref` API type\nimport type { Ref } from 'vue'\n\n// Context code omitted...\n\n// Each field of newly declared type is a type of Ref variable\ninterface MemberRefs {\n  id: Ref<number>\n  name: Ref<string>\n}\n\n// Declare using new type\nconst userInfoRefs: MemberRefs = toRefs(userInfo)\n"})}),"\n",(0,a.jsx)(n.p,{children:"Do not directly destructure reactive objects, can verify first convert to ref object then destructure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// To improve development efficiency, can directly destructure Ref variable for use\nconst { name } = toRefs(userInfo)\nconsole.log(name.value) // Petter\n\n// Re-assign destructured variable, original variable can also update synchronously\nname.value = 'Tom'\nconsole.log(name.value) // Tom\nconsole.log(userInfo.name) // Tom\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Although ",(0,a.jsx)(n.code,{children:"ref"})," API is convenient to use in ",(0,a.jsx)(n.code,{children:"<template />"}),", when reading / assigning in ",(0,a.jsx)(n.code,{children:"<script />"}),", must always remember to add ",(0,a.jsx)(n.code,{children:".value"}),", otherwise BUG is coming."]}),"\n",(0,a.jsxs)(n.p,{children:["Although ",(0,a.jsx)(n.code,{children:"reactive"})," API is used, because knowing it is an object itself, so will not forget to operate through formats like ",(0,a.jsx)(n.code,{children:"foo.bar"}),", but when rendering in ",(0,a.jsx)(n.code,{children:"<template />"}),", have to use ",(0,a.jsx)(n.code,{children:"foo.bar"})," format every time."]}),"\n",(0,a.jsxs)(n.p,{children:["Since what ",(0,a.jsx)(n.code,{children:"return"})," out are all Ref variables, so in template can directly use ",(0,a.jsx)(n.code,{children:"key"})," of each field of ",(0,a.jsx)(n.code,{children:"userInfo"}),", no longer need to write long ",(0,a.jsx)(n.code,{children:"userInfo.name"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-vue",children:'<template>\n  <ul class="user-info">\n    <li class="item">\n      <span class="key">ID:</span>\n      <span class="value">{{ id }}</span>\n    </li>\n\n    <li class="item">\n      <span class="key">name:</span>\n      <span class="value">{{ name }}</span>\n    </li>\n\n    <li class="item">\n      <span class="key">age:</span>\n      <span class="value">{{ age }}</span>\n    </li>\n\n    <li class="item">\n      <span class="key">gender:</span>\n      <span class="value">{{ gender }}</span>\n    </li>\n  </ul>\n</template>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Which one will take effect in ",(0,a.jsx)(n.code,{children:"{<template />}"})," depends on which one is behind, because what is ",(0,a.jsx)(n.code,{children:"return"}),"ed is actually an object, in object, if there is same ",(0,a.jsx)(n.code,{children:"key"}),", the latter will cover the former."]}),"\n",(0,a.jsxs)(n.p,{children:["In the following case, separate ",(0,a.jsx)(n.code,{children:"name"})," will be used as rendering data:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"return {\n  ...userInfoRefs,\n  name,\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"watch",children:"Watch"}),"\n",(0,a.jsxs)(n.p,{children:["Cannot use arrow function to define Watcher function (e.g. ",(0,a.jsx)(n.code,{children:"searchQuery: newValue => this.updateAutocomplete(newValue)"}),")."]}),"\n",(0,a.jsxs)(n.p,{children:["Because arrow function binds context of parent scope, so ",(0,a.jsx)(n.code,{children:"this"})," will not point to component instance as expected, ",(0,a.jsx)(n.code,{children:"this.updateAutocomplete"})," will be ",(0,a.jsx)(n.code,{children:"undefined"}),"."]}),"\n",(0,a.jsx)(n.h4,{id:"deep-watch-for-reactive-and-ref",children:"Deep watch for reactive and ref?"}),"\n",(0,a.jsx)(n.p,{children:"Default reactive will enable deep watch, default ref will not enable deep watch"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// Import isReactive API\nimport { defineComponent, isReactive, reactive, ref } from 'vue'\n\nexport default defineComponent({\n  setup() {\n    // When watching this data, deep watch will be enabled by default\n    const foo = reactive({\n      name: 'Petter',\n      age: 18,\n    })\n    console.log(isReactive(foo)) // true\n\n    // When watching this data, deep watch will not be enabled by default\n    const bar = ref({\n      name: 'Petter',\n      age: 18,\n    })\n    console.log(isReactive(bar)) // false\n  },\n})\n"})}),"\n",(0,a.jsx)(n.h4,{id:"unmount-and-clean-up-watch",children:"Unmount and Clean up Watch"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"let unwatch: WatchStopHandle\nunwatch = watch(\n  message,\n  (newValue, oldValue, onCleanup) => {\n    // Register cleanup behavior before stopping watch\n    onCleanup(() => {\n      console.log('Watch cleaning up')\n      // Define some cleanup operations according to actual business situation ...\n    })\n    // Then stop watch\n    if (typeof unwatch === 'function') {\n      unwatch()\n    }\n  },\n  {\n    immediate: true,\n  }\n)\n"})}),"\n",(0,a.jsx)(n.h4,{id:"watcheffect-watching-multiple-data",children:"watchEffect watching multiple data"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"<script setup>\nimport { ref, watchEffect } from 'vue';\n\n// Define two data separately, used to change values separately later\nconst name = ref<string>('Petter');\nconst age = ref<number>(18);\n\n// Define a function calling these two data\nconst getUserInfo = (): void => {\n  console.log({\n    name: name.value,\n    age: age.value,\n  });\n};\n\n// Use watchEffect to directly watch calling function, it will automatically execute when each data changes\nwatchEffect(getUserInfo);\n\n// Change first data after 2s\nsetTimeout(() => {\n  name.value = 'Tom';\n}, 2000);\n\n// Change second data after 4s\nsetTimeout(() => {\n  age.value = 20;\n}, 4000);\n<\/script>\n\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"difference-between-watcheffect-and-watch",children:["Difference between ",(0,a.jsx)(n.code,{children:"watchEffect"})," and ",(0,a.jsx)(n.code,{children:"watch"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"watchEffect"})," is a simplified operation of ",(0,a.jsx)(n.code,{children:"watch"}),", can be used to replace ",(0,a.jsx)(n.a,{href:"https://vue3.chengpeiquan.com/component.html#%E6%89%B9%E9%87%8F%E4%BE%A6%E5%90%AC",children:"batch watch"}),", but they also have certain differences:"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"watch"})," can access values before and after watch state change, while ",(0,a.jsx)(n.code,{children:"watchEffect"})," cannot."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"watch"})," executes only when attribute changes, while ",(0,a.jsx)(n.code,{children:"watchEffect"})," defaults to execute once, and then executes when attribute changes."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"style-module",children:"style module"}),"\n",(0,a.jsx)(n.p,{children:"Use v-html to bind css styles"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-vue",children:'<template>\n  <div v-html="content"></div>\n</template>\n\n<script lang="ts">\nimport { defineComponent, useCssModule } from \'vue\'\n\nexport default defineComponent({\n  setup() {\n    // Get style\n    const style = useCssModule(\'classes\')\n\n    // Write template content\n    const content = `<p class="${style.msg}">\n      <span class="${style.text}">Hello World! \u2014\u2014 from v-html</span>\n    </p>`\n\n    return {\n      content,\n    }\n  },\n})\n<\/script>\n\n<style module="classes">\n.msg {\n  color: #ff0000;\n}\n.text {\n  font-size: 14px;\n}\n</style>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"pinia-state-management",children:"Pinia State Management"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://s2.loli.net/2023/12/16/POrZGAFyiBmMVKa.png",alt:"image-20231216215448617"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://vue3.chengpeiquan.com/pinia.html",children:"Original Address"}),"\nVue3 Starter Guide and Practical Cases"]}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"pinia-storetorefs-returns-reactive-data",children:["pinia ",(0,a.jsx)(n.code,{children:"storeToRefs"})," returns reactive data"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"import { defineComponent } from 'vue'\nimport { useStore } from '@/stores'\n\n// Remember to import this API\nimport { storeToRefs } from 'pinia'\n\nexport default defineComponent({\n  setup() {\n    const store = useStore()\n\n    // Get reactive message through storeToRefs\n    const { message } = storeToRefs(store)\n    console.log('message', message.value)\n\n    return {\n      message,\n    }\n  },\n})\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// Assignments directly\nmessage.value = 'New Message.'\n\n// Data on store has successfully become New Message.\nconsole.log(store.message)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"toref-1",children:"toRef"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// Note toRef is vue API, not Pinia\nimport { defineComponent, toRef } from 'vue'\nimport { useStore } from '@/stores'\n\nexport default defineComponent({\n  setup() {\n    const store = useStore()\n\n    // Follow usage of toRef\n    const message = toRef(store, 'message')\n    console.log('message', message.value)\n\n    return {\n      message,\n    }\n  },\n})\n"})}),"\n",(0,a.jsx)(n.h3,{id:"equivalent-type-declaration",children:"Equivalent Type Declaration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"const imageListD = ref([] as ImageData[]);\nconst imageListD = ref<ImageData[]>([]);\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"pinia-modifies-multiple-parameters-simultaneously",children:"pinia modifies multiple parameters simultaneously"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'// Continue using previous data, print value before modification here\nconsole.log(JSON.stringify(store.$state))\n// Output {"message":"Hello World","randomMessages":[]}\n\n/**\n * Note here, passed in an object\n */\nstore.$patch({\n  message: \'New Message\',\n  randomMessages: [\'msg1\', \'msg2\', \'msg3\'],\n})\n\n// Print value after modification here\nconsole.log(JSON.stringify(store.$state))\n// Output {"message":"New Message","randomMessages":["msg1","msg2","msg3"]}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"pinia-passes-in-a-function",children:"pinia passes in a function"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'// Print value before modification here\nconsole.log(JSON.stringify(store.$state))\n// Output {"message":"Hello World","randomMessages":[]}\n\n/**\n * Note here, this time passed in a function\n */\nstore.$patch((state) => {\n  state.message = \'New Message\'\n\n  // Push to array instead of re-assigning\n  for (let i = 0; i < 3; i++) {\n    state.randomMessages.push(`msg${i + 1}`)\n  }\n})\n\n// Print value after modification here\nconsole.log(JSON.stringify(store.$state))\n// Output {"message":"New Message","randomMessages":["msg1","msg2","msg3"]}\n'})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["When using this way, same as ",(0,a.jsx)(n.a,{href:"https://vue3.chengpeiquan.com/pinia.html#%E4%BC%A0%E5%85%A5%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1",children:"passing in an object"})," can only modify defined data, and also need to note, passed function can only be synchronous function, cannot be asynchronous function!"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"pinia-resets-state",children:"pinia resets state"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// This store is the instance defined above\nstore.$reset()\n"})}),"\n",(0,a.jsx)(n.h2,{id:"efficient-development",children:"Efficient Development"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://s2.loli.net/2023/12/16/keKYhV5nwWjXsMF.png",alt:"image-20231216223025032"})}),"\n",(0,a.jsx)(n.h3,{id:"script-setup",children:"script-setup"}),"\n",(0,a.jsxs)(n.p,{children:["In Vue 3 Composition API writing, if data or function needs to be used in ",(0,a.jsx)(n.code,{children:"<template />"}),", must ",(0,a.jsx)(n.code,{children:"return"})," it in ",(0,a.jsx)(n.code,{children:"setup"}),". Data or function only called in ",(0,a.jsx)(n.code,{children:"<script />"}),", no need to render to template, no need ",(0,a.jsx)(n.code,{children:"return"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["script-setup is introduced to let developers familiar with Vue 3 develop components more efficiently, reduce mental burden during coding, just add a ",(0,a.jsx)(n.code,{children:"setup"})," attribute to ",(0,a.jsx)(n.code,{children:"<script />"})," tag, then the whole ",(0,a.jsx)(n.code,{children:"<script />"})," will directly become setup function, all top-level variables, functions will be automatically exposed to template (no need to return one by one)."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["So why Vue 3 abandon ",(0,a.jsx)(n.code,{children:"Object.defineProperty"}),", switch to ",(0,a.jsx)(n.code,{children:"Proxy"})]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Cannot watch array index changes, operations like ",(0,a.jsx)(n.code,{children:"arr[i] = newValue"})," cannot respond in real time"]}),"\n",(0,a.jsxs)(n.li,{children:["Cannot watch array length changes, e.g. modify array length via ",(0,a.jsx)(n.code,{children:"arr.length = 10"}),", cannot respond"]}),"\n",(0,a.jsx)(n.li,{children:"Can only watch object properties, need to traverse for entire object, especially multi-level object needs deep watch via nesting"}),"\n",(0,a.jsxs)(n.li,{children:["Use ",(0,a.jsx)(n.code,{children:"Object.assign()"})," etc. to add new properties to object, will not trigger update"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"defineprops",children:"defineProps"}),"\n",(0,a.jsxs)(n.p,{children:["If want to set data as optional, also follow TS specification, allow optional via English question mark ",(0,a.jsx)(n.code,{children:"?"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"defineProps({\n  name: {\n    type: String,\n    required: false,\n    default: 'Petter',\n  },\n  userInfo: Object,\n  tags: Array,\n})\n"})}),"\n",(0,a.jsx)(n.h3,{id:"defineemits",children:"defineEmits"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// Get emit\nconst emit = defineEmits(['update-name'])\n\n// Call emit\nemit('update-name', 'Tom')\n"})}),"\n",(0,a.jsx)(n.h3,{id:"change-in-picking-method-of-attrs",children:"Change in picking method of attrs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"import { useAttrs } from 'vue'\n\n// Get attrs\nconst attrs = useAttrs()\n\n// attrs is an object, same as props, need to get corresponding single attr via `key`\nconsole.log(attrs.msg)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"parent-component-uses-child-component-data",children:"Parent component uses child component data"}),"\n",(0,a.jsx)(n.p,{children:"In script-setup mode, if want to call child component data, need to explicitly expose in child component first, then can get correctly, this operation is completed by defineExpose API."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"<script setup lang=\"ts\">\nconst msg = 'Hello World!'\n\n// Data explicitly exposed via this API can be obtained in parent component\ndefineExpose({\n  msg,\n})\n<\/script>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"naming-convention-description",children:"Naming Convention Description"}),"\n",(0,a.jsx)(n.p,{children:"Page name, ts kebab-case naming"}),"\n",(0,a.jsx)(n.p,{children:"Component PascalCase naming, i.e. Big Camel Case"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://s2.loli.net/2023/12/16/UXMxtR7eQ3EFzqs.png",alt:"image-20231216230639470"})}),"\n",(0,a.jsx)(n.p,{children:"Variable naming small camel case"}),"\n","\n",(0,a.jsx)(o.A,{})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}}}]);