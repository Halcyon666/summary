"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["2339"],{90504(e,n,t){t.r(n),t.d(n,{metadata:()=>i,default:()=>g,frontMatter:()=>c,contentTitle:()=>l,toc:()=>m,assets:()=>d});var i=JSON.parse('{"id":"tools/Development/git-commands","title":"Git Commands","description":"Comprehensive Git command reference: config, log, diff, rebase, merge, stash","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/tools/Development/git-commands.mdx","sourceDirName":"tools/Development","slug":"/tools/Development/git-commands","permalink":"/en/tools/Development/git-commands","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/tools/Development/git-commands.mdx","tags":[{"inline":true,"label":"development","permalink":"/en/tags/development"},{"inline":true,"label":"tools","permalink":"/en/tags/tools"}],"version":"current","lastUpdatedBy":"halcyon666","lastUpdatedAt":1769299200000,"sidebarPosition":1,"frontMatter":{"id":"git-commands","title":"Git Commands","sidebar_label":"Git Commands","sidebar_position":1,"description":"Comprehensive Git command reference: config, log, diff, rebase, merge, stash","tags":["development","tools"],"last_update":{"date":"2026-01-25","author":"halcyon666"},"sources":["develop-software-tips"]},"sidebar":"tutorialSidebar","previous":{"title":"\u{1F4BB} Development Tools","permalink":"/en/category/-development-tools"},"next":{"title":"Common Development Software","permalink":"/en/tools/Development/develop-software-tips"}}'),r=t(62615),s=t(77545),a=t(49752),o=t(4040);let c={id:"git-commands",title:"Git Commands",sidebar_label:"Git Commands",sidebar_position:1,description:"Comprehensive Git command reference: config, log, diff, rebase, merge, stash",tags:["development","tools"],last_update:{date:"2026-01-25",author:"halcyon666"},sources:["develop-software-tips"]},l="Git Commands",d={},m=[{value:"Configuration Commands",id:"configuration-commands",level:2},{value:"Configure Global .gitignore",id:"configure-global-gitignore",level:2},{value:"View Commands",id:"view-commands",level:2},{value:"Undo Commands",id:"undo-commands",level:2},{value:"Create or Delete Commands",id:"create-or-delete-commands",level:2},{value:"Merge Commands",id:"merge-commands",level:2},{value:"Stash Commands",id:"stash-commands",level:2},{value:"Commit Commands",id:"commit-commands",level:2},{value:"Tag Commands",id:"tag-commands",level:2},{value:"Update Commands",id:"update-commands",level:2},{value:"How to sync Github Fork repository",id:"how-to-sync-github-fork-repository",level:2},{value:"Principle Issues",id:"principle-issues",level:2},{value:"Problem Records",id:"problem-records",level:2},{value:"Cannot exit <code>git rebase -i</code> in PS Terminal in IDEA",id:"cannot-exit-git-rebase--i-in-ps-terminal-in-idea",level:3}];function h(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"git-commands",children:"Git Commands"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration-commands",children:"Configuration Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'ssh-keygen\ngit config --global user.name "whalefall541"\ngit config --global user.email "jackchen541@sina.com"\ngit config --global alias.ll "log --graph --pretty=format:\'%C(yellow)%h%Creset -%C(cyan)%d%Creset %s %Cgreen(%an, %cr)\' --abbrev-commit"\ngit config --global alias.a \'!git add -A && git commit -m\'\n'})}),"\n",(0,r.jsx)(n.h2,{id:"configure-global-gitignore",children:"Configure Global .gitignore"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Better to use absolute path here, sometimes relative path might not work\ngit config --global core.excludesfile D:/project/.gitignore \n\n# .gitignore can only ignore files that are not tracked. If files are already tracked, modifying .gitignore is invalid.\n# Solution is to remove local cache first (change to untracked status), then commit:\n\ngit rm -r --cached .\ngit add .\n"})}),"\n",(0,r.jsx)(n.h2,{id:"view-commands",children:"View Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# View log\ngit log --graph --pretty=format:'%C(yellow)%h%Creset -%C(cyan)%d%Creset %s %Cgreen(%an, %cr)' --abbrev-commit\n# View content of a commit\ngit show <commit-id>\n# View reference log\ngit reflog\n# View file difference\ngit diff filename\n\n# View difference of added but uncommitted files\ngit diff --staged\ngit diff --cached\n# Only view modification statistics\ngit diff --stat branch1 branch2\n\n# View difference of a file between two commits. First one is start hash, one earlier than current view.\ngit diff <commit> <commit> xxx.java\n# View specific difference between two branches\ngit diff dev st \n\n\n# Diff all modified file contents at once, can also redirect to a file\ngit status | awk -F \"modified:\" '{if($2 != \"\") print $2}' | xargs git diff\n\n# View committed but not pushed records\ngit cherry -v\n\n# View modifier of specific lines\ngit blame -L 58,100 filename\ngit blame -L 57,+10 filename\n\n## Only view changes in merge commit\ngit log --follow -p --merges -- <file>\n\n## View modified parts in merge conflict\ngit log --cc -p -- <file>\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"undo-commands",children:"Undo Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Undo all files at once\ngit reset . \ngit checkout .\n\n# Undo modify status\ngit checkout <filename>\n# Undo added file (untracked if new file, modify status otherwise)\ngit restore --staged test.txt\ngit rm --cached test.txt\n\n# Undo add commit modify (Deletes commit record entirely, Use with Caution)\ngit reset --hard <commit-id>\n# Undo add, commit (Reverts commit record to modify status)\ngit reset --mixed <commit-id>\n# Only undo commit (Reverts commit record to add status)\ngit reset --soft <commit-id>\n\n# Revert a commit (Create new commit to reverse changes)\ngit revert <commit-id>\n\n# Delete all local untracked records\ngit clean -df\n"})}),"\n",(0,r.jsx)(n.h2,{id:"create-or-delete-commands",children:"Create or Delete Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Associate local repo with remote repo\ngit remote add origin git@github.com:whalefall541/rebase-learn.git\n# Remove association\ngit remote rm origin\n\n# Delete remote branch\ngit push origin -d <branch-name>\n\n# Create local branch\ngit branch <branch-name>\n# Create and switch\ngit chekcout -b <branch-name>\n# Delete local branch\ngit branch -D  <branch-name>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"merge-commands",children:"Merge Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Turn off auto merge\ngit merge --no-ff -m \"merge with no-ff\" dev\n\n# Auto Rebase: Replay another branch on current branch\ngit rebase [<branch-name> | <commit-id> | <head~n>]\n\n# Interactive Rebase\ngit rebase -i <commit-id> <commit-id> \n\n`Usually combine 'p' and 's' to squash multiple commits into one`\n# Note: rebase commit id range is (start, end];\n# Be very careful that the last id in rebase must be the last one, unless you want to discard commit history after that id.\n# If you did it by mistake, re-pull from remote.\n\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup [-C | -c] <commit> = like \"squash\" but keep only the previous\n#                    commit's log message, unless -C is used, in which case\n#                    keep only this commit's message; -c is same as -C but\n#                    opens the editor\n\n\n# Rebase content of base branch to current branch. Rebase is just moving HEAD pointer.\ngit rebase <base-branch>\n\nExample\nA---B---C  main\n         \\\n          D---E  feature\n\ngit checkout feature\ngit rebase main\n\nA---B---C  main\n             \\\n              D'--E'  feature\n\n\"Whoever wants to 'catch up' with whom, execute rebase on that branch. Target is the 'base'.\"\n\"Use rebase for development, use merge for merging. Do not rebase main. Keep it clean.\"\n\nfeature wants to catch up with main \u2192 Execute on feature: git rebase main\n\nmain wants to catch up with feature (Not Recommended) \u2192 Execute on main: git rebase feature\n\n# rebase --onto can rebase a branch located on a sub-branch to the main branch\n# Before rebase: current-upstream-branch is a sub-branch of base-branch\n# And current-branch is a sub-branch of current-upstream-branch\n# After rebase: current-upstream-branch and current-branch become independent sub-branches of base-branch\n# I.E. git rebase --onto\ngit rebase --onto <base-branch> <current-upstream-branch> <current-branch>\n\nExample\nA---B---C  main\n         \\\n          D---E---F  feature\n     \\\n      X---Y  experiment\n\ngit checkout experiment\ngit rebase --onto feature A\n\nA---B---C  main\n         \\\n          D---E---F  feature\n                    \\\n                     X'--Y'  experiment\nMnemonic:\nCut: From after B\n\nPaste: To after A\n\nOperation: --onto A B\n\n# Copy a commit from another branch to current branch\ngit cherry-pick <commit-id>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"stash-commands",children:"Stash Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git stash\ngit stash list\ngit pop\n\n# Stash specific file\ngit stash push filename\n\n# Interactive stash\ngit stash -p\n"})}),"\n",(0,r.jsxs)(n.p,{children:["How to stash partial files: ",(0,r.jsx)(n.a,{href:"https://www.jianshu.com/p/fe4d54cb6244",children:"stash part"})]}),"\n",(0,r.jsx)(n.h2,{id:"commit-commands",children:"Commit Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'echo "# 123" >> README.md\ngit init\ngit add README.md\ngit commit -m "first commit"\n\n# Modify comment of HEAD; notes: Don\u2019t amend public commits\ngit commit --amend -m "an updated commit message" --no-edit\n\n# Modify last commit info\ngit add new_file.xxx\ngit commit --amend --no-edit\n\n# Modify previous commit info, then reword or edit\ngit rebase -i <commit-id>^\n\ngit branch -M main\ngit remote add origin git@github.com:whalefall541/123.git\ngit push -u origin main\n\n# Push directly to all other branches from dev branch. From branch1 push to branch2.\ngit push origin refs/heads/branch1:branch2\n'})}),"\n",(0,r.jsx)(n.h2,{id:"tag-commands",children:"Tag Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'# Tag on current commit of current branch:\ngit tag v1.0\n\n# If want to tag on a specific historical commit:\ngit tag v0.9 f52c633\ngit tag -a <tagname> -m "<message>"\n\n# View tag info:\ngit show v0.1\n\n# Delete tag if created by mistake:\ngit tag -d v0.1\n\n# Push a tag to remote: git push origin <tagname>\ngit push origin v1.0\n# Or, push all unpushed local tags at once:\ngit push origin --tags    \n# If tag already pushed to remote, deleting remote tag is tricky. Delete local first:\ngit tag -d v0.9    \n# Then, delete from remote. Command is also push, but format is:\ngit push origin :refs/tags/v0.9\n'})}),"\n",(0,r.jsx)(n.h2,{id:"update-commands",children:"Update Commands"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://cloud.tencent.com/developer/section/1138793",children:"Reference Site"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Fetch all branches\ngit fetch --all\n# update specific branch. If aggregation project, need --recurse-submodules=no \ngit fetch origin main:main --progress --prune\n \n# Rebase when pulling code: fetch and rebase \ngit pull -r origin main\n\ngit fetch origin \ngit rebase origin/main\n\ngit pull -r\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"how-to-sync-github-fork-repository",children:"How to sync Github Fork repository"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.github.com/en/github/collaborating-with-pull-requests/working-with-forks/configuring-a-remote-for-a-fork",children:"configuring-a-remote-for-a-fork"})}),"\n",(0,r.jsxs)(n.li,{children:["Merging an upstream repository into your fork\n",(0,r.jsx)(n.a,{href:"https://docs.github.com/en/github/collaborating-with-pull-requests/working-with-forks/syncing-a-fork",children:"syncing-a-fork"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"principle-issues",children:"Principle Issues"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"git rebase principle: Sync and keep history clean:"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u2705 Transfer changes of current branch to after the latest state of target branch"}),"\n",(0,r.jsx)(n.p,{children:"\u2705 Maintain linear commit history, avoid merge conflict tree"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 More suitable for syncing feature branch to main: ",(0,r.jsx)(n.code,{children:"git rebase main"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u26A0\uFE0F Ensure workspace is clean before use (",(0,r.jsx)(n.code,{children:"git status"})," should show no changes)"]}),"\n",(0,r.jsx)(n.p,{children:"\u274C Do not recommend force push on shared history branches (Unless team allows)"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["git pull --rebase principle: Simplify fetch + rebase\n\u2705 Shortcut for ",(0,r.jsx)(n.code,{children:"git fetch + git rebase"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u2705 Recommended to set as default strategy to avoid generating merge commit"}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["Branch sync recommended pattern (Two-way sync scenario)\nAssume you develop alternately between ",(0,r.jsx)(n.code,{children:"dev"})," and ",(0,r.jsx)(n.code,{children:"feature-x"})," branches:"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u{1F501} Sync main into feature branch:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"git checkout feature-x"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"git fetch origin"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"git rebase origin/dev"}),"  # or ",(0,r.jsx)(n.code,{children:"git rebase dev"})]}),"\n",(0,r.jsx)(n.p,{children:"\u2B06\uFE0F Sync feature-x back to dev:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"git checkout dev"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"git rebase feature-x"}),"  # or ",(0,r.jsx)(n.code,{children:"git merge --ff-only feature-x"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u26A0\uFE0F If team shares ",(0,r.jsx)(n.code,{children:"dev"}),", recommend using ",(0,r.jsx)(n.code,{children:"merge"})," to avoid force push"]}),"\n",(0,r.jsx)(n.h2,{id:"problem-records",children:"Problem Records"}),"\n",(0,r.jsxs)(n.h3,{id:"cannot-exit-git-rebase--i-in-ps-terminal-in-idea",children:["Cannot exit ",(0,r.jsx)(n.code,{children:"git rebase -i"})," in PS Terminal in IDEA"]}),"\n","\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"git rebase -i"})," forces usage of ",(0,r.jsx)(a.A,{color:"white",background:"red",children:"git rebase"})," to execute."]}),"\n",(0,r.jsxs)(n.p,{children:["After pressing ",(0,r.jsx)(n.code,{children:"i"})," to enter edit mode, if ",(0,r.jsx)(n.code,{children:"esc"})," cannot exit, please use ",(0,r.jsx)(n.code,{children:"ctr+c"}),", ",(0,r.jsx)(n.code,{children:":q!"})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"IDEA Ultimate 2021.3.1 has encountered this issue"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"The first way"})})}),"\n",(0,r.jsx)(n.p,{children:"I understand this is frustrating. Let's try a more comprehensive approach to recover your repository:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Let's first check the overall Git status:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git status\n\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If the above command still shows errors, let's try a full reset using ORIG_HEAD:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git reset --hard ORIG_HEAD\n\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If that doesn't work, we can try checking what branches exist:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git branch -a\n\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Then try to get back to your main/master branch:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git checkout main\n\n"})}),"\n",(0,r.jsxs)(n.p,{children:["(or ",(0,r.jsx)(n.code,{children:"git checkout master"})," if that's your primary branch name)"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If all else fails, we might need a more drastic approach. First, back up any uncommitted changes you care about manually. Then:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# Create or update a reference to your current HEAD\ngit update-ref HEAD $(git rev-parse HEAD) 2>/dev/null\n\n# Clean up all Git temporary files\nrm -f .git/MERGE_HEAD .git/MERGE_MODE .git/MERGE_MSG\nrm -rf .git/rebase-merge .git/rebase-apply\n\n# Reset the index and working tree\ngit reset --hard\n\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If none of these approaches work, please let me know what specific error messages you're seeing now, and we can try a different recovery method."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"the second way"})})}),"\n",(0,r.jsx)(n.p,{children:"firstly push the local commit to the remote, even though your broken repository in rebase status."}),"\n",(0,r.jsx)(n.p,{children:"secondly clone a new copy repository to a different directory, then open with the idea"}),"\n",(0,r.jsx)(n.p,{children:"if idea occurs Cannot resolve symbol \u2018xxx\u2019, just Invalidate caches and restart the project, project will run normally."}),"\n","\n",(0,r.jsx)(o.A,{})]})}function g(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},49752(e,n,t){t.d(n,{A:()=>r});var i=t(62615);function r({color:e,background:n,className:t,children:r}){return(0,i.jsx)("span",{className:t,style:{color:e,background:n,padding:n?"0 0.2em":void 0,borderRadius:n?"0.2em":void 0},children:r})}t(59471)}}]);