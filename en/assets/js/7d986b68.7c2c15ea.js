"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["2476"],{50619(e,n,l){l.r(n),l.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>t,contentTitle:()=>o,toc:()=>r,assets:()=>a});var i=JSON.parse('{"id":"ai-bigdata/AI/wsl-opencode","title":"WSL + OpenCode","description":"WSL + OpenCode Installation & Configuration Guide","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ai-bigdata/AI/wsl-opencode.mdx","sourceDirName":"ai-bigdata/AI","slug":"/ai-bigdata/AI/wsl-opencode","permalink":"/en/ai-bigdata/AI/wsl-opencode","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/ai-bigdata/AI/wsl-opencode.mdx","tags":[{"inline":true,"label":"ai","permalink":"/en/tags/ai"},{"inline":true,"label":"open-code","permalink":"/en/tags/open-code"},{"inline":true,"label":"development-tool","permalink":"/en/tags/development-tool"},{"inline":true,"label":"tutorial","permalink":"/en/tags/tutorial"}],"version":"current","lastUpdatedBy":"halcyon666","lastUpdatedAt":1770249600000,"sidebarPosition":2,"frontMatter":{"id":"wsl-opencode","title":"WSL + OpenCode","sidebar_label":"WSL + OpenCode","sidebar_position":2,"description":"WSL + OpenCode Installation & Configuration Guide","tags":["ai","open-code","development-tool","tutorial"],"sources":["level-1-ai-native"],"references":["oh-my-opencode","vibe-coding"],"last_update":{"date":"2026-02-05","author":"halcyon666"}},"sidebar":"tutorialSidebar","previous":{"title":"Oh My OpenCode","permalink":"/en/ai-bigdata/AI/oh-my-opencode"},"next":{"title":"AI Development Core Tech Stack","permalink":"/en/ai-bigdata/AI/lays-in-ai"}}'),s=l(62615),d=l(77545);let t={id:"wsl-opencode",title:"WSL + OpenCode",sidebar_label:"WSL + OpenCode",sidebar_position:2,description:"WSL + OpenCode Installation & Configuration Guide",tags:["ai","open-code","development-tool","tutorial"],sources:["level-1-ai-native"],references:["oh-my-opencode","vibe-coding"],last_update:{date:"2026-02-05",author:"halcyon666"}},o="WSL + OpenCode Environment Manual",a={},r=[{value:"1. Basic System",id:"1-basic-system",level:2},{value:"2. WSL Installation and Entry",id:"2-wsl-installation-and-entry",level:2},{value:"Install Ubuntu",id:"install-ubuntu",level:3},{value:"Enter WSL",id:"enter-wsl",level:3},{value:"View Installed Distributions",id:"view-installed-distributions",level:3},{value:"3. Node / Package Management",id:"3-node--package-management",level:2},{value:"Node Installation Command",id:"node-installation-command",level:3},{value:"Enable pnpm",id:"enable-pnpm",level:3},{value:"4. OpenCode Installation",id:"4-opencode-installation",level:2},{value:"Recommended Method (Official Binary)",id:"recommended-method-official-binary",level:3},{value:"Verify",id:"verify",level:3},{value:"5. OpenCode Server",id:"5-opencode-server",level:2},{value:"6. OpenCode Usage Mode Comparison",id:"6-opencode-usage-mode-comparison",level:2},{value:"Workflow Suggestions",id:"workflow-suggestions",level:3},{value:"7. Token Optimization Strategy",id:"7-token-optimization-strategy",level:2},{value:"Core Principles",id:"core-principles",level:3},{value:"Low Token Prompt Template",id:"low-token-prompt-template",level:3},{value:"8. Python Environment",id:"8-python-environment",level:2},{value:"9. Java Environment",id:"9-java-environment",level:2},{value:"10. Auxiliary Tools",id:"10-auxiliary-tools",level:2},{value:"11. tmux Terminal Multiplexer",id:"11-tmux-terminal-multiplexer",level:2},{value:"Install",id:"install",level:3},{value:"Common Commands",id:"common-commands",level:3},{value:"Window Operations (Inside tmux)",id:"window-operations-inside-tmux",level:3},{value:"Set Container Scrolling",id:"set-container-scrolling",level:3},{value:"Use with OpenCode",id:"use-with-opencode",level:3}];function c(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"wsl--opencode-environment-manual",children:"WSL + OpenCode Environment Manual"})}),"\n",(0,s.jsx)(n.h2,{id:"1-basic-system",children:"1. Basic System"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OS: Windows 10 Pro"}),"\n",(0,s.jsx)(n.li,{children:"WSL: WSL2"}),"\n",(0,s.jsx)(n.li,{children:"Linux Distro: Ubuntu 22.04 LTS"}),"\n",(0,s.jsx)(n.li,{children:"User: ollama"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"2-wsl-installation-and-entry",children:"2. WSL Installation and Entry"}),"\n",(0,s.jsx)(n.h3,{id:"install-ubuntu",children:"Install Ubuntu"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"wsl --install -d Ubuntu-22.04\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Download size about 500-700MB, occupies about 1.2-1.6GB after installation"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"enter-wsl",children:"Enter WSL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"wsl -d Ubuntu-22.04 -u ollama\n"})}),"\n",(0,s.jsx)(n.h3,{id:"view-installed-distributions",children:"View Installed Distributions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"wsl -l -v\n"})}),"\n",(0,s.jsx)(n.h2,{id:"3-node--package-management",children:"3. Node / Package Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Node.js: v20.x (Linux Native Install)"}),"\n",(0,s.jsx)(n.li,{children:"Corepack: Enabled"}),"\n",(0,s.jsx)(n.li,{children:"pnpm: Corepack managed (pnpm@latest)"}),"\n",(0,s.jsxs)(n.li,{children:["PNPM_HOME: ",(0,s.jsx)(n.code,{children:"~/.local/share/pnpm"})]}),"\n",(0,s.jsx)(n.li,{children:"PATH already includes PNPM_HOME"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"node-installation-command",children:"Node Installation Command"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -\nsudo apt install -y nodejs\n"})}),"\n",(0,s.jsx)(n.h3,{id:"enable-pnpm",children:"Enable pnpm"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo corepack enable\nsudo corepack prepare pnpm@latest --activate\npnpm setup\nsource ~/.bashrc\n"})}),"\n",(0,s.jsx)(n.h2,{id:"4-opencode-installation",children:"4. OpenCode Installation"}),"\n",(0,s.jsx)(n.h3,{id:"recommended-method-official-binary",children:"Recommended Method (Official Binary)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"curl -fsSL https://opencode.ai/install | bash\nsource ~/.bashrc\n"})}),"\n",(0,s.jsx)(n.h3,{id:"verify",children:"Verify"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"which opencode   # Should be /usr/local/bin/opencode\nopencode --version\n"})}),"\n",(0,s.jsx)(n.h2,{id:"5-opencode-server",children:"5. OpenCode Server"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Docs: ",(0,s.jsx)(n.a,{href:"https://opencode.ai/docs/windows-wsl/",children:"windows-wsl"})]}),"\n",(0,s.jsxs)(n.li,{children:["Start Command: ",(0,s.jsx)(n.code,{children:"opencode serve --hostname 0.0.0.0 --port 4096"})]}),"\n",(0,s.jsx)(n.li,{children:"Usage: Provide Desktop / Web Client remote access"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"6-opencode-usage-mode-comparison",children:"6. OpenCode Usage Mode Comparison"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Mode"}),(0,s.jsx)(n.th,{children:"Context Management"}),(0,s.jsx)(n.th,{children:"Token Consumption"}),(0,s.jsx)(n.th,{children:"Suitable Scenario"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Desktop"}),(0,s.jsx)(n.td,{children:"Session History Accumulation"}),(0,s.jsx)(n.td,{children:"Higher"}),(0,s.jsx)(n.td,{children:"Decision/Clarify Requirement"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Desktop + WSL"}),(0,s.jsx)(n.td,{children:"Engineering Driven"}),(0,s.jsx)(n.td,{children:"Medium"}),(0,s.jsx)(n.td,{children:"Heavy Modification/Debug"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CLI"}),(0,s.jsx)(n.td,{children:"Independent Call"}),(0,s.jsx)(n.td,{children:"Lowest"}),(0,s.jsx)(n.td,{children:"Batch/Atomic patch"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TUI"}),(0,s.jsx)(n.td,{children:"Visualized CLI"}),(0,s.jsx)(n.td,{children:"Low"}),(0,s.jsx)(n.td,{children:"High Frequency Execution"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"workflow-suggestions",children:"Workflow Suggestions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Desktop"}),': Used for "Thinking clearly what to change"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CLI/TUI"}),': Used for "Changing code correctly"']}),"\n",(0,s.jsx)(n.li,{children:"Use Snapshot to replace history, do one thing per call"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"7-token-optimization-strategy",children:"7. Token Optimization Strategy"}),"\n",(0,s.jsx)(n.h3,{id:"core-principles",children:"Core Principles"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Reduce Context: Use Task Snapshot to replace history"}),"\n",(0,s.jsx)(n.li,{children:"Reduce Rounds: Sub-agent call at once"}),"\n",(0,s.jsx)(n.li,{children:"Structured Output: Forbid explanation, only give diff"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"low-token-prompt-template",children:"Low Token Prompt Template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Task Snapshot:\n- Project: Spring Boot 2.7\n- Goal: [Clear Goal]\n- Constraints: [Constraints]\n\nOutput:\n- Only unified diff\n- No explanation\n"})}),"\n",(0,s.jsx)(n.h2,{id:"8-python-environment",children:"8. Python Environment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt install -y python3 python3-pip python3-venv\npip3 install --user virtualenv ipython black isort pylint mypy\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# Use tee to add environment variable (no need to enter editor)\necho 'export PATH=\"$HOME/.local/bin:$PATH\"' | tee -a ~/.bashrc\nsource ~/.bashrc\n"})}),"\n",(0,s.jsx)(n.h2,{id:"9-java-environment",children:"9. Java Environment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt install -y openjdk-17-jdk maven\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JAVA_HOME: Configured"}),"\n",(0,s.jsx)(n.li,{children:"Usage: OpenCode code understanding and execution"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"10-auxiliary-tools",children:"10. Auxiliary Tools"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt install -y git build-essential tree ripgrep fd-find curl wget unzip\n"})}),"\n",(0,s.jsx)(n.h2,{id:"11-tmux-terminal-multiplexer",children:"11. tmux Terminal Multiplexer"}),"\n",(0,s.jsx)(n.h3,{id:"install",children:"Install"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt install -y tmux\n"})}),"\n",(0,s.jsx)(n.h3,{id:"common-commands",children:"Common Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# Create new session\ntmux new -s dev\n\n# List sessions\ntmux ls\n\n# Attach to session\ntmux attach -t dev\n\n# Detach session (Inside tmux)\nCtrl+b d\n\n# Close window (Inside tmux)\nCtrl+d\n\n# Kill session\ntmux kill-session -t dev\n"})}),"\n",(0,s.jsx)(n.h3,{id:"window-operations-inside-tmux",children:"Window Operations (Inside tmux)"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Shortcut"}),(0,s.jsx)(n.th,{children:"Function"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Ctrl+b c"})}),(0,s.jsx)(n.td,{children:"New Window"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Ctrl+b n"})}),(0,s.jsx)(n.td,{children:"Next Window"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Ctrl+b p"})}),(0,s.jsx)(n.td,{children:"Previous Window"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Ctrl+b %"})}),(0,s.jsx)(n.td,{children:"Vertical Split"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'Ctrl+b "'})}),(0,s.jsx)(n.td,{children:"Horizontal Split"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Ctrl+b Arrow"})}),(0,s.jsx)(n.td,{children:"Switch Panel"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"set-container-scrolling",children:"Set Container Scrolling"}),"\n",(0,s.jsx)(n.p,{children:"Write to tmux config file"}),"\n",(0,s.jsx)(n.p,{children:"Edit:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"~/.tmux.conf\n"})}),"\n",(0,s.jsx)(n.p,{children:"Add a line:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"echo 'set -g mouse on' | tee -a ~/.tmux.conf\necho 'bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel \"clip.exe\"' | tee -a ~/.tmux.conf\n"})}),"\n",(0,s.jsx)(n.h3,{id:"use-with-opencode",children:"Use with OpenCode"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# Create dev session and start opencode server in it\ntmux new -s dev -d 'opencode serve --hostname 0.0.0.0 --port 4096'\n\n# Attach to view\ntmux attach -t dev\n"})})]})}function h(e={}){let{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);