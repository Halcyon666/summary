<!doctype html><html lang=en-US dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-background/Java/Spring/AOP/AspectJ/full-aspectj-temp" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Usage of AspectJ style AOP | halcyon666</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://halcyon666.top/en/img/docusaurus.png /><meta data-rh=true name=twitter:image content=https://halcyon666.top/en/img/docusaurus.png /><meta data-rh=true property=og:url content=https://halcyon666.top/en/background/Java/Spring/AOP/AspectJ/full-aspectj-temp /><meta data-rh=true property=og:locale content=en_US /><meta data-rh=true property=og:locale:alternate content=zh_Hans /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=google-site-verification content=vagj8ng2T0VN92-bvbq6xTnbbGF0_ZJXDvV0E_Yu3jY /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Usage of AspectJ style AOP | halcyon666"/><meta data-rh=true name=description content="Please refer to [spring-framework](https://github.com/Halcyon666/spring-framework-modified/tree/main/spring-test) for code related to this article (from official source spring-test module)"/><meta data-rh=true property=og:description content="Please refer to [spring-framework](https://github.com/Halcyon666/spring-framework-modified/tree/main/spring-test) for code related to this article (from official source spring-test module)"/><link data-rh=true rel=icon href=/en/img/favicon.png /><link data-rh=true rel=canonical href=https://halcyon666.top/en/background/Java/Spring/AOP/AspectJ/full-aspectj-temp /><link data-rh=true rel=alternate href=https://halcyon666.top/background/Java/Spring/AOP/AspectJ/full-aspectj-temp hreflang=zh-Hans /><link data-rh=true rel=alternate href=https://halcyon666.top/en/background/Java/Spring/AOP/AspectJ/full-aspectj-temp hreflang=en-US /><link data-rh=true rel=alternate href=https://halcyon666.top/background/Java/Spring/AOP/AspectJ/full-aspectj-temp hreflang=x-default /><link data-rh=true rel=preconnect href=https://L275Z6TKIP-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://halcyon666.top/en/category/-background-knowledge","name":"üìö Background Knowledge","position":1},{"@type":"ListItem","item":"https://halcyon666.top/en/category/-java","name":"‚òï Java","position":2},{"@type":"ListItem","item":"https://halcyon666.top/en/category/spring-framework","name":"Spring Framework","position":3},{"@type":"ListItem","item":"https://halcyon666.top/en/background/Java/Spring/AOP/AspectJ/full-aspectj-temp","name":"Usage of AspectJ style AOP","position":4}]}</script><link rel=alternate type=application/rss+xml href=/en/blog/rss.xml title="halcyon666 RSS Feed"><link rel=alternate type=application/atom+xml href=/en/blog/atom.xml title="halcyon666 Atom Feed"><link rel=alternate type=application/json href=/en/blog/feed.json title="halcyon666 JSON Feed"><link rel=search type=application/opensearchdescription+xml title=halcyon666 href=/en/opensearch.xml><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css type=text/css integrity=sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM crossorigin=anonymous><link rel=stylesheet href=/en/assets/css/styles.66dd17ec.css /><script src=/en/assets/js/runtime~main.26a0c683.js defer></script><script src=/en/assets/js/main.76512b17.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/en/img/logo.png /><div role=region aria-label="Skip to main content"><a class=skipToContent_0KRX href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_zAxa"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/logo.png alt="My Site Logo" class="themedComponent_F5CQ themedComponent--light__4gz"/><img src=/en/img/logo.png alt="My Site Logo" class="themedComponent_F5CQ themedComponent--dark_RQh6"/></div><b class="navbar__title text--truncate">halcyon666</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/en/category/-background-knowledge>docs</a><a class="navbar__item navbar__link" href=/en/blog>Blog</a><a class="navbar__item navbar__link" href=/en/graph>Graph</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://t.me/+3EVR-TOB7GQwOWQ1 target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Telegram<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_LxhT><use href=#theme-svg-external-link /></svg></a><a href=https://github.com/Halcyon666/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_LxhT><use href=#theme-svg-external-link /></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_glr3><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/background/Java/Spring/AOP/AspectJ/full-aspectj-temp target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-Hans>‰∏≠Êñá</a><li><a href=/en/background/Java/Spring/AOP/AspectJ/full-aspectj-temp target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en-US>English</a></ul></div><div class="toggle_sCy1 colorModeToggle_vUKv"><button class="clean-btn toggleButton_f9XF toggleButtonDisabled_Ts6G" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_zbKc lightToggleIcon_abkS"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_zbKc darkToggleIcon_zm_e"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_zbKc systemToggleIcon_aSnX"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_KF0D><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_JntQ"><div class=docsWrapper_jBAa><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_SkHc" type=button></button><div class=docRoot_k5oE><aside class="theme-doc-sidebar-container docSidebarContainer_ACjG"><div class=sidebarViewport_rwmK><div class="sidebar_xI5t sidebarWithHideableNavbar_QjKi"><a tabindex=-1 class=sidebarLogo_yEDX href=/en/><img src=/en/img/logo.png alt="My Site Logo" class="themedComponent_F5CQ themedComponent--light__4gz"/><img src=/en/img/logo.png alt="My Site Logo" class="themedComponent_F5CQ themedComponent--dark_RQh6"/><b>halcyon666</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_mZwm"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist menu__link--active" href=/en/category/-background-knowledge><span title="üìö Background Knowledge" class=categoryLinkLabel_CDYj>üìö Background Knowledge</span></a><button aria-label="Collapse sidebar category 'üìö Background Knowledge'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist menu__link--active" tabindex=0 href=/en/category/-java><span title="‚òï Java" class=categoryLinkLabel_CDYj>‚òï Java</span></a><button aria-label="Collapse sidebar category '‚òï Java'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/-java-basics><span title="üî§ Java Basics" class=categoryLinkLabel_CDYj>üî§ Java Basics</span></a><button aria-label="Expand sidebar category 'üî§ Java Basics'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/-interview-cases><span title="üíº Interview Cases" class=categoryLinkLabel_CDYj>üíº Interview Cases</span></a><button aria-label="Expand sidebar category 'üíº Interview Cases'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist menu__link--active" tabindex=0 href=/en/category/spring-framework><span title="Spring Framework" class=categoryLinkLabel_CDYj>Spring Framework</span></a><button aria-label="Collapse sidebar category 'Spring Framework'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true tabindex=0 href=/en/background/Java/Spring/Core/application-context><span title="Core Concepts" class=categoryLinkLabel_CDYj>Core Concepts</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/Core/application-context><span title=ApplicationContext class=linkLabel_JcR7>ApplicationContext</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/Core/bean-creating-process><span title="Bean Creation Process" class=linkLabel_JcR7>Bean Creation Process</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/Core/bean-factory-post-processor><span title=BeanFactoryPostProcessor class=linkLabel_JcR7>BeanFactoryPostProcessor</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/Core/spring-core><span title="Spring Core" class=linkLabel_JcR7>Spring Core</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true tabindex=0 href=/en/background/Java/Spring/IOC/ioc-advanced><span title="IoC / Dependency Injection" class=categoryLinkLabel_CDYj>IoC / Dependency Injection</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/IOC/ioc-advanced><span title="IoC Injection Methods 2" class=linkLabel_JcR7>IoC Injection Methods 2</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/IOC/ioc-basics><span title="IoC Injection Methods 1" class=linkLabel_JcR7>IoC Injection Methods 1</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/en/background/Java/Spring/AOP/Weaving/weaving-autoproxy><span title="AOP (Aspect-Oriented Programming)" class=categoryLinkLabel_CDYj>AOP (Aspect-Oriented Programming)</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true tabindex=0 href=/en/background/Java/Spring/AOP/Weaving/weaving-autoproxy><span title=Weaving class=categoryLinkLabel_CDYj>Weaving</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/Weaving/weaving-autoproxy><span title="Weaving in Spring AOP 2" class=linkLabel_JcR7>Weaving in Spring AOP 2</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/Weaving/weaving-programmatic><span title="Weaving in Spring AOP 1" class=linkLabel_JcR7>Weaving in Spring AOP 1</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/en/background/Java/Spring/AOP/AspectJ/aspectj-overview><span title="AspectJ Integration" class=categoryLinkLabel_CDYj>AspectJ Integration</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/AspectJ/aspectj-overview><span title="Overview of AspectJ style AOP" class=linkLabel_JcR7>Overview of AspectJ style AOP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/AspectJ/aspectj-weaving><span title="AspectJ Weaving Methods" class=linkLabel_JcR7>AspectJ Weaving Methods</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/en/background/Java/Spring/AOP/AspectJ/full-aspectj-temp><span title="Usage of AspectJ style AOP" class=linkLabel_JcR7>Usage of AspectJ style AOP</span></a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/advice><span title="Advice in Spring AOP" class=linkLabel_JcR7>Advice in Spring AOP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/aspect><span title="Aspect in Spring AOP" class=linkLabel_JcR7>Aspect in Spring AOP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/joinpoint><span title=Joinpoint class=linkLabel_JcR7>Joinpoint</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/pointcut><span title="Pointcut in Spring AOP" class=linkLabel_JcR7>Pointcut in Spring AOP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/en/background/Java/Spring/AOP/schema-configuration><span title="Schema-based AOP Configuration" class=linkLabel_JcR7>Schema-based AOP Configuration</span></a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/-concurrency--jvm><span title="‚ö° Concurrency & JVM" class=categoryLinkLabel_CDYj>‚ö° Concurrency & JVM</span></a><button aria-label="Expand sidebar category '‚ö° Concurrency & JVM'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/-problem-solutions><span title="üêõ Problem Solutions" class=categoryLinkLabel_CDYj>üêõ Problem Solutions</span></a><button aria-label="Expand sidebar category 'üêõ Problem Solutions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/-design-patterns><span title="üéØ Design Patterns" class=categoryLinkLabel_CDYj>üéØ Design Patterns</span></a><button aria-label="Expand sidebar category 'üéØ Design Patterns'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/Ô∏è-database><span title="üóÑÔ∏è Database" class=categoryLinkLabel_CDYj>üóÑÔ∏è Database</span></a><button aria-label="Expand sidebar category 'üóÑÔ∏è Database'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/-middleware><span title="üîå Middleware" class=categoryLinkLabel_CDYj>üîå Middleware</span></a><button aria-label="Expand sidebar category 'üîå Middleware'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/-python><span title="üêç Python" class=categoryLinkLabel_CDYj>üêç Python</span></a><button aria-label="Expand sidebar category 'üêç Python'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" tabindex=0 href=/en/category/-algorithms><span title="üßÆ Algorithms" class=categoryLinkLabel_CDYj>üßÆ Algorithms</span></a><button aria-label="Expand sidebar category 'üßÆ Algorithms'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/en/intro><span title=Introduction class=linkLabel_JcR7>Introduction</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" href=/en/category/-frontend-development><span title="üé® Frontend Development" class=categoryLinkLabel_CDYj>üé® Frontend Development</span></a><button aria-label="Expand sidebar category 'üé® Frontend Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" href=/en/category/-devops--infrastructure><span title="üöÄ DevOps & Infrastructure" class=categoryLinkLabel_CDYj>üöÄ DevOps & Infrastructure</span></a><button aria-label="Expand sidebar category 'üöÄ DevOps & Infrastructure'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" href=/en/category/Ô∏è-development-tools><span title="üõ†Ô∏è Development Tools" class=categoryLinkLabel_CDYj>üõ†Ô∏è Development Tools</span></a><button aria-label="Expand sidebar category 'üõ†Ô∏è Development Tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" href=/en/category/-ai--big-data><span title="ü§ñ AI & Big Data" class=categoryLinkLabel_CDYj>ü§ñ AI & Big Data</span></a><button aria-label="Expand sidebar category 'ü§ñ AI & Big Data'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink___s4 menu__link menu__link--sublist" href=/en/category/-miscellaneous><span title="üìñ Miscellaneous" class=categoryLinkLabel_CDYj>üìñ Miscellaneous</span></a><button aria-label="Expand sidebar category 'üìñ Miscellaneous'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_knb0"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_Ecw0><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_e7AR><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_pYO8"><div class=docItemContainer_syJm><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_TVnx" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/en/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_vDen><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/en/category/-background-knowledge><span>üìö Background Knowledge</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/en/category/-java><span>‚òï Java</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/en/category/spring-framework><span>Spring Framework</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>AOP (Aspect-Oriented Programming)</span><li class=breadcrumbs__item><span class=breadcrumbs__link>AspectJ Integration</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Usage of AspectJ style AOP</span></ul></nav><div class="tocCollapsible_a4Qn theme-doc-toc-mobile tocMobile__52k"><button type=button class="clean-btn tocCollapsibleButton_Acd6">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Usage of AspectJ style AOP</h1></header><p>Please refer to <a href=https://github.com/Halcyon666/spring-framework-modified/tree/main/spring-test target=_blank rel="noopener noreferrer" class="">spring-framework</a> under <code>org.springframework.mylearntest</code> package for code related to this article (from <a href=https://github.com/spring-projects/spring-framework.git target=_blank rel="noopener noreferrer" title="official source" class="">official source</a> spring-test module).</p>
<p>No need to implement corresponding interfaces like in 1.0, the only thing to do is to add an <code>@Aspect</code> annotation on this Aspect class. This way we can determine which classes in ClassPath are Aspect definitions we are looking for. Define Pointcut via <code>@Pointcut</code>, specify which methods define corresponding Advice logic via annotations like <code>Around</code>.</p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>PerformanceTraceAspect</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">package org.springframework.mylearntest.aop2.aspectj;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.apache.commons.lang3.time.StopWatch;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.apache.commons.logging.Log;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.apache.commons.logging.LogFactory;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.ProceedingJoinPoint;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.Around;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.Aspect;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.Pointcut;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">/**</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Author: whalefall</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Date: 2020/7/28 22:46</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * After Spring 2.0 no need to implement interfaces to define pointcut</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> */</span><br/></span><span class=token-line style=color:#000000><span class="token plain">@Aspect</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class PerformanceTraceAspect {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	private final Log logger = LogFactory.getLog(PerformanceTraceAspect.class);</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	@Pointcut("execution(public  void *.method1()) || execution(public  void *.method2())")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public void pointcutName() {}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	@Around("pointcutName()")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public Object performanceTrace(ProceedingJoinPoint joinPoint) throws Throwable {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		StopWatch sw = new StopWatch();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		try {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">			sw.start();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">			return joinPoint.proceed();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		} finally {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">				System.out.println("pt in method["</span><br/></span><span class=token-line style=color:#000000><span class="token plain">						+ joinPoint.getSignature().getName()</span><br/></span><span class=token-line style=color:#000000><span class="token plain">				+ "]>>>>>>" + sw.toString());</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<h2 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=two-ways-to-weave-aspect>Two Ways to Weave Aspect<a href=#two-ways-to-weave-aspect class=hash-link aria-label="Direct link to Two Ways to Weave Aspect" title="Direct link to Two Ways to Weave Aspect" translate=no>‚Äã</a></h2>
<p>Suppose we have a target object <code>Foo</code>, there are two ways to weave Aspect definition into this target object class, to achieve interception of Joinpoints conforming to Pointcut definition.</p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>Foo</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">public class Foo {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public void method1() {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println("method1 executed");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public void method2() {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println("method2 executed");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<h3 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=programmatic-weaving>Programmatic Weaving<a href=#programmatic-weaving class=hash-link aria-label="Direct link to Programmatic Weaving" title="Direct link to Programmatic Weaving" translate=no>‚Äã</a></h3>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>Implemented via AspectJProxyFactory</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">public class Test4AspectJProxyFactory {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public static void main(String[] args) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		AspectJProxyFactory weaver = new AspectJProxyFactory();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		weaver.setProxyTargetClass(true);</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		weaver.setTarget(new Foo());</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		weaver.addAspect(PerformanceTraceAspect.class);</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		Object proxy = weaver.getProxy();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		((Foo)proxy).method1();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		((Foo)proxy).method2();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<h3 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=weaving-via-auto-proxy>Weaving via Auto-Proxy<a href=#weaving-via-auto-proxy class=hash-link aria-label="Direct link to Weaving via Auto-Proxy" title="Direct link to Weaving via Auto-Proxy" translate=no>‚Äã</a></h3>
<p>For @AspectJ style AOP, Spring AOP specifically provides an <code>AutoProxyCreator</code> implementation class for automatic proxying, to avoid excessive coding and configuration work. It is an extension class based on <code>AbstractAdvisorAutoProxyCreator</code>.</p>
<p>Like <code>AutoProxyCreator</code>, we just need to register <code>AnnotationAwareAspectJAutoProxyCreator</code> in IoC container configuration file.</p>
<p><img decoding=async loading=lazy src=https://s2.loli.net/2023/07/15/hrGdFWtgxbfa78l.png alt="" class=img_HlXX /></p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>xml configuration</summary><div><div class=collapsibleContent_wi6q><div class="language-xml codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-xml codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">beans</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.springframework.org/schema/beans</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag" style="color:rgb(128, 0, 0)">	   </span><span class="token tag attr-name namespace" style="color:rgb(255, 0, 0)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag" style="color:rgb(128, 0, 0)">	   </span><span class="token tag attr-name namespace" style="color:rgb(255, 0, 0)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">aop</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.springframework.org/schema/aop</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag" style="color:rgb(128, 0, 0)">	   </span><span class="token tag attr-name namespace" style="color:rgb(255, 0, 0)">xsi:</span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">schemaLocation</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.springframework.org/schema/beans</span><br/></span><span class=token-line style=color:#000000><span class="token tag attr-value" style="color:rgb(128, 0, 0)">		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd</span><br/></span><span class=token-line style=color:#000000><span class="token tag attr-value" style="display:inline-block;color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag attr-value" style="color:rgb(128, 0, 0)">		 http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">aop:</span><span class="token tag" style="color:rgb(128, 0, 0)">aspectj-autoproxy</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">proxy-target-class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">true</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	</span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!--	Equivalent to line above--></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	</span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!--&lt;bean class="org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator"></span><br/></span><span class=token-line style=color:#000000><span class="token comment" style="color:rgb(0, 128, 0)">		&lt;property name="proxyTargetClass" value="true"/></span><br/></span><span class=token-line style=color:#000000><span class="token comment" style="color:rgb(0, 128, 0)">	&lt;/bean>--></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">performanceAspect</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">org.springframework.mylearntest.aop2.aspectj.PerformanceTraceAspect</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">target</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">org.springframework.mylearntest.aop2.aspectj.Foo</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">beans</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">></span><br/></span></code></pre></div></div></div></div></details>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>TestAutoAspectJ</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">public class Test4AutoAspectJ {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public static void main(String[] args) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		ApplicationContext context = new ClassPathXmlApplicationContext("annotationawareaspectJautoproxycreator\\annotationawareaspectJautoproxycreator.xml");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		Object proxy = context.getBean("target");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		((Foo)proxy).method1();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		((Foo)proxy).method2();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<p>If <code>target</code> is injected as dependency object into other bean definitions, then what dependency subject object holds is also proxied target object.</p>
<p><strong>Tip</strong></p>
<blockquote>
<p>When using @AspectJ style AOP, should try to use automatic proxy support in container. Usually, programmatic weaving operations are only used for testing puproses. In process of use, you will find that actually there are differences between these two ways, some behaviors are not unified.</p>
<p>Using @Aspect style AOP needs to introduce <code>aspectjweaver.jar</code> and <code>aspectjrt.jar</code>.</p>
</blockquote>
<h2 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=aspectj-style-pointcut>@AspectJ style Pointcut<a href=#aspectj-style-pointcut class=hash-link aria-label="Direct link to @AspectJ style Pointcut" title="Direct link to @AspectJ style Pointcut" translate=no>‚Äã</a></h2>
<p>Before Spring framework released version 2.0, Spring AOP did not have formal Pointcut description language like AspectJ, and only supported method-level interception. So usually, simple method name specification and regular expressions basically could achieve purpose well.</p>
<p>After Spring released version 2.0, Spring AOP framework integrated parts of AspectJ functions, including AspectJ's Pointcut language support. Transitioned from DTD to XSD era.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=aspectj-style-pointcut-declaration-way>@AspectJ style Pointcut Declaration Way<a href=#aspectj-style-pointcut-declaration-way class=hash-link aria-label="Direct link to @AspectJ style Pointcut Declaration Way" title="Direct link to @AspectJ style Pointcut Declaration Way" translate=no>‚Äã</a></h3>
<p>@AspectJ style Pointcut declaration is attached to <code>@AspectJ</code>, by using <code>org.aspectj.lang.annotation.Pointcut</code> annotation, after specifying AspectJ style Pointcut expression, mark this annotation specified with corresponding expression on a method of Aspect definition class.</p>
<p>@AspectJ style Pointcut declaration contains following two parts.</p>
<ul>
<li class="">Pointcut Expression</li>
</ul>
<p><em>Carrier of Pointcut Expression is <code>@Pointcut</code>, this annotation is method-level annotation, so Pointcut Expression cannot be declared separately from a method</em></p>
<p>Expression consists of two parts, namely Pointcut Signature and Expression Matching Pattern.</p>
<ul>
<li class="">Pointcut Signature</li>
</ul>
<p>It is a definition of a method, acting as carrier of Pointcut Expression. Method definition where Pointcut Signature is located has no other restrictions except that return type must be void. Method modifiers play same semantic role as in java language, public Pointcut Signature can be referenced in other Aspect definitions, while private can only be referenced in current Aspect definition. Can use Pointcut Signature as identifier of corresponding Pointcut Expression, replacing repetitive Pointcut expression definitions in Pointcut Expression definition.</p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>YourAspect</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">@Aspect</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class YourAspect {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    @Pointcut("execution(void method1())")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void method1Execution() {}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><br/></span><span class=token-line style=color:#000000><span class="token plain">    @Pointcut("method1Execution()")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    private void stillMethod1Execution() {}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    // ...</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<h3 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=identifiers-of-aspectj-style-pointcut-expression>Identifiers of AspectJ style Pointcut Expression<a href=#identifiers-of-aspectj-style-pointcut-expression class=hash-link aria-label="Direct link to Identifiers of AspectJ style Pointcut Expression" title="Direct link to Identifiers of AspectJ style Pointcut Expression" translate=no>‚Äã</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=execution>execution<a href=#execution class=hash-link aria-label="Direct link to execution" title="Direct link to execution" translate=no>‚Äã</a></h4>
<p>Using it will help us match Joinpoints having specified method signature, usage format as follows</p>
<p><code>execution(modifiers-pattern ? ret-type-pattern declaring-type-pattern ? name-pattern(param-pattern) throws-pattern?)</code></p>
<p>Where method return type, method name, and parameter part matching patterns must be specified, matching patterns of other parts can be omitted.</p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>Foo Example</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">public class Foo {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void doSomething(String arg) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        // ...</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<p>Then can specify following Pointcut expression to match <code>doSomething</code> method of <code>Foo</code></p>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">execution(public void Foo.doSomething(String))</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">execution(void Foo.doSomething(String))</span><br/></span></code></pre></div></div>
<p><strong>*</strong> can be used in matching pattern of any part, can match multiple adjacent characters <strong>*</strong></p>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">execution(* *(String))</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">execution(* *(*))</span><br/></span></code></pre></div></div>
<p><strong>..</strong> wildcard can be used in two positions</p>
<ol>
<li class="">Use specified multi-level type declaration at <code>declaring-type-pattern</code></li>
</ol>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">// Can only locate all types under layer cn.spring21</span><br/></span><span class=token-line style=color:#000000><span class="token plain">execution(void cn.spring21.*.doSomething(*) </span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">// Can match all under cn.spring21 package including descendant packages</span><br/></span><span class=token-line style=color:#000000><span class="token plain">execution(void cn.spring21..*.doSomething(*) </span><br/></span></code></pre></div></div>
<ol start=2>
<li class="">Used in method list matching position, indicates that method can have 0 to multiple parameters, parameter types unlimited. If <code>..</code> is replaced by <code>*</code>, then can only match one parameter.</li>
</ol>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">execution(void *.doSomething(..))</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">// Indicates first parameter is String, second parameter is any type</span><br/></span><span class=token-line style=color:#000000><span class="token plain">execution(void doSomething(String,*)) </span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">// Indicates unlimited parameter format, unlimited type, but last parameter type must be String</span><br/></span><span class=token-line style=color:#000000><span class="token plain">execution(void doSomething(..,String)) </span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=within>within<a href=#within class=hash-link aria-label="Direct link to within" title="Direct link to within" translate=no>‚Äã</a></h4>
<p><code>within</code> identifier only accepts type declarations, it will match all Joinpoint methods under specified type.</p>
<p><em>within pointcut expression usage</em></p>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">within(cn.spring21.aop.target.MockTarget)</span><br/></span><span class=token-line style=color:#000000><span class="token plain">// Match method-level Joinpoints inside all classes under target package</span><br/></span><span class=token-line style=color:#000000><span class="token plain">within(cn.spring21.aop.target.*) </span><br/></span><span class=token-line style=color:#000000><span class="token plain">// Match method-level Joinpoints inside all classes under aop package and descendant packages</span><br/></span><span class=token-line style=color:#000000><span class="token plain">within(cn.spring21.aop..*) </span><br/></span></code></pre></div></div>
<p><em>within pointcut expression usage</em></p>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">@Retention(RetentionPolicy.RUNTIME)</span><br/></span><span class=token-line style=color:#000000><span class="token plain">@Target({ElementType.METHOD,ElementType.TYPE})</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public @interface AnyJoinpointAnnotation {}</span><br/></span></code></pre></div></div>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">@AnyJoinpointAnnotation</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class Foo{</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void method1(){}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void method2(){}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>When using Pointcut expression <code>@within(AnyJoinpointAnnotation)</code>, methods like <code>method1</code>, <code>method2</code> in <code>Foo</code> class will all be matched by Pointcut expression. Because this class is marked with <code>@AnyJoinpointAnnotation</code>, if other classes are also marked with this annotation, will also be matched.</p>
<p><em>Note @within only accepts annotation types, and takes effect on classes marked by specified annotation type</em></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=this-and-target>this and target<a href=#this-and-target class=hash-link aria-label="Direct link to this and target" title="Direct link to this and target" translate=no>‚Äã</a></h4>
<p>In AspectJ, <code>this</code> refers to object where calling method is located, <code>target</code> refers to object where called method is located, so usually these two identifiers can be used simultaneously to limit calling relationship of methods. For example, if <code>Object1</code>, <code>Object2</code> both call a method of <code>Object3</code>, then Pointcut expression definition <code>this(Object2) && target(Object3)</code> will only match when <code>Object2</code> calls method on <code>Object3</code>, while <code>Object1</code> calling method on <code>Object3</code> will not be matched.</p>
<p>Semantics of <code>this</code> and <code>target</code> in Spring AOP differ from AspectJ, <code>this</code> refers to proxy object of target object, while <code>target</code> is target object.</p>
<p>Regardless of using interface-based proxy mode or class-based proxy mode, <code>this(ProxyInterface)</code> and <code>target(ProxyInterface)</code> have similar effects.</p>
<p>If specifying concrete type <code>this(TargetFoo)</code> and <code>target(TargetFoo)</code>, <code>target(TargetFoo)</code> matches all Joinpoints in target object, because target object is indeed <code>TargetFoo</code> type, while <code>this(TargetFoo)</code> cannot.</p>
<p><code>this</code> and <code>target</code> identifiers are both used in combination with other identifiers in Pointcut expressions to further strengthen matching qualification rules.</p>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">execution(void cn.spring21.*.doSomething(*)) && this(TargetFoo)</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">execution(void cn.spring21.*.doSomething(*)) && targe(ProxyInterface)</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">// Match implementing both ProxyInterface and ProxyInterface2</span><br/></span><span class=token-line style=color:#000000><span class="token plain">this(ProxyInterface) && target(proxyInterface2)</span><br/></span></code></pre></div></div>
<p>In Spring AOP <code>@within</code> and <code>@target</code> do not have much difference. It's just that <code>@within</code> belongs to static matching, while <code>@target</code> matches Joinpoint dynamically at runtime.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=args>args<a href=#args class=hash-link aria-label="Direct link to args" title="Direct link to args" translate=no>‚Äã</a></h4>
<p>Function of this identifier is to help us capture method-level Joinpoints with specified parameter types and specified parameter amount, regardless of what type method is declared in. For example, <code>args(cn.spring21.unveilspring.domain.User)</code> then following method signatures will be matched</p>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">public class Foo {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public boolean login(User user) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        // ...</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class Bar {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public boolean isLogin(User user) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        // ...</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>To capture <code>public boolean login(Object user)</code>, using expression like <code>execution(* *(User))</code> cannot capture (because it is static Pointcut), need to use <code>args</code> identifier.</p>
<p>Pointcut expression using <code>@args</code> identifier will check method parameter types of current method-level Joinpoint, if passed parameter type this time has annotation specified by <code>@args</code>, current Joinpoint will be matched.</p>
<p><img decoding=async loading=lazy src=https://s2.loli.net/2023/07/15/hvlZ4iRWjtozqS3.png alt="" class=img_HlXX /></p>
<p><em>@args will attempt to dynamically check specified annotation for parameters of every method execution of all objects in system. As long as parameter type is marked with annotation type specified by @args, current method execution will match.</em></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=annotation>annotation<a href=#annotation class=hash-link aria-label="Direct link to annotation" title="Direct link to annotation" translate=no>‚Äã</a></h4>
<p>Pointcut expression using <code>annotation</code> identifier will attempt to check all method-level Joinpoints of all objects in system. If checked method is marked with annotation type specified by <code>@annotation</code> identifier, then Joinpoint where current method is located will be matched by Pointcut expression.</p>
<p>Want following method to support transaction mechanism, just need to add an annotation <code>@Transactional</code> on corresponding method, then use Pointcut expression to specify <code>@annotation(org.springframework.transaction.annotation.Transactional)</code>. Note <code>@Transactional</code> annotation is defined as <code>@Target(ElementType.METHOD)</code>.</p>
<p><strong>Even though Pointcut expression identifiers in AspectJ can be used in Spring AOP, their semantics and final semantics in AspectJ will differ. So, rather than saying Spring AOP can now use AspectJ's Pointcut expression language, it is better to say Spring AOP borrowed "outer cloak" of AspectJ's Pointcut expression language, while actually underlying semantics and final matching still follow original mechanism of Spring AOP. In addition, Spring AOP may add new identifiers based on original expressions, such as bean(..). AspectJ extended Java language, now Spring AOP's Pointcut expressions will extend AspectJ's Pointcut.</strong></p>
<p>True face of @AspectJ style Pointcut in Spring AOP</p>
<p>Actually, all Pointcut expressions declared in @AspectJ style will be parsed and converted into concrete Pointcut objects inside Spring AOP. Because Spring AOP has its own Pointcut definition structure, so declaring these Pointcut expressions in @AspectJ style will ultimately be converted into a Pointcut implementation specifically oriented towards AspectJ.</p>
<p><code>org.springframework.aop.aspectj.AspectJExpressionPointcut</code> represents concrete implementation of Pointcut oriented towards AspectJ in Spring AOP. Although it uses corresponding support of <code>AspectJ</code>, it still follows Pointcut definition of Spring AOP.</p>
<p><img decoding=async loading=lazy src=https://s2.loli.net/2023/07/15/QXc4awHlyRibeIj.png alt="" class=img_HlXX /></p>
<p>Defining <code>ExpressionPointcut</code> and <code>AbstractExpressionPointcut</code> is mainly for future extensibility. If there are forms other than AspectJ's Pointcut description language, we can integrate on basis of these two.</p>
<p>After <code>AspectJProxyFactory</code> or <code>AnnotationAwareAspectJAutoProxyCreator</code> obtains definition in @AspectJ style defined by <code>@Pointcut</code> in AspectJ via reflection, a corresponding <code>AspectJExpressionPointcut</code> object instance will be constructed inside Spring AOP framework. <code>AspectJExpressionPointcut</code> internally holds Pointcut expression obtained via reflection.</p>
<p><img decoding=async loading=lazy src=https://s2.loli.net/2023/07/15/SlIhfBd7UZtmqEC.png alt="" class=img_HlXX /></p>
<p><code>AspectJExpressionPointcut</code> belongs to one of Spring AOP's Pointcut definitions, logic of Spring AOP framework internally processing Pointcut matching does not need to change, still uses original matching mechanism, i.e., performing matching work of concrete Joinpoint via <code>ClassFilter</code> and <code>MethodMatcher</code>. However, when implementing corresponding method logic of <code>ClassFilter</code> and <code>MethodMatcher</code>, <code>AspectJExpressionPointcut</code> will delegate specific work to relevant classes of AspectJ library. <code>AspectJExpressionJoinpoint</code> (should be Pointcut) will delegate <code>PointcutParser</code> in AspectJ library to parse @AspectJ style Pointcut expression held by it. After <code>PointcutParser</code> parsing is completed, it will return a <code>PointcutExpression</code> object (still a class in AspectJ library), afterwards whether matching or not is directly delegated to relevant methods of this <code>PointcutExpression</code> object for processing.</p>
<p><code>AspectJExpressionPointcut</code> belongs to Pointcut implementation oriented towards AspectJ, we can use it like other various Pointcut implementation classes in Spring AOP. Only that, after construction, instead of setting method name or regular expression for it, set @AspectJ style Pointcut as shown below</p>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">pointcut.setExpression("execution( * someMethodName(..))");</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=aspectj-style-advice>@AspectJ style Advice<a href=#aspectj-style-advice class=hash-link aria-label="Direct link to @AspectJ style Advice" title="Direct link to @AspectJ style Advice" translate=no>‚Äã</a></h2>
<p>Definition in @AspectJ style is actually ordinary methods in Aspect definitions class marked with <code>@AspectJ</code>, only that these methods need to be marked with annotations corresponding to different Advice types.</p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>Use Pointcut to set BeforeAdvice</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">/**</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * Use AspectJ style</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> */</span><br/></span><span class=token-line style=color:#000000><span class="token plain">@Aspect</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class ResourceSetupAspectJ {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    private Resource resource;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><br/></span><span class=token-line style=color:#000000><span class="token plain">    @Before("execution(boolean *.execute())")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void setupResourcesBefore() throws Throwable {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        if(!getResource().exists())</span><br/></span><span class=token-line style=color:#000000><span class="token plain">            FileUtils.forceMkdir(getResource().getFile());</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    // Omit getter setter</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<p>Use Pointcut Signature to reference Pointcut</p>
<p>Parameter passing in Advice</p>
<p>In some cases, we may need to access method parameters at Joinpoint in Advice definition. In 1.x Spring AOP, we can access corresponding method parameters via Object array passed in <code>MethodBeforeAdvice</code> method. Now there are two ways to achieve same purpose.</p>
<ul>
<li class="">
<p>Via <code>org.aspectj.lang.JoinPoint</code>. In @AspectJ style Aspect, method defining Before Advice can declare first parameter as <code>org.aspectj.lang.JoinPoint</code> type. Through <code>Joinpoint</code> we can access argument values of corresponding Joinpoint method via its <code>getArgs()</code> method. In addition we can use <code>getThis()</code> to get current proxy object, <code>getTarget()</code> to get target object.</p>
</li>
<li class="">
<p>Binding via <code>args</code> identifier. We have already introduced <code>args</code> identifier before, we can further limit Pointcut definition by specifying corresponding object type for it. When <code>args</code> identifier accepts not concrete object type but a parameter name, it will bind parameter value corresponding to this parameter name to call of Advice method.</p>
</li>
</ul>
<p>Note parameter name specified by <code>args</code> must be same as parameter name of method where Advice definition is located. Here value specified by <code>args</code> and parameter name of <code>setupResourceBefore</code> method are both <code>taskName</code>. If Advice references independent Pointcut definition, using <code>args</code> binding form is also similar.</p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>Advice references independent Pointcut definition</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">@Pointcut("execution(boolean *.execute(String,..)) && args(taskName)")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">private void resourceSetupJoinpoints(String taskName) {}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">@Before(value="resourceSetupJoinpoints(taskName)")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public void setupResourcesBefore(String taskName) throws Throwable{}</span><br/></span></code></pre></div></div></div></div></details>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>Function of simultaneously using JoinPoint and using args parameter name binding</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">@Before(value="execution(boolean *.execute(String,..)) && args(taskName)")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public void setupResourcesBefore1(JoinPoint joinpoint, String taskName) throws Throwable {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    // ...</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<p><strong>Two ways for Before Advice to access method parameters</strong></p>
<p><strong>In Advice declaration way of AspectJ style, not only first parameter of Before Advice method can be declared as <code>org.aspectj.lang.JoinPoint</code> type, actually, except <code>Around Advice</code> and <code>Introduction</code> cannot use, method declarations of remaining Advice types all follow this rule</strong></p>
<p><strong>Not only <code>args</code> identifier can be used to bind parameter declaration to method, actually in Pointcut identifiers, except <code>execution</code> identifier which does not directly specify object type, others like <code>this</code>, <code>target</code>, <code>@within</code>, <code>@target</code>, <code>@annotation</code>, <code>@args</code> etc. originally all specify object types. Like <code>args</code>, in such occasions, if they specify parameter name</strong></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=configuration-declaration-way-of-various-advice-in-spring-20-based-on-xsd>Configuration declaration way of various Advice in Spring 2.0 based on XSD<a href=#configuration-declaration-way-of-various-advice-in-spring-20-based-on-xsd class=hash-link aria-label="Direct link to Configuration declaration way of various Advice in Spring 2.0 based on XSD" title="Direct link to Configuration declaration way of various Advice in Spring 2.0 based on XSD" translate=no>‚Äã</a></h4>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>AspectAdvice</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">package org.springframework.mylearntest.aop2.schemaapsect;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.apache.commons.io.FileUtils;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.apache.commons.lang3.exception.ExceptionUtils;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.JoinPoint;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.ProceedingJoinPoint;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.*;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.springframework.core.io.Resource;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.springframework.util.StopWatch;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">/**</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Author: WhaleFall541</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Date: 2020/8/13 20:56</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> */</span><br/></span><span class=token-line style=color:#000000><span class="token plain">@Aspect</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class AspectAdvice {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    private Resource resource;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public Resource getResource() {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        return resource;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void setResource(Resource resource) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        this.resource = resource;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    @AfterThrowing(pointcut = "execution(boolean *.execute(String, ..))", throwing = "e")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void afterThrowing(RuntimeException e) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        final String exceptionMsg = ExceptionUtils.getStackTrace(e);</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        // ...</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    @AfterReturning(value = "execution(boolean *.execute(String, ..))",returning = "retValue")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void taskExceptionCompleted(JoinPoint jp,boolean retValue) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        //Class clazz = jp.getTarget().getClass();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        //getSqlMapClientTemplate().insert("BATCH.insertTaskStatus", clazz.getName());</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    @After("execution(boolean *.execute(String, ..))")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void cleanUpResourcesIfNecessary() throws Throwable {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        if (getResource().exists())</span><br/></span><span class=token-line style=color:#000000><span class="token plain">            FileUtils.forceMkdir(getResource().getFile());</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    @Around("execution(boolean *.execute(String, ..))")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public Object performanceTrace(ProceedingJoinPoint pjp) throws Throwable {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        StopWatch watch = new StopWatch();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        try {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">            watch.start();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">            return pjp.proceed();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        } finally {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">            watch.stop();</span><br/></span><span class=token-line style=color:#000000><span class="token plain">            System.out.println("watch.toString() = " + watch.toString());</span><br/></span><span class=token-line style=color:#000000><span class="token plain">        }</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    }</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<h4 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=introduction>Introduction<a href=#introduction class=hash-link aria-label="Direct link to Introduction" title="Direct link to Introduction" translate=no>‚Äã</a></h4>
<p>In Spring, implementation of <code>Introduction</code> is by adding new behavioral logic to be added as new interface definition to target object. To declare <code>Introduction</code> in @AspectJ style, we need to declare an instance variable in Aspect, its type corresponds to type of newly added interface, then use <code>org.aspectj.lang.annotatioin.DeclareParents</code> to mark it. Specify implementation class of newly added interface definition via <code>@DeclareParents</code> and target object to which it will be added.</p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>IntroductionAspect</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">package org.springframework.mylearntest.aop2.introduction;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.Aspect;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.DeclareParents;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.springframework.mylearntest.aop1.weaver.proxyfactorybean.CounterImpl;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.springframework.mylearntest.aop1.weaver.proxyfactorybean.ICounter;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">/**</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Author: WhaleFall541</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Date: 2020/8/9 16:50</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * Introduce ICounter behavior to ITask</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> */</span><br/></span><span class=token-line style=color:#000000><span class="token plain">@Aspect</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class IntroductionAspect {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	// value attribute specifies an object to be applied to, can also be all classes under a package value="cn.spring21.unveilspring.service.*"</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	// Specify implementation class of newly added interface definition via defaultImpl, here implementation class of ICounter is org.springframework.mylearntest.aop1.weaver.proxyfactorybean.CounterImpl</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	@DeclareParents(value = "org.springframework.mylearntest.aop1.weaver.baseoninterface.MockTask", defaultImpl =</span><br/></span><span class=token-line style=color:#000000><span class="token plain">			CounterImpl.class)</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public ICounter counter;// ICounter is object type to be added to target object</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>xml configuration</summary><div><div class=collapsibleContent_wi6q><div class="language-xml codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-xml codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">beans</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.springframework.org/schema/beans</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag" style="color:rgb(128, 0, 0)">	   </span><span class="token tag attr-name namespace" style="color:rgb(255, 0, 0)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag" style="color:rgb(128, 0, 0)">	   </span><span class="token tag attr-name namespace" style="color:rgb(255, 0, 0)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">context</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.springframework.org/schema/context</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag" style="color:rgb(128, 0, 0)">	   </span><span class="token tag attr-name namespace" style="color:rgb(255, 0, 0)">xsi:</span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">schemaLocation</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag attr-value" style="color:rgb(128, 0, 0)">			   </span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd</span><br/></span><span class=token-line style=color:#000000><span class="token tag attr-value" style="color:rgb(128, 0, 0)">				http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd</span><br/></span><span class=token-line style=color:#000000><span class="token tag attr-value" style="color:rgb(128, 0, 0)">              	  http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br/></span><span class=token-line style=color:#000000><span class="token tag" style="color:rgb(128, 0, 0)">	   </span><span class="token tag attr-name namespace" style="color:rgb(255, 0, 0)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">aop</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">http://www.springframework.org/schema/aop</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">aop:</span><span class="token tag" style="color:rgb(128, 0, 0)">aspectj-autoproxy</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">proxy-target-class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">true</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">task</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">org.springframework.mylearntest.aop1.weaver.baseoninterface.MockTask</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">scope</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">prototype</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">counterIntroduction</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">org.springframework.mylearntest.aop2.introduction.IntroductionAspect</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">"</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/></span><span class="token plain"></span><br/></span><span class=token-line style=color:#000000><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">beans</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">></span><br/></span></code></pre></div></div></div></div></details>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>Test4IntroductionAspect</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">package org.springframework.mylearntest.aop2.introduction;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.springframework.context.ApplicationContext;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.springframework.mylearntest.aop1.weaver.proxyfactorybean.ICounter;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">/**</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Author: WhaleFall541</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Date: 2020/8/9 17:10</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> */</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class Test4IntroductionAspect {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public static void main(String[] args) {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		ApplicationContext context = new ClassPathXmlApplicationContext("introductionaspect/introductionaspect.xml");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		Object task1 = context.getBean("task");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		Object task2 = context.getBean("task");</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println(((ICounter)task1).getCounter()); // 1</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println(((ICounter)task1).getCounter()); // 2</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println(((ICounter)task2).getCounter()); // 1</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<p><em><strong>Note Introduction belongs to per-instance type Advice, so do not forget that scope of target object should usually be set to prototype</strong></em></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=execution-order-of-advice>Execution Order of Advice<a href=#execution-order-of-advice class=hash-link aria-label="Direct link to Execution Order of Advice" title="Direct link to Execution Order of Advice" translate=no>‚Äã</a></h4>
<p>If multiple Advices matching same Joinpoint are declared in same Aspect definition, then execution order of these Advices is determined by their declaration order in Aspect. Advice declared first has highest priority. For <code>Before Advice</code>, highest priority runs first, while for <code>AfterReturningAdvice</code>, highest priority runs last.</p>
<details class="details_zlek alert alert--info details_bHoW" data-collapsed=true><summary>MultiAdviceAspect</summary><div><div class=collapsibleContent_wi6q><div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">package org.springframework.mylearntest.aop2.priorityofadvice;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.AfterReturning;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.Aspect;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.Before;</span><br/></span><span class=token-line style=color:#000000><span class="token plain">import org.aspectj.lang.annotation.Pointcut;</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">/**</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Author: WhaleFall541</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * @Date: 2020/8/9 18:00</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * If this AspectJ is woven into target object, result obtained can be</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * before one</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * before two</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * after returning two</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> * after returning one</span><br/></span><span class=token-line style=color:#000000><span class="token plain"> */</span><br/></span><span class=token-line style=color:#000000><span class="token plain">@Aspect</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class MultiAdviceAspect {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	@Pointcut("execution(boolean *.execute(String, ..))")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public void taskExecution(){}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	@Before("taskExecution()")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public void beforeOne() {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println("before one");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	@Before("taskExecution()")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public void beforeTwo() {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println("before two");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	@AfterReturning("taskExecution()")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public void afterReturningOne() {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println("after retuning one");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">	@AfterReturning("taskExecution()")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	public void afterReturningTwo() {</span><br/></span><span class=token-line style=color:#000000><span class="token plain">		System.out.println("after retuning two");</span><br/></span><span class=token-line style=color:#000000><span class="token plain">	}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div></div></div></details>
<p>When these Advices are declared in different Aspects. If Pointcut definitions corresponding to multiple Advice declarations match same Joinpoint, but they are not declared in same Aspect. We need to use Spring's <code>org.springframework.core.Ordered</code> interface, just need corresponding Aspect definition to implement <code>Ordered</code> interface, otherwise execution order of Advice is undefined.</p>
<p><img decoding=async loading=lazy src=https://s2.loli.net/2023/07/15/NoimsEaDcIgdwMp.png alt="" class=img_HlXX /></p>
<p><strong>Note: If these Aspects are used via programmatic way, execution order of Advice inside Aspect is completely determined by order added to <code>AspectJProxyFactory</code>, not order prescribed by <code>Ordered</code> interface. If order of following code is adopted, then Advice in <code>AnotherAspect</code> will execute prior to Advice in <code>MultiAdviceAspect</code>.</strong></p>
<p><img decoding=async loading=lazy src=https://s2.loli.net/2023/07/15/aXrGAu1x6KwJgBj.png alt="" class=img_HlXX /></p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_MeNW" id=instantiation-mode-of-aspect>Instantiation Mode of Aspect<a href=#instantiation-mode-of-aspect class=hash-link aria-label="Direct link to Instantiation Mode of Aspect" title="Direct link to Instantiation Mode of Aspect" translate=no>‚Äã</a></h3>
<p>For each Aspect registered to container, its default instantiation mode uses <code>singleton</code>, single instance of each Aspect definition will be instantiated and held in container (behavior coincides exactly with behavior of container <code>singleton</code> type scope).</p>
<p>Besides instantiation mode, AspectJ also supports instantiation modes like <code>perthis</code>, <code>pertarget</code>, <code>percflow</code>, <code>percflowbelow</code> and <code>perwithin</code>, but after Spring 2.0 AOP only supports default <code>singleton</code>, <code>perthis</code> and <code>pertarget</code> three instantiation modes.</p>
<p>To specify instantiation mode of corresponding Aspect, can specify <code>perthis</code> or <code>pertarget</code> statement via <code>@Aspect</code>. If want to chang instantiation mode of <code>MultiAdviceAspect</code> from default <code>singleton</code> to <code>perthis</code>. Can specify as follows</p>
<div class="language-java codeBlockContainer_bszE theme-code-block" style=--prism-color:#000000;--prism-background-color:#ffffff><div class=codeBlockContent_Y8Vh><pre tabindex=0 class="prism-code language-java codeBlock_ltuo thin-scrollbar" style=color:#000000;background-color:#ffffff><code class=codeBlockLines_WpDZ><span class=token-line style=color:#000000><span class="token plain">@Aspect("perthis(execution(boolean *.execute(String, ..)))")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">public class MultiAdviceAspect {</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">    @Pointcut("execution(boolean *.execute(String, ..))")</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    public void taskExecution(){}</span><br/></span><span class=token-line style=color:#000000><span class="token plain">    </span><br/></span><span class=token-line style=color:#000000><span class="token plain">    // ..</span><br/></span><span class=token-line style=color:#000000><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#000000><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>After Pointcut definition specified by <code>perthis</code> matches, respective Aspect instances will be instantiated for corresponding proxy objects. For <code>pertarget</code>, it instantiates corresponding Aspect for matching independent target object. However, after using <code>perthis</code> or <code>pertarget</code> to specify Aspect instantiation mode, when registering these Aspects to container, cannot specify <code>singleton</code> scope for their bean definitions, otherwise exception will occur.</p>
<blockquote>
<p>References</p>
<ol>
<li class="">Book Name: Spring Unveiled Author: Wang Fuqiang</li>
</ol>
</blockquote>
<!-- -->
<div class="theme-admonition theme-admonition-tip admonition_fT_L alert alert--success"><div class=admonitionHeading_zhbz><span class=admonitionIcon_FhuL><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Agreement</div><div class=admonitionContent_ywFg>The code part of this work is licensed under <a href=https://www.apache.org/licenses/LICENSE-2.0 target=_blank>Apache License 2.0</a> <!-- -->. You may freely modify and redistribute the code, and use it for commercial purposes, provided that you comply with the license. However, you are required to:<br/><ul><li><b>Attribution</b>: Retain the original author's signature and code source information in the original and derivative code.<li><b>Preserve License</b>: Retain the Apache 2.0 license file in the original and derivative code.</ul>The documentation part of this work is licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a> <!-- -->. You may freely share, including copying and distributing this work in any medium or format, and freely adapt, remix, transform, and build upon the material. However, you are required to:<ul><li><b>Attribution</b>: Give appropriate credit, provide a link to the license, and indicate if changes were made.<li><b>NonCommercial</b>: You may not use the material for commercial purposes. For commercial use, please contact the author.<li><b>ShareAlike</b>: If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.</ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>Tags:</b><ul class="tags_cey7 padding--none margin-left--sm"><li class=tag_MXhx><a rel=tag class="tag_Zm2d tagRegular_K9wS" href=/en/tags/algorithm>algorithm</a><li class=tag_MXhx><a rel=tag class="tag_Zm2d tagRegular_K9wS" href=/en/tags/computer-science>computer-science</a><li class=tag_MXhx><a rel=tag class="tag_Zm2d tagRegular_K9wS" href=/en/tags/data-structures>data-structures</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_hj8p"><a href=https://github.com/Halcyon666/summary/edit/main/docs/background/Java/Spring/AOP/AspectJ/full-aspectj-temp.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_S0L0 aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_UNFw"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2026-01-25T00:00:00.000Z itemprop=dateModified>Jan 25, 2026</time></b> by <b>halcyon666</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/en/background/Java/Spring/AOP/AspectJ/aspectj-weaving><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>AspectJ Weaving Methods</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/en/background/Java/Spring/AOP/advice><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Advice in Spring AOP</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_QilJ thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#two-ways-to-weave-aspect class="table-of-contents__link toc-highlight">Two Ways to Weave Aspect</a><ul><li><a href=#programmatic-weaving class="table-of-contents__link toc-highlight">Programmatic Weaving</a><li><a href=#weaving-via-auto-proxy class="table-of-contents__link toc-highlight">Weaving via Auto-Proxy</a></ul><li><a href=#aspectj-style-pointcut class="table-of-contents__link toc-highlight">@AspectJ style Pointcut</a><ul><li><a href=#aspectj-style-pointcut-declaration-way class="table-of-contents__link toc-highlight">@AspectJ style Pointcut Declaration Way</a><li><a href=#identifiers-of-aspectj-style-pointcut-expression class="table-of-contents__link toc-highlight">Identifiers of AspectJ style Pointcut Expression</a><ul><li><a href=#execution class="table-of-contents__link toc-highlight">execution</a><li><a href=#within class="table-of-contents__link toc-highlight">within</a><li><a href=#this-and-target class="table-of-contents__link toc-highlight">this and target</a><li><a href=#args class="table-of-contents__link toc-highlight">args</a><li><a href=#annotation class="table-of-contents__link toc-highlight">annotation</a></ul></ul><li><a href=#aspectj-style-advice class="table-of-contents__link toc-highlight">@AspectJ style Advice</a><ul><li><a href=#configuration-declaration-way-of-various-advice-in-spring-20-based-on-xsd class="table-of-contents__link toc-highlight">Configuration declaration way of various Advice in Spring 2.0 based on XSD</a><li><a href=#introduction class="table-of-contents__link toc-highlight">Introduction</a><li><a href=#execution-order-of-advice class="table-of-contents__link toc-highlight">Execution Order of Advice</a><li><a href=#instantiation-mode-of-aspect class="table-of-contents__link toc-highlight">Instantiation Mode of Aspect</a></ul></ul></div></div></div><div class=giscus-container></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright ¬© 2026 Halcyon666 Built with Docusaurus 3.9.2</div></div></div></footer></div></body>