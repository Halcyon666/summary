<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-AI And BD/HBASE" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">HBASE | halcyon666</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://halcyon666.github.io/summary/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://halcyon666.github.io/summary/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://halcyon666.github.io/summary/en/AI And BD/HBASE"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="vagj8ng2T0VN92-bvbq6xTnbbGF0_ZJXDvV0E_Yu3jY"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="HBASE | halcyon666"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/summary/en/img/favicon.png"><link data-rh="true" rel="canonical" href="https://halcyon666.github.io/summary/en/AI And BD/HBASE"><link data-rh="true" rel="alternate" href="https://halcyon666.github.io/summary/AI And BD/HBASE" hreflang="zh"><link data-rh="true" rel="alternate" href="https://halcyon666.github.io/summary/en/AI And BD/HBASE" hreflang="en"><link data-rh="true" rel="alternate" href="https://halcyon666.github.io/summary/AI And BD/HBASE" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://T5OO103S1G-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HBASE","item":"https://halcyon666.github.io/summary/en/AI And BD/HBASE"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62NRN6R4XB"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-62NRN6R4XB",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="halcyon666" href="/summary/en/opensearch.xml">

<script src="https://docusaurus.io/script.js"></script>
<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4872091594975928" async crossorigin="anonymous"></script><link rel="stylesheet" href="/summary/en/assets/css/styles.64679305.css">
<script src="/summary/en/assets/js/runtime~main.cae16233.js" defer="defer"></script>
<script src="/summary/en/assets/js/main.bfdf3260.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/summary/en/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_i89U" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_SefZ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/summary/en/"><div class="navbar__logo"><img src="/summary/en/img/logo.png" alt="My Site Logo" class="themedComponent_Vjnd themedComponent--light_U84m"><img src="/summary/en/img/logo.png" alt="My Site Logo" class="themedComponent_Vjnd themedComponent--dark_rUwV"></div><b class="navbar__title text--truncate">halcyon666</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/summary/en/Java/JavaBase/lambda">blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_GLb9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/summary/AI And BD/HBASE" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/summary/en/AI And BD/HBASE" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/Halcyon666/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_X8hH"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_Qfvn colorModeToggle_dRqa"><button class="clean-btn toggleButton_Cd52 toggleButtonDisabled_Ccrn" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FbYG lightToggleIcon_LHsq"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FbYG darkToggleIcon_ZU0_"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FbYG systemToggleIcon_zbND"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_D2uM"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_AIMe"><div class="docsWrapper_kA98"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Yegx" type="button"></button><div class="docRoot_Npkk"><aside class="theme-doc-sidebar-container docSidebarContainer_IlLB"><div class="sidebarViewport_laoI"><div class="sidebar_nFIp sidebarWithHideableNavbar_sqCK"><a tabindex="-1" class="sidebarLogo_VgZu" href="/summary/en/"><img src="/summary/en/img/logo.png" alt="My Site Logo" class="themedComponent_Vjnd themedComponent--light_U84m"><img src="/summary/en/img/logo.png" alt="My Site Logo" class="themedComponent_Vjnd themedComponent--dark_rUwV"><b>halcyon666</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_TDXq"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/Java/JavaBase/lambda">Java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/Frontend/JQuery-revese-selector">Frontend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/Algorithm/Base-Sort">Algorithm</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/Python/Python Problems">Python</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/ReadBook/Computor theory/OS_LeanNotes">ReadBook</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/CollectLinks/useful_links">CollectLinks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/Container-Tech/docker/docker-chinese register mirror address">Container-Tech</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/Linux/Common-Shell-Command">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/Develop-Tools/Most used Git Commands">Develop-Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/summary/en/Others/Windowns/software-use-case">Others</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/summary/en/AI And BD/HBASE">AI And BD</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/summary/en/AI And BD/HBASE">HBASE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/summary/en/AI And BD/flink">flink</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/summary/en/AI And BD/hadoop">hadoop</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/summary/en/intro">Halcyon666 Blog</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_ejCi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_UMl5"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_oU9t"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_KmfN"><div class="docItemContainer_jNyW"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_jU7J" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/summary/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Z8rg"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AI And BD</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">HBASE</span></li></ul></nav><div class="tocCollapsible__VFm theme-doc-toc-mobile tocMobile__owZ"><button type="button" class="clean-btn tocCollapsibleButton_DAQd">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>HBASE</h1></header>
<h2 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="hbase-is-a-distributed-scalable-non-relational-database-based-on-hadoop-provided-by-apache---does-not-support-sql">HBase is a distributed, scalable, non-relational database based on Hadoop provided by Apache - does not support SQL<a href="#hbase-is-a-distributed-scalable-non-relational-database-based-on-hadoop-provided-by-apache---does-not-support-sql" class="hash-link" aria-label="Direct link to HBase is a distributed, scalable, non-relational database based on Hadoop provided by Apache - does not support SQL" title="Direct link to HBase is a distributed, scalable, non-relational database based on Hadoop provided by Apache - does not support SQL">​</a></h3>
<h2 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="hbase-is-suitable-for-storing-sparse-data---hbase-can-store-structured-and-semi-structured-data">HBase is suitable for storing sparse data - HBase can store structured and semi-structured data<a href="#hbase-is-suitable-for-storing-sparse-data---hbase-can-store-structured-and-semi-structured-data" class="hash-link" aria-label="Direct link to HBase is suitable for storing sparse data - HBase can store structured and semi-structured data" title="Direct link to HBase is suitable for storing sparse data - HBase can store structured and semi-structured data">​</a></h3>
<p>In HBase, if you need to delete a table, you must first disable the table
When creating a table, if no namespace is specified, it defaults to the default namespace
HBase is based on Hadoop storage, essentially based on HDFS storage. HDFS features write-once, read-many, no modifications allowed; HBase provides complete CRUD capabilities. How is &quot;update&quot; implemented? - HBase&#x27;s &quot;update&quot; does not modify previous data but appends to the end of the file. When adding each piece of data, a timestamp is added. When reading data, only the latest data needs to be returned to achieve the update effect - the timestamp is called the data version number - VERSION
By default, only the last version of data is returned; if you need to get multiple versions of data, you need to specify version retention when creating the table</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="row-key---rowkey">Row Key - Rowkey<a href="#row-key---rowkey" class="hash-link" aria-label="Direct link to Row Key - Rowkey" title="Direct link to Row Key - Rowkey">​</a></h3>
<p>a. Equivalent to primary key in relational databases
b. Row key does not need to be specified when creating table, but is dynamically specified when adding data
c. Row key is sorted in dictionary order by default</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="column-family---column-family">Column Family - Column Family:<a href="#column-family---column-family" class="hash-link" aria-label="Direct link to Column Family - Column Family:" title="Direct link to Column Family - Column Family:">​</a></h3>
<p>a. In HBase, we don&#x27;t focus on columns but on column families - when creating tables, you need to specify column families but not columns; columns can be dynamically added and deleted
b. A column family can contain 0 to multiple columns
c. A column family is equivalent to a table in relational databases
d. Each table contains at least 1 column family
create &#x27;person&#x27;,&#x27;basic&#x27;,&#x27;expand&#x27; // person row key, basic expand column families</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="namespace---namespace">Namespace - namespace<a href="#namespace---namespace" class="hash-link" aria-label="Direct link to Namespace - namespace" title="Direct link to Namespace - namespace">​</a></h3>
<p>a. Equivalent to database in relational databases
b. If not specified, tables are placed in default by default
create &#x27;hbasedemo<!-- -->:person<!-- -->&#x27;,&#x27;basic&#x27;,&#x27;expand&#x27; //person table in hbasedemo namespace</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="cell---cell">Cell - Cell<a href="#cell---cell" class="hash-link" aria-label="Direct link to Cell - Cell" title="Direct link to Cell - Cell">​</a></h3>
<p>a. Row key + column family + column + timestamp/version uniquely locks a cell
b. Each cell contains a timestamp</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="hbasetxt">hbase.txt<a href="#hbasetxt" class="hash-link" aria-label="Direct link to hbase.txt" title="Direct link to hbase.txt">​</a></h3>
<h2 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="mechanism">Mechanism<a href="#mechanism" class="hash-link" aria-label="Direct link to Mechanism" title="Direct link to Mechanism">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="1-tables-are-split-from-the-row-key-direction-each-split-part-is-an-hregion-a-table-contains-at-least-1-hregion">1. Tables are split from the row key direction, each split part is an HRegion. A table contains at least 1 HRegion<a href="#1-tables-are-split-from-the-row-key-direction-each-split-part-is-an-hregion-a-table-contains-at-least-1-hregion" class="hash-link" aria-label="Direct link to 1. Tables are split from the row key direction, each split part is an HRegion. A table contains at least 1 HRegion" title="Direct link to 1. Tables are split from the row key direction, each split part is an HRegion. A table contains at least 1 HRegion">​</a></h3>
<ol start="2">
<li>Each HRegion is assigned to an HRegionServer for management</li>
<li>Because row keys are ordered, the data ranges between HRegions do not overlap, so different row keys can be processed on different HRegionServers</li>
<li>HRegion does not store data; data ultimately lands on HDFS. HRegion manages data</li>
<li>When the size of HRegion (size of data managed by HRegion) reaches a certain limit (default 10G), HRegion splits into two equal HRegions, and one of the split HRegions is transferred to another HRegionServer for management. Note: No data transfer occurs during this process</li>
<li>HRegionServer manages HRegion, HRegion manages data</li>
<li>HRegion is the smallest unit for distributed storage and load balancing in HBase, but not the smallest unit for data storage</li>
<li>HRegion structure:
a. Each HRegion contains 1 to multiple HStores, the number of HStores is determined by the number of column families
b. Each HStore contains 1 memStore (write cache) and 0 to multiple StoreFiles/HFiles
c. Data in HBase is ultimately stored in HFiles, which eventually land on HDFS</li>
</ol>
<h3></h3>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="1-when-hbase-starts-it-registers-a-hbase-node-on-zookeeper">1. When HBase starts, it registers a /hbase node on Zookeeper<a href="#1-when-hbase-starts-it-registers-a-hbase-node-on-zookeeper" class="hash-link" aria-label="Direct link to 1. When HBase starts, it registers a /hbase node on Zookeeper" title="Direct link to 1. When HBase starts, it registers a /hbase node on Zookeeper">​</a></h3>
<ol start="2">
<li>When Active HMaster starts, it registers a temporary child node /hbase/master under Zookeeper&#x27;s /hbase node - Active HMaster maintains this temporary node registered on Zookeeper through heartbeat, meaning once HMaster crashes and heartbeat is lost, this temporary node disappears, and Zookeeper knows it needs to find another from Backup HMasters to switch to Active</li>
<li>When Backup HMaster starts, it registers temporary child nodes under Zookeeper&#x27;s /hbase/backup-masters node</li>
<li>When HRegionServer starts, it also registers child nodes under Zookeeper&#x27;s /hbase/rs node</li>
</ol>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="hmaster">HMaster<a href="#hmaster" class="hash-link" aria-label="Direct link to HMaster" title="Direct link to HMaster">​</a></h3>
<ul>
<li>
<ol>
<li>In HBase, the number of HMasters is unlimited; you can start any number of HMasters using command: sh hbase-daemon.sh start master</li>
<li>Whoever starts first becomes Active HMaster</li>
<li>Active HMaster monitors the node /hbase/backup-masters on Zookeeper, monitoring whether the number of child nodes under this node changes</li>
<li>Active HMaster monitors /hbase/backup-masters every time it synchronizes messages</li>
<li>In actual processes, the number of HMaster nodes generally does not exceed 3: 1A2B</li>
<li>HMaster&#x27;s role/responsibilities:
a. Manage HRegionServer
b. Responsible for DDL (table structure operations) operations in HBase tables; DML (table data operations) operations do not go through HMaster</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="how-hbase-determines-hregion-location-on-first-readwrite">How HBase determines HRegion location on first read/write<a href="#how-hbase-determines-hregion-location-on-first-readwrite" class="hash-link" aria-label="Direct link to How HBase determines HRegion location on first read/write" title="Direct link to How HBase determines HRegion location on first read/write">​</a></h3>
<ul>
<li></li>
<li></li>
<li>
<p>a. After the client gets the location of the .meta. file, it caches this location
b. After the client reads .meta., it caches the content of the .meta. file
c. If the client crashes or HRegion transfer occurs, the cache becomes invalid and needs to be rebuilt</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="hregionserver">HRegionServer<a href="#hregionserver" class="hash-link" aria-label="Direct link to HRegionServer" title="Direct link to HRegionServer">​</a></h3>
<ul>
<li>
<ol>
<li>HRegionServer&#x27;s role is to manage HRegions. Official documentation states: each HRegionServer can manage 1000 HRegions, each HRegion can manage up to 10G of data</li>
<li>HRegionServer contains 1 WAL, 1 BlockCache, and 0 to multiple HRegions</li>
<li>WAL - Write Ahead Log -&gt; HLog - write log
a. WAL lands on HDFS
b. When HRegionServer receives a write request, it first records the request in WAL, and after successful recording, updates data to memStore. This is done to prevent data loss
c. When WAL reaches a certain limit, a new WAL is generated, and the original WAL becomes oldWAL, which is cleaned up regularly
d. Before HBase 0.94, WAL only allowed serial writes; starting from HBase 0.94, NIO channel mechanism was introduced, allowing parallel writes to WAL</li>
<li>BlockCache - block cache
a. BlockCache is essentially a read cache maintained in memory
b. BlockCache follows &quot;locality&quot; principle when caching - guess:
i. Temporal locality: If a piece of data has been read, it can be considered that this data has a higher probability of being read a second time than other data, so HBase puts this data in read cache
ii. Spatial locality: If a piece of data has been read, then data adjacent to this data can be considered to have a higher probability of being read than other data, so adjacent data is also put in cache
c. Default size of BlockCache is 128M
d. BlockCache adopts LRU strategy
In actual processes, if scan operations are frequent, BlockCache would be disabled; if get operations are frequent, consider using BlockCache</li>
</ol>
</li>
<li></li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="compaction-mechanism">Compaction Mechanism<a href="#compaction-mechanism" class="hash-link" aria-label="Direct link to Compaction Mechanism" title="Direct link to Compaction Mechanism">​</a></h3>
<ul>
<li>
<ol>
<li>HBase provides 2 merge mechanisms:
a. minor compact: merges several small adjacent HFiles in an HRegion into one large HFile; after merging, several HFiles still exist
b. major compact: merges all HFiles in an HRegion into one HFile; after merging, only 1 HFile exists</li>
<li>minor compact has relatively high efficiency, so HBase defaults to minor compact
HFiles during merging will discard data marked for deletion and outdated data (can retain multiple versions of data)</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="write-process">Write Process<a href="#write-process" class="hash-link" aria-label="Direct link to Write Process" title="Direct link to Write Process">​</a></h3>
<ul>
<li>
<ol>
<li>When HBase receives a write request (put/delete/deleteall), it first needs to determine which HRegion to write data to</li>
<li>Find the corresponding HRegionServer, record this write request in WAL, then update data to memStore</li>
<li>After data is updated to memStore, it is sorted: row key dictionary order -&gt; column family name dictionary order -&gt; column name dictionary order -&gt; timestamp reverse order</li>
<li>memStore is maintained in memory, memStore size is 128M</li>
<li>When memStore reaches certain conditions, it flushes to generate a new StoreFile/HFile - single HFile is ordered; if multiple flushes occur, all HFiles are locally ordered</li>
<li>memStore flush conditions:
a. memStore automatically flushes when full
b. By default, when WAL reaches 1G, memStore also flushes and generates a new WAL
c. When the sum of memory occupied by all memStores on an HRegionServer reaches 35% of physical memory, the largest memStore is flushed</li>
<li>HFile ultimately lands on HDFS</li>
<li>First version HFile format:
a. DataBlock: stores data
i. DataBlock is the smallest storage unit in HBase
ii. DataBlock is 64KB by default. Small DataBlocks are better for queries (get); large DataBlocks are better for traversal (scan)
iii. Read cache spatial locality caches by DataBlock units
iv. Each DataBlock consists of one Magic and multiple KeyValues<!-- -->
<ol>
<li>Magic: magic number. Essentially a random number used for verification</li>
<li>KeyValue: key-value pair. Used for actual data storage
b. MetaBlock: stores metadata. Only appears in .meta. files
c. FileInfo: file information. Description of current HFile
d. DataIndex: records starting byte of each DataBlock in file
e. MetaIndex: records starting byte of each MetaBlock in file
f. Trailer: at end of file, fixed 4 bytes, first 2 bytes record DataIndex position, last 2 bytes record MetaIndex position</li>
</ol>
</li>
<li>Second version HFile added a Bloom filter:</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_eA8X" id="read-process">Read Process<a href="#read-process" class="hash-link" aria-label="Direct link to Read Process" title="Direct link to Read Process">​</a></h3>
<ul>
<li>
<ol>
<li>When HBase receives a read request, it first locks the unique HRegion. HRegion is managed by a certain HRegionServer, so it&#x27;s equivalent to locking the unique HRegionServer</li>
<li>First try to read data from BlockCache; if not found, try to read memStore; if memStore also doesn&#x27;t have it, then read HFile</li>
<li>When reading HFile, first filter out HFiles that don&#x27;t match the range based on row key range; after range filtering, use Bloom filter for secondary filtering</li>
</ol>
</li>
<li></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Halcyon666/summary/edit/main/i18n/en/docusaurus-plugin-content-docs/current/11-AI And BD/HBASE.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_JDwx" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Blfy"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-07-31T14:34:29.000Z" itemprop="dateModified">Jul 31, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/summary/en/Others/CnblogsThemeConfiguration/cnblogs-theme-silence configure plain style theme"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">cnblogs-theme-silence</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/summary/en/AI And BD/flink"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">flink</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bFGz thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#hbase-is-a-distributed-scalable-non-relational-database-based-on-hadoop-provided-by-apache---does-not-support-sql" class="table-of-contents__link toc-highlight">HBase is a distributed, scalable, non-relational database based on Hadoop provided by Apache - does not support SQL</a></li></ul></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a><ul><li><a href="#hbase-is-suitable-for-storing-sparse-data---hbase-can-store-structured-and-semi-structured-data" class="table-of-contents__link toc-highlight">HBase is suitable for storing sparse data - HBase can store structured and semi-structured data</a></li><li><a href="#row-key---rowkey" class="table-of-contents__link toc-highlight">Row Key - Rowkey</a></li><li><a href="#column-family---column-family" class="table-of-contents__link toc-highlight">Column Family - Column Family:</a></li><li><a href="#namespace---namespace" class="table-of-contents__link toc-highlight">Namespace - namespace</a></li><li><a href="#cell---cell" class="table-of-contents__link toc-highlight">Cell - Cell</a></li><li><a href="#hbasetxt" class="table-of-contents__link toc-highlight">hbase.txt</a></li></ul></li><li><a href="#mechanism" class="table-of-contents__link toc-highlight">Mechanism</a><ul><li><a href="#1-tables-are-split-from-the-row-key-direction-each-split-part-is-an-hregion-a-table-contains-at-least-1-hregion" class="table-of-contents__link toc-highlight">1. Tables are split from the row key direction, each split part is an HRegion. A table contains at least 1 HRegion</a></li><li><a href="#1-when-hbase-starts-it-registers-a-hbase-node-on-zookeeper" class="table-of-contents__link toc-highlight">1. When HBase starts, it registers a /hbase node on Zookeeper</a></li><li><a href="#hmaster" class="table-of-contents__link toc-highlight">HMaster</a></li><li><a href="#how-hbase-determines-hregion-location-on-first-readwrite" class="table-of-contents__link toc-highlight">How HBase determines HRegion location on first read/write</a></li><li><a href="#hregionserver" class="table-of-contents__link toc-highlight">HRegionServer</a></li><li><a href="#compaction-mechanism" class="table-of-contents__link toc-highlight">Compaction Mechanism</a></li><li><a href="#write-process" class="table-of-contents__link toc-highlight">Write Process</a></li><li><a href="#read-process" class="table-of-contents__link toc-highlight">Read Process</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Halcyon666 Blog. Built with Docusaurus</div></div></div></footer></div>
</body>
</html>