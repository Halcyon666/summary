"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["912"],{38014:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>a,toc:()=>d,default:()=>f,metadata:()=>r,assets:()=>c,contentTitle:()=>s});var r=JSON.parse('{"id":"background/Python/python-replacement-script","title":"\u5728\u591A\u4E2A\u6587\u4EF6\u4E2D\u66FF\u6362\u591A\u4E2A\u76F8\u5E94\u7684\u5185\u5BB9","description":"main.py","source":"@site/docs/01-background/04-Python/02-python-replacement-script.mdx","sourceDirName":"01-background/04-Python","slug":"/background/Python/python-replacement-script","permalink":"/summary/background/Python/python-replacement-script","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/01-background/04-Python/02-python-replacement-script.mdx","tags":[],"version":"current","lastUpdatedBy":"Halcyon666","lastUpdatedAt":1764934283000,"sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Python \u4F7F\u7528\u95EE\u9898","permalink":"/summary/background/Python/python-problems"},"next":{"title":"\u57FA\u6570\u6392\u5E8F","permalink":"/summary/background/algorithm/Base-Sort"}}'),i=t(47259),l=t(68764),o=t(60145);let a={},s="\u5728\u591A\u4E2A\u6587\u4EF6\u4E2D\u66FF\u6362\u591A\u4E2A\u76F8\u5E94\u7684\u5185\u5BB9",c={},d=[{value:"<code>main.py</code>",id:"mainpy",level:2},{value:"<code>rules_module.py</code>",id:"rules_modulepy",level:2},{value:"\u66FF\u6362\u6240\u6709\u7A7A\u884C",id:"\u66FF\u6362\u6240\u6709\u7A7A\u884C",level:2},{value:"\u66FF\u6362\u5305\u542B ABC \u7684\u884C\u4E3A\u7A7A\u884C",id:"\u66FF\u6362\u5305\u542B-abc-\u7684\u884C\u4E3A\u7A7A\u884C",level:2}];function p(e){let n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u5728\u591A\u4E2A\u6587\u4EF6\u4E2D\u66FF\u6362\u591A\u4E2A\u76F8\u5E94\u7684\u5185\u5BB9",children:"\u5728\u591A\u4E2A\u6587\u4EF6\u4E2D\u66FF\u6362\u591A\u4E2A\u76F8\u5E94\u7684\u5185\u5BB9"})}),"\n",(0,i.jsx)(n.h2,{id:"mainpy",children:(0,i.jsx)(n.code,{children:"main.py"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# main.py\nfrom rules_module import rules\nimport re, os\n\ndef replace_content_in_file(file_path, replacement_rules):\n\n    # Read the original content from the file\n    with open(file_path, 'r', encoding='utf-8') as file:\n        content = file.read()\n\n    # Apply multiple replacement rules\n    modified_content = content\n    for rule_data in rules:\n        original_content = rule_data['original_content']\n        replacement = rule_data['replacement']\n        # print(original_content)\n        # print(replacement)\n\n        # \u4F7F\u7528 re.escape \u8F6C\u4E49\u539F\u59CB\u5185\u5BB9\n        escaped_content = re.escape(original_content)\n\n        # \u5B9A\u4E49\u6B63\u5219\u8868\u8FBE\u5F0F\u6A21\u5F0F\n        pattern = re.compile(escaped_content, re.DOTALL)\n\n        # \u4F7F\u7528 sub \u51FD\u6570\u8FDB\u884C\u66FF\u6362\n        modified_content = pattern.sub(replacement, modified_content)\n\n    return modified_content\n\ndef list_files_in_folder(folder_path):\n    \"\"\"\n    List all files in a folder.\n\n    Parameters:\n    - folder_path (str): Path to the folder.\n\n    Returns:\n    - list: List of file names.\n    \"\"\"\n    return [entry.name for entry in os.scandir(folder_path) if entry.is_file()]\n\n\nfolder_to_list = 'application'\ndirectory_prefix = 'st'\nfile_list = list_files_in_folder(folder_to_list)\n\nfor filename in file_list:\n	# Specify the file to process\n    file_to_process = f\"{folder_to_list}/{filename}\"\n    print(f'{file_to_process} has processed!')\n	# Replace content in the specified file using the defined rules\n    final_modified_content = replace_content_in_file(file_to_process, example_rules)\n\n	# Write the final modified content back to the file\n    with open(f\"{file_prefix}/{filename}\", 'w+', encoding='utf-8') as output_file:\n        output_file.write(final_modified_content)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"rules_modulepy",children:(0,i.jsx)(n.code,{children:"rules_module.py"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# rules_module.py\nrules = [\n    {\n        'original_content': 'original_content1',\n        'replacement': 'replacement1'\n    },\n    {\n        'original_content': 'original_content2',\n        'replacement': 'replacement2'\n    },\n    # Add more rules as needed\n]\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u66FF\u6362\u6240\u6709\u7A7A\u884C",children:"\u66FF\u6362\u6240\u6709\u7A7A\u884C"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"^\\s*$\\n+"})}),"\n",(0,i.jsx)(n.h2,{id:"\u66FF\u6362\u5305\u542B-abc-\u7684\u884C\u4E3A\u7A7A\u884C",children:"\u66FF\u6362\u5305\u542B ABC \u7684\u884C\u4E3A\u7A7A\u884C"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ABC(.*)\\s*"})}),"\n","\n",(0,i.jsx)(o.A,{})]})}function f(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);