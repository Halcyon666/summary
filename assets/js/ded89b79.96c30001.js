"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["220"],{6750:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>h,metadata:()=>r,assets:()=>c,contentTitle:()=>s});var r=JSON.parse('{"id":"Java/middleware/Kafka","title":"Kafka\u4F7F\u7528\u95EE\u9898","description":"Kafka\u4F7F\u7528\u95EE\u9898","source":"@site/docs/01-Java/08-middleware/01-Kafka.mdx","sourceDirName":"01-Java/08-middleware","slug":"/Java/middleware/Kafka","permalink":"/summary/Java/middleware/Kafka","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/01-Java/08-middleware/01-Kafka.mdx","tags":[],"version":"current","lastUpdatedBy":"Halcyon666","lastUpdatedAt":1758428116000,"sidebarPosition":1,"frontMatter":{"title":"Kafka\u4F7F\u7528\u95EE\u9898","sidebar_label":"Kafka\u4F7F\u7528\u95EE\u9898"},"sidebar":"tutorialSidebar","previous":{"title":"\u8BBE\u8BA1\u6A21\u5F0F","permalink":"/summary/Java/DesignPattern/Design Pattern"},"next":{"title":"jQuery\u9009\u62E9\u5668","permalink":"/summary/Frontend/JQuery-revese-selector"}}'),i=a(5813),o=a(6436),t=a(145);let l={title:"Kafka\u4F7F\u7528\u95EE\u9898",sidebar_label:"Kafka\u4F7F\u7528\u95EE\u9898"},s,c={},d=[{value:"Kafka\u4F7F\u7528\u95EE\u9898",id:"kafka\u4F7F\u7528\u95EE\u9898",level:2},{value:"\u5982\u4F55\u4F7F\u7528Docker Compose\u90E8\u7F72Kafka",id:"\u5982\u4F55\u4F7F\u7528docker-compose\u90E8\u7F72kafka",level:3},{value:"\u62A5\u9519\u4E00",id:"\u62A5\u9519\u4E00",level:4},{value:"\u5982\u4F55\u4F7F\u7528\u547D\u4EE4\u884C\u64CD\u4F5C\u96C6\u7FA4",id:"\u5982\u4F55\u4F7F\u7528\u547D\u4EE4\u884C\u64CD\u4F5C\u96C6\u7FA4",level:3},{value:"\u5982\u4F55\u5728Spring Boot\u4E2D\u4F7F\u7528Kafka",id:"\u5982\u4F55\u5728spring-boot\u4E2D\u4F7F\u7528kafka",level:3}];function k(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"kafka\u4F7F\u7528\u95EE\u9898",children:"Kafka\u4F7F\u7528\u95EE\u9898"}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4F55\u4F7F\u7528docker-compose\u90E8\u7F72kafka",children:"\u5982\u4F55\u4F7F\u7528Docker Compose\u90E8\u7F72Kafka"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u501F\u9274github",(0,i.jsx)(n.a,{href:"https://github.com/conduktor/kafka-stack-docker-compose/tree/master",children:"\u4ED3\u5E93"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u4E0B\u9762\u793A\u4F8B\u4F7F\u7528\u6700\u7B80\u5355\u7684 ",(0,i.jsx)(n.code,{children:"zk-single-kafka-single.yml"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4EE5\u4E0B\u4E3A\u6B63\u786E\u793A\u4F8B\uFF1A"}),"\n",(0,i.jsx)(n.p,{children:"\u5BF9\u4ED3\u5E93\u4E2D\u7684\u6587\u4EF6\u4F5C\u4E86\u4E24\u5904\u8C03\u6574"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u8C03\u6574\u4E86\u5BF9\u94B1\u7684\u8FDE\u63A5\u5730\u5740"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"-       KAFKA_ADVERTISED_LISTENERS: INTERNAL://kafka1:19092,EXTERNAL://${DOCKER_HOST_IP:-127.0.0.1}:9092,DOCKER://host.docker.internal:29092\n+      KAFKA_ADVERTISED_LISTENERS: INTERNAL://kafka1:19092,EXTERNAL://${DOCKER_HOST_IP:-192.168.3.163}:9092,DOCKER://host.docker.internal:29092\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5728Zoo1\u548Ckafka1\u4E2D\u90FD\u6DFB\u52A0\u4E86\u65F6\u533A\uFF0C\u53EF\u4EE5\u89E3\u51B3\u65F6\u95F4\u4E0D\u5BF9\u7684\u95EE\u9898"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"+      TZ: Asia/Shanghai\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",children:'version: \'2.1\'\n\nservices:\n  zoo1:\n    image: confluentinc/cp-zookeeper:7.3.2\n    hostname: zoo1\n    container_name: zoo1\n    ports:\n      - "2181:2181"\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_SERVER_ID: 1\n      ZOOKEEPER_SERVERS: zoo1:2888:3888\n      TZ: Asia/Shanghai\n\n  kafka1:\n    image: confluentinc/cp-kafka:7.3.2\n    hostname: kafka1\n    container_name: kafka1\n    ports:\n      - "9092:9092"\n      - "29092:29092"\n      - "9999:9999"\n    environment:\n      KAFKA_ADVERTISED_LISTENERS: INTERNAL://kafka1:19092,EXTERNAL://${DOCKER_HOST_IP:-192.168.3.163}:9092,DOCKER://host.docker.internal:29092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT,DOCKER:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL\n      KAFKA_ZOOKEEPER_CONNECT: "zoo1:2181"\n      KAFKA_BROKER_ID: 1\n      KAFKA_LOG4J_LOGGERS: "kafka.controller=INFO,kafka.producer.async.DefaultEventHandler=INFO,state.change.logger=INFO"\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\n      KAFKA_JMX_PORT: 9999\n      KAFKA_JMX_HOSTNAME: ${DOCKER_HOST_IP:-127.0.0.1}\n      KAFKA_AUTHORIZER_CLASS_NAME: kafka.security.authorizer.AclAuthorizer\n      KAFKA_ALLOW_EVERYONE_IF_NO_ACL_FOUND: "true"\n      TZ: Asia/Shanghai\n    depends_on:\n      - zoo1\n'})}),"\n",(0,i.jsx)(n.h4,{id:"\u62A5\u9519\u4E00",children:"\u62A5\u9519\u4E00"}),"\n",(0,i.jsx)(n.p,{children:"\u8C03\u6574\u5916\u90E8\u8FDE\u63A5\u5730\u5740\u5373\u53EF\u89E3\u51B3\u95EE\u9898"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"[| adminclient-1] org.apache.kafka.clients.NetworkClient : [AdminClient clientId=adminclient-1] Connection to node 1 (/127.0.0.1:9092) could not be established. Broker may not be available.\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4F55\u4F7F\u7528\u547D\u4EE4\u884C\u64CD\u4F5C\u96C6\u7FA4",children:"\u5982\u4F55\u4F7F\u7528\u547D\u4EE4\u884C\u64CD\u4F5C\u96C6\u7FA4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# \u521B\u5EFAtopic\ndocker run --rm --network=host \\\n           confluentinc/cp-kafka:7.3.2 \\\n           kafka-topics --bootstrap-server=127.0.0.1:9092 \\\n                        --create \\\n                        --topic=my-topic \\\n                        --partitions=3 \\\n                        --replication-factor=1\n# \u751F\u4EA7\u6D88\u606F\ndocker run --tty --interactive \\\n           --rm \\\n           --network=host \\\n           confluentinc/cp-kafka:7.3.2 \\\n           kafka-console-producer --broker-list=127.0.0.1:9092 --topic=my-topic\n           \n# \u6D88\u8D39\u6D88\u606F  \ndocker run --tty --interactive \\\n           --rm \\\n           --network=host \\\n           confluentinc/cp-kafka:7.3.2 \\\n           kafka-console-consumer --bootstrap-server=127.0.0.1:9092 --topic=my-topic\n		   \n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4F55\u5728spring-boot\u4E2D\u4F7F\u7528kafka",children:"\u5982\u4F55\u5728Spring Boot\u4E2D\u4F7F\u7528Kafka"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.baeldung.com/spring-kafka",children:"\u53C2\u8003\u8D44\u6599"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/Halcyon666/kafka-learn",children:"\u53C2\u8003\u4ED3\u5E93\u4EE3\u7801"})}),"\n",(0,i.jsx)(n.p,{children:"\u4ED3\u5E93\u4EE3\u7801\u7B80\u5355\u4ECB\u7ECD\u4E86 Kafka\u521B\u5EFA\u5B57\u7B26\u4E32\u6D88\u606F\u548CPojo\u6D88\u606F\uFF0C\u53D1\u9001\u6D88\u606F\u7684\u793A\u4F8B\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u53C2\u8003\u8D44\u6599\u6D89\u53CA\u591A\u79CD\u7C7B\u578B\u6D88\u606F\u6DF7\u5408\u751F\u4EA7\u548C\u6D88\u8D39\u3002\u503C\u5F97\u5B66\u4E60\u548C\u501F\u9274\u3002"}),"\n","\n",(0,i.jsx)(t.A,{})]})}function h(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(k,{...e})}):k(e)}}}]);