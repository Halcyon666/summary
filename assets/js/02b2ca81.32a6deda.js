"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["605"],{63077(e,t,r){r.r(t),r.d(t,{metadata:()=>a,default:()=>m,frontMatter:()=>c,contentTitle:()=>i,toc:()=>l,assets:()=>p});var a=JSON.parse('{"id":"background/Java/Spring/AOP/AspectJ/aspectj-weaving","title":"AspectJ\u7EC7\u5165\u65B9\u6CD5","description":"\u672C\u6587\u76F8\u5173\u4EE3\u7801(\u6765\u81EA\u5B98\u65B9\u6E90\u7801spring-test\u6A21\u5757)\u8BF7\u53C2\u89C1[spring-framework](https://github.com/Halcyon666/sprin","source":"@site/docs/background/Java/Spring/AOP/AspectJ/aspectj-weaving.mdx","sourceDirName":"background/Java/Spring/AOP/AspectJ","slug":"/background/Java/Spring/AOP/AspectJ/aspectj-weaving","permalink":"/summary/background/Java/Spring/AOP/AspectJ/aspectj-weaving","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/background/Java/Spring/AOP/AspectJ/aspectj-weaving.mdx","tags":[{"inline":true,"label":"algorithm","permalink":"/summary/tags/algorithm"},{"inline":true,"label":"computer-science","permalink":"/summary/tags/computer-science"},{"inline":true,"label":"data-structures","permalink":"/summary/tags/data-structures"}],"version":"current","lastUpdatedBy":"halcyon666","lastUpdatedAt":1769299200000,"sidebarPosition":10,"frontMatter":{"id":"aspectj-weaving","title":"AspectJ\u7EC7\u5165\u65B9\u6CD5","sidebar_label":"AspectJ\u7EC7\u5165\u65B9\u6CD5","sidebar_position":10,"description":"\u672C\u6587\u76F8\u5173\u4EE3\u7801(\u6765\u81EA\u5B98\u65B9\u6E90\u7801spring-test\u6A21\u5757)\u8BF7\u53C2\u89C1[spring-framework](https://github.com/Halcyon666/sprin","tags":["algorithm","computer-science","data-structures"],"last_update":{"date":"2026-01-25","author":"halcyon666"},"sources":["spring-core"]},"sidebar":"tutorialSidebar","previous":{"title":"AspectJ\u5F62\u5F0FAOP\u6982\u8FF0","permalink":"/summary/background/Java/Spring/AOP/AspectJ/aspectj-overview"},"next":{"title":"AspectJ\u5F62\u5F0FAOP\u4F7F\u7528","permalink":"/summary/background/Java/Spring/AOP/AspectJ/full-aspectj-temp"}}'),s=r(62615),n=r(77545),o=r(4040);let c={id:"aspectj-weaving",title:"AspectJ\u7EC7\u5165\u65B9\u6CD5",sidebar_label:"AspectJ\u7EC7\u5165\u65B9\u6CD5",sidebar_position:10,description:"\u672C\u6587\u76F8\u5173\u4EE3\u7801(\u6765\u81EA\u5B98\u65B9\u6E90\u7801spring-test\u6A21\u5757)\u8BF7\u53C2\u89C1[spring-framework](https://github.com/Halcyon666/sprin",tags:["algorithm","computer-science","data-structures"],last_update:{date:"2026-01-25",author:"halcyon666"},sources:["spring-core"]},i,p={},l=[{value:"\u4E24\u79CD\u7EC7\u5165Aspect\u65B9\u6CD5",id:"\u4E24\u79CD\u7EC7\u5165aspect\u65B9\u6CD5",level:2},{value:"\u7F16\u7A0B\u65B9\u5F0F\u7EC7\u5165",id:"\u7F16\u7A0B\u65B9\u5F0F\u7EC7\u5165",level:3},{value:"\u901A\u8FC7\u81EA\u52A8\u4EE3\u7406\u7EC7\u5165",id:"\u901A\u8FC7\u81EA\u52A8\u4EE3\u7406\u7EC7\u5165",level:3}];function d(e){let t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components},{Details:r}=t;return r||function(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["\u672C\u6587\u76F8\u5173\u4EE3\u7801(\u6765\u81EA",(0,s.jsx)(t.a,{href:"https://github.com/spring-projects/spring-framework.git",title:"\u5B98\u65B9\u6E90\u7801",children:"\u5B98\u65B9\u6E90\u7801"}),"spring-test\u6A21\u5757)\u8BF7\u53C2\u89C1",(0,s.jsx)(t.a,{href:"https://github.com/Halcyon666/spring-framework-modified/tree/main/spring-test",children:"spring-framework"})," org.springframework.mylearntest\u5305\u4E0B\u3002"]}),"\n",(0,s.jsx)(t.h2,{id:"\u4E24\u79CD\u7EC7\u5165aspect\u65B9\u6CD5",children:"\u4E24\u79CD\u7EC7\u5165Aspect\u65B9\u6CD5"}),"\n",(0,s.jsx)(t.p,{children:"\u5047\u5982\u6211\u4EEC\u6709\u4E00\u4E2A\u76EE\u6807\u5BF9\u8C61Foo\uFF0C\u6709\u4E24\u79CD\u65B9\u5F0F\u5C06Aspect\u5B9A\u4E49\u7EC7\u5165\u8FD9\u4E2A\u76EE\u6807\u5BF9\u8C61\u7C7B\uFF0C\u5B9E\u73B0\u5BF9\u5176\u7B26\u5408Pointcut\u5B9A\u4E49\u7684Joinpoint\u8FDB\u884C\u62E6\u622A\u3002"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Foo"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'public class Foo {\n	public void method1() {\n		System.out.println("method1 executed");\n	}\n\n	public void method2() {\n		System.out.println("method2 executed");\n	}\n}\n'})})]}),"\n",(0,s.jsx)(t.h3,{id:"\u7F16\u7A0B\u65B9\u5F0F\u7EC7\u5165",children:"\u7F16\u7A0B\u65B9\u5F0F\u7EC7\u5165"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"\u901A\u8FC7AspectJProxyFactory\u5B9E\u73B0"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"public class Test4AspectJProxyFactory {\n	public static void main(String[] args) {\n		AspectJProxyFactory weaver = new AspectJProxyFactory();\n		weaver.setProxyTargetClass(true);\n		weaver.setTarget(new Foo());\n		weaver.addAspect(PerformanceTraceAspect.class);\n		Object proxy = weaver.getProxy();\n		((Foo)proxy).method1();\n		((Foo)proxy).method2();\n	}\n}\n"})})]}),"\n",(0,s.jsx)(t.h3,{id:"\u901A\u8FC7\u81EA\u52A8\u4EE3\u7406\u7EC7\u5165",children:"\u901A\u8FC7\u81EA\u52A8\u4EE3\u7406\u7EC7\u5165"}),"\n",(0,s.jsx)(t.p,{children:"\u9488\u5BF9@AspectJ\u98CE\u683C\u7684AOP\uFF0CSpring AOP\u4E13\u95E8\u63D0\u4F9B\u4E86\u4E00\u4E2AAutoProxyCreator\u5B9E\u73B0\u7C7B\u8FDB\u884C\u81EA\u52A8\u4EE3\u7406\uFF0C\u4EE5\u514D\u53BB\u8FC7\u591A\u7684\u7F16\u7801\u548C\u914D\u7F6E\u5DE5\u4F5C\uFF0C\u5B83\u662F\u5728AbstractAdvisorAutoProxyCreator\u57FA\u7840\u4E0A\u7684\u4E00\u4E2A\u6269\u5C55\u7C7B\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u4E0EAutoProxyCreator\u4E00\u6837\uFF0C\u6211\u4EEC\u9700\u8981\u5728IoC\u5BB9\u5668\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u6CE8\u518C\u4E00\u4E0BAnnotationAwareAspectJAutoProxyCreator\u5C31\u53EF\u4EE5\u4E86\u3002"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://s2.loli.net/2023/07/15/hrGdFWtgxbfa78l.png",alt:""})}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"xml \u914D\u7F6E"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-xml",children:'<beans xmlns="http://www.springframework.org/schema/beans"\n	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n	   xmlns:aop="http://www.springframework.org/schema/aop"\n	   xsi:schemaLocation="http://www.springframework.org/schema/beans\n		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n\n		 http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd">\n\n	<aop:aspectj-autoproxy proxy-target-class="true"/>\n	\x3c!--	\u7B49\u540C\u4E8E\u4E0A\u9762\u4E00\u884C--\x3e\n	\x3c!--<bean class="org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator">\n		<property name="proxyTargetClass" value="true"/>\n	</bean>--\x3e\n\n	<bean id="performanceAspect" class="org.springframework.mylearntest.aop2.aspectj.PerformanceTraceAspect"/>\n\n	<bean id="target" class="org.springframework.mylearntest.aop2.aspectj.Foo"/>\n</beans>\n'})})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"TestAutoAspectJ"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'public class Test4AutoAspectJ {\n	public static void main(String[] args) {\n		ApplicationContext context = new ClassPathXmlApplicationContext("annotationawareaspectJautoproxycreator\\\\annotationawareaspectJautoproxycreator.xml");\n		Object proxy = context.getBean("target");\n		((Foo)proxy).method1();\n		((Foo)proxy).method2();\n	}\n}\n'})})]}),"\n",(0,s.jsx)(t.p,{children:"\u5982\u679C\u628Atarget\u4F5C\u4E3A\u4F9D\u8D56\u5BF9\u8C61\u6CE8\u5165\u5176\u4ED6\u7684bean\u5B9A\u4E49\uFF0C\u90A3\u4E48\u4F9D\u8D56\u7684\u4E3B\u4F53\u5BF9\u8C61\u5728\u6301\u6709\u7684\u4E5F\u662F\u88AB\u4EE3\u7406\u8FC7\u7684\u76EE\u6807\u5BF9\u8C61\u3002"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Tip"})}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:"\u5728\u4F7F\u7528@AspectJ\u5F62\u5F0F\u7684AOP\u7684\u65F6\u5019\uFF0C\u5E94\u8BE5\u5C3D\u91CF\u4F7F\u7528\u5BB9\u5668\u5185\u7684\u81EA\u52A8\u4EE3\u7406\u652F\u6301\uFF0C\u901A\u5E38\uFF0C\u53EA\u6709\u5904\u4E8E\u6D4B\u8BD5\u76EE\u7684\u624D\u4F1A\u4F7F\u7528\u7F16\u7A0B\u7684\u65B9\u5F0F\u76F4\u63A5\u7EC7\u5165\u64CD\u4F5C\uFF0C\u5728\u4F7F\u7528\u8FC7\u7A0B\u4E2D\uFF0C\u4F60\u4F1A\u53D1\u73B0\uFF0C\u5B9E\u9645\u4E0A\u8FD9\u4E24\u79CD\u65B9\u5F0F\u662F\u6709\u5DEE\u5F02\u7684\uFF0C\u4E00\u4E9B\u884C\u4E3A\u5E76\u4E0D\u7EDF\u4E00\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u4F7F\u7528@Aspect\u5F62\u5F0F\u7684AOP\uFF0C\u9700\u8981\u5F15\u5165aspectjweaver.jar\u548Caspectjrt.jar\u3002"}),"\n"]}),"\n","\n",(0,s.jsx)(o.A,{})]})}function m(e={}){let{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);