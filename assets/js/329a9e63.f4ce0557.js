"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["4274"],{29586:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>l,toc:()=>c,default:()=>x,metadata:()=>i,assets:()=>o,contentTitle:()=>d});var i=JSON.parse('{"id":"Java/JavaBase/netty","title":"netty","description":"\u6E90\u7801\u5206\u6790\uFF1A\u4E3A\u4EC0\u4E48\u8981\u5148\u8BBE\u7F6E newCtx \u7684 prev \u548C next\uFF0C\u518D\u628A\u5B83\u52A0\u5230\u94FE\u8868\u91CC\uFF1F","source":"@site/docs/01-Java/01-JavaBase/05-netty.mdx","sourceDirName":"01-Java/01-JavaBase","slug":"/Java/JavaBase/netty","permalink":"/summary/Java/JavaBase/netty","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/01-Java/01-JavaBase/05-netty.mdx","tags":[],"version":"current","lastUpdatedBy":"Halcyon666","lastUpdatedAt":1760072588000,"sidebarPosition":5,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Java\u7C7B\u63CF\u8FF0","permalink":"/summary/Java/JavaBase/class description"},"next":{"title":"Spring Core","permalink":"/summary/Java/Spring/Spring-Core"}}'),s=t(65813),a=t(16545),r=t(60145);let l={},d="netty",o={},c=[{value:"\u6E90\u7801\u5206\u6790\uFF1A\u4E3A\u4EC0\u4E48\u8981\u5148\u8BBE\u7F6E newCtx \u7684 prev \u548C next\uFF0C\u518D\u628A\u5B83\u52A0\u5230\u94FE\u8868\u91CC\uFF1F",id:"\u6E90\u7801\u5206\u6790\u4E3A\u4EC0\u4E48\u8981\u5148\u8BBE\u7F6E-newctx-\u7684-prev-\u548C-next\u518D\u628A\u5B83\u52A0\u5230\u94FE\u8868\u91CC",level:2}];function h(e){let n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"netty",children:"netty"})}),"\n",(0,s.jsx)(n.h2,{id:"\u6E90\u7801\u5206\u6790\u4E3A\u4EC0\u4E48\u8981\u5148\u8BBE\u7F6E-newctx-\u7684-prev-\u548C-next\u518D\u628A\u5B83\u52A0\u5230\u94FE\u8868\u91CC",children:"\u6E90\u7801\u5206\u6790\uFF1A\u4E3A\u4EC0\u4E48\u8981\u5148\u8BBE\u7F6E newCtx \u7684 prev \u548C next\uFF0C\u518D\u628A\u5B83\u52A0\u5230\u94FE\u8868\u91CC\uFF1F"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://s2.loli.net/2025/09/22/NmiBwZOqyFnj3KQ.png",alt:"20250922233019"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://s2.loli.net/2025/09/22/bi6RxrGKVFOldJT.png",alt:"20250922233035"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"io.netty.channel.DefaultChannelPipeline#addLast0"})}),"\n",(0,s.jsxs)(n.p,{children:["You're ",(0,s.jsx)(n.strong,{children:"modifying the linked list pointers"})," to include ",(0,s.jsx)(n.code,{children:"newCtx"})," ",(0,s.jsx)(n.strong,{children:"before"})," fully initializing its ",(0,s.jsx)(n.code,{children:"prev"})," and ",(0,s.jsx)(n.code,{children:"next"}),". ",(0,s.jsx)("br",{}),"\nIf anything (like another thread or debugging breakpoint) tries to traverse the list at this point \u2014 ",(0,s.jsx)(n.code,{children:"newCtx"})," is in the chain,\nbut not fully initialized yet. That could lead to nulls or broken state during traversal."]}),"\n",(0,s.jsxs)(n.p,{children:["While ",(0,s.jsx)(n.strong,{children:"your order may work in some cases"}),", it is ",(0,s.jsx)(n.strong,{children:"unsafe and not recommended"}),"."]}),"\n",(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsx)(n.p,{children:"\u2757 The safe pattern is always:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Initialize the new node's pointers"})})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Then hook it into the list"})})}),"\n"]})]}),"\n","\n",(0,s.jsx)(r.A,{})]})}function x(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);