"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["8315"],{40898:function(n,e,E){E.r(e),E.d(e,{frontMatter:()=>d,toc:()=>c,default:()=>T,metadata:()=>r,assets:()=>a,contentTitle:()=>i});var r=JSON.parse('{"id":"Java/DateBase/Oracle","title":"Oracle \u76F8\u5173","description":"ORACLE \u5B58\u50A8\u8FC7\u7A0B","source":"@site/docs/01-Java/06-DateBase/01-Oracle.mdx","sourceDirName":"01-Java/06-DateBase","slug":"/Java/DateBase/Oracle","permalink":"/summary/Java/DateBase/Oracle","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/01-Java/06-DateBase/01-Oracle.mdx","tags":[],"version":"current","lastUpdatedBy":"Halcyon666","lastUpdatedAt":1759859493000,"sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Java \u5E76\u53D1\u7F16\u7A0B","permalink":"/summary/Java/ConcurrentAndJVM/Java Concurrent Cases"},"next":{"title":"mysql\u5B58\u50A8\u8FC7\u7A0B","permalink":"/summary/Java/DateBase/mysql Procedure"}}'),l=E(65813),s=E(16545),R=E(60145);let d={},i="Oracle \u76F8\u5173",a={},c=[{value:"ORACLE \u5B58\u50A8\u8FC7\u7A0B",id:"oracle-\u5B58\u50A8\u8FC7\u7A0B",level:2},{value:"\u521B\u5EFA\u65E0\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B",id:"\u521B\u5EFA\u65E0\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B",level:3},{value:"\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u4F7F\u7528\u6E38\u6807",id:"\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u4F7F\u7528\u6E38\u6807",level:3},{value:"\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u8868",id:"\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u8868",level:3},{value:"\u5E26\u6709\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B",id:"\u5E26\u6709\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B",level:3},{value:"\u5E26\u6709\u8F93\u51FA\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B\u7684\u8C03\u7528",id:"\u5E26\u6709\u8F93\u51FA\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B\u7684\u8C03\u7528",level:3},{value:"ORACLE \u5FAA\u73AF\u7ED3\u6784 IF WHILE FOR",id:"oracle-\u5FAA\u73AF\u7ED3\u6784-if-while-for",level:3},{value:"\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B",id:"\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B",level:3},{value:"\u67E5\u8BE2 oracle \u6570\u636E\u5E93\u4E2D\u6307\u5B9A\u7528\u6237\u4E0B \u7684\u5B58\u50A8\u8FC7\u7A0B",id:"\u67E5\u8BE2-oracle-\u6570\u636E\u5E93\u4E2D\u6307\u5B9A\u7528\u6237\u4E0B-\u7684\u5B58\u50A8\u8FC7\u7A0B",level:3},{value:"\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B\u7684\u9519\u8BEF",id:"\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B\u7684\u9519\u8BEF",level:3},{value:"\u5B58\u50A8\u8FC7\u7A0B\u7684\u91CD\u65B0\u7F16\u8BD1",id:"\u5B58\u50A8\u8FC7\u7A0B\u7684\u91CD\u65B0\u7F16\u8BD1",level:3},{value:"\u50A8\u5B58\u8FC7\u7A0B\u81EA\u52A8\u7F16\u8BD1\u6240\u6709\u65E0\u6548\u5B58\u50A8\u8FC7\u7A0B",id:"\u50A8\u5B58\u8FC7\u7A0B\u81EA\u52A8\u7F16\u8BD1\u6240\u6709\u65E0\u6548\u5B58\u50A8\u8FC7\u7A0B",level:3},{value:"\u5220\u9664\u5B58\u50A8\u8FC7\u7A0B",id:"\u5220\u9664\u5B58\u50A8\u8FC7\u7A0B",level:3},{value:"\u51FD\u6570\u7684\u521B\u5EFA\u8BED\u6CD5\u7ED3\u6784",id:"\u51FD\u6570\u7684\u521B\u5EFA\u8BED\u6CD5\u7ED3\u6784",level:2},{value:"\u521B\u5EFA\u65E0\u53C2\u6570\u51FD\u6570",id:"\u521B\u5EFA\u65E0\u53C2\u6570\u51FD\u6570",level:3},{value:"\u521B\u5EFA\u6709\u53C2\u6570\u51FD\u6570",id:"\u521B\u5EFA\u6709\u53C2\u6570\u51FD\u6570",level:3},{value:"\u4FEE\u6539\u51FD\u6570",id:"\u4FEE\u6539\u51FD\u6570",level:3},{value:"\u91CD\u65B0\u3001\u5220\u9664\u7F16\u8BD1\u51FD\u6570",id:"\u91CD\u65B0\u5220\u9664\u7F16\u8BD1\u51FD\u6570",level:3},{value:"begin end \u5199\u6CD5",id:"begin-end-\u5199\u6CD5",level:3},{value:"\u67E5\u8BE2\u8868\u662F\u5426\u5B58\u5728\uFF0C\u6216\u8005\u5217\u662F\u5426\u5B58\u5728",id:"\u67E5\u8BE2\u8868\u662F\u5426\u5B58\u5728\u6216\u8005\u5217\u662F\u5426\u5B58\u5728",level:2},{value:"SQL \u9519\u8BEF [17041] [99999]: \u7D22\u5F15\u4E2D\u4E22\u5931 IN \u6216 OUT \u53C2\u6570",id:"sql-\u9519\u8BEF-17041-99999-\u7D22\u5F15\u4E2D\u4E22\u5931-in-\u6216-out-\u53C2\u6570",level:2},{value:"\u91CD\u7F6E Oracle \u6570\u636E\u5E93\u5BC6\u7801",id:"\u91CD\u7F6E-oracle-\u6570\u636E\u5E93\u5BC6\u7801",level:2},{value:"Oracle \u8FC1\u79FB\u5230 GaussDb \u95EE\u9898",id:"oracle-\u8FC1\u79FB\u5230-gaussdb-\u95EE\u9898",level:2},{value:"GaussDb \u5173\u952E\u5B57\u95EE\u9898",id:"gaussdb-\u5173\u952E\u5B57\u95EE\u9898",level:3},{value:"\u53C2\u8003\u8D44\u6599\uFF1A",id:"\u53C2\u8003\u8D44\u6599",level:2}];function O(n){let e={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"oracle-\u76F8\u5173",children:"Oracle \u76F8\u5173"})}),"\n",(0,l.jsx)(e.h2,{id:"oracle-\u5B58\u50A8\u8FC7\u7A0B",children:"ORACLE \u5B58\u50A8\u8FC7\u7A0B"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE [OR REPLACE] PROCEDURE [schema.] procedure_name\n[parameter_name] [[IN] datatype [{:=|DEFAULT} expression]\n| {OUT | IN OUT} [NOCOPY] datatype][,...]{IS | AS} BODY;\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u521B\u5EFA\u65E0\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B",children:"\u521B\u5EFA\u65E0\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4FEE\u6539 READERINFO2 \u8868\u4E2D BOOKCOUNT \u7684\u6570\u636E\uFF0C\u4E3A\u8BA1\u7B97\u673A\u7CFB\u53EF\u501F\u4E66\u7684\u6570\u76EE\u589E\u52A0 1"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE PROCEDURE PRO_READER\nAS\nBEGIN\nUPDATE READERINFO2 SET BOOKCOUNT = BOOKCOUNT+1\nWHERE UNIT = '\u8BA1\u7B97\u673A\u7CFB';\nEND;\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u4F7F\u7528\u6E38\u6807",children:"\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u4F7F\u7528\u6E38\u6807"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u641C\u7D22 READERINFO2 \u8868\u4E2D\u6240\u6709\u81EA\u52A8\u5316\u7CFB\u548C\u751F\u7269\u7CFB\u7684\u6570\u636E\uFF0C\u5E76\u5224\u65AD\u5F53\u501F\u4E66\u7684\u6570\u636E\uFF08BOOKCOUNT\uFF09\u5C0F\u4E8E 3 \u65F6\uFF0C\u4E3A\u5176\u589E\u52A0 1"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"\nCREATE PROCEDURE PRO_READER_COT\nAS\n    v_readerinfo READERINFO2%ROWTYPE;-- \u58F0\u660E\u6807\u53D8\u91CFv_readerinfo\uFF0C\u5176\u6570\u636E\u7C7B\u578B\u4E3AREADERINFO2\u884C\u8BB0\u5F55\u7C7B\u578B\n    -- \u4E5F\u53EF\u58F0\u660E\u4E3A\u5217\u7C7B\u578B READERINFO2.bookcount%TYPE\n\n    CURSOR cursor_readerinfo\n    IS\n    SELECT *\n    FROM READERINFO2\n    WHER UNIT IN('\u81EA\u52A8\u5316\u7CFB','\u751F\u7269\u7CFB')\n    ORDER BY UNIT;-- \u8868\u793A\u58F0\u660E\u521B\u5EFA\u6E38\u6807cursor_readerinfo\n\n    BEGIN\n        OPE cursor_readerinfo; --\u6253\u5F00\u6E38\u6807\n        LOOP\n            FETCH cursor_readerinfo INTO v_readerinfo; -- \u4ECE\u6E38\u6807\u4E2D\u63D0\u53D6\u6307\u9488\u6307\u5411\u5F53\u524D\u884C\u6570\u636E\uFF0C\u5E76\u5B58\u5165\u6807\u91CFv_readerinfo\n            EXIT WHEN cursor_readerinfo%NOTFOUND; -- \u8868\u793A\u8FDB\u884C\u5224\u65AD\uFF0C\u5F53\u6E38\u6807\u6307\u9488\u5230\u5C3E\u90E8\u65F6\uFF0C\u5C06\u7ED3\u675F\u5FAA\u73AF\n            IF v_readerinfo.bookcount < 3 THEN\n                UPDATE READERINFO2 SET BOOKCOUNT = BOOKCOUNT+1\n                WHERE READERID = v_readerinfo.readerid;\n            END IF;\n        END LOOP;\n    END;\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u8868",children:"\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u8868"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8981\u6C42\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u4E00\u4E2A\u8868\u7528\u4E8E\u5B58\u50A8\u4E34\u65F6\u6570\u636E"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE PROCEDURE PRO_CRTTAB\nAS\ntabeexists VARCHAR2(2); -- \u58F0\u660E\u53D8\u91CF\nmy_createtab VARCHAR2(400);\nBEGIN\n    SELECT COUNT(1) INTO tabeexists\n    FROM ALL_TABLES\n    WHERE TABLE_NAME = 'MY_TEST_TAB';-- \u4ECEALL_TABLES\u6570\u636E\u5B57\u5178\u4E2D\u67E5\u8BE2\u662F\u5426\u5DF2\u7ECF\u5B58\u5728\u4E34\u65F6\u8868MY_TEST_TAB,\u5E76\u628A\u7ED3\u679C\u8D4B\u503C\u7ED9\u53D8\u91CFtabeexists\n    my_createtab := 'CREATE GLOBAL TEMPORARY TABLE MY_TEST_TAB\n (TEST VARCHAR2(20) not null)\n  ON Commit Preserve Rows';-- \u8868\u793A\u53D8\u91CFmy_createtab\u8D4B\u503C\u521B\u5EFA\u4E34\u65F6\u8868\u7684\u8BED\u53E5\n\nIF tabeexists = 0 THEN\n    EXECUTE IMMEDIATE my_createtab;\n    DBMS_OUTPUT.PUT_LINE('\u4E34\u65F6\u8868\u521B\u5EFA\u6210\u529F...');\nELSE\n    EXECUTE IMMEDIATE 'DELETE FROM MY_TEST_TAB';\n    DBMS_OUTPUT.PUT_LINE('\u8BB0\u5F55\u5DF2\u7ECF\u5220\u9664...');\nEND IF;\nEND;\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528",(0,l.jsx)(e.code,{children:"GRANT CREATE ANY TABLE TO USER"}),"\u4E3A\u7528\u6237\u8D4B\u4E88\u6743\u9650"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5E26\u6709\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B",children:"\u5E26\u6709\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u8C03\u7528\u65F6\uFF0C\u901A\u8FC7\u5236\u5B9A\u6240\u9700\u8981\u7684\u53C2\u6570\u503C\uFF0C\u5B9E\u73B0\u7279\u5B9A\u7684\u529F\u80FD\u3002\u5728\u521B\u5EFA\u65F6\uFF0C\u8FD8\u53EF\u4EE5\u4E3A\u53C2\u6570\u5236\u5B9A\u9ED8\u8BA4\u503C\u3002\u5B58\u50A8\u8FC7\u7A0B\u4E00\u65E6\u4F7F\u7528\u4E86\u53C2\u6570\uFF0C\u90A3\u4E48\u5728\u6267\u884C\u5B58\u50A8\u8FC7\u7A0B\u65F6\u5219\u8981\u6C42\u5FC5\u987B\u4E3A\u5176\u5236\u5B9A\u53C2\u6570\uFF0C\u53C2\u6570\u5141\u8BB8\u662F\u5E38\u91CF\u3001\u53D8\u91CF\u3001\u8868\u8FBE\u5F0F\u7B49\u3002",(0,l.jsx)("br",{}),"\n\u5B58\u50A8\u8FC7\u7A0B\u7684\u53C2\u6570\u6709\u8F93\u5165\u3001\u8F93\u51FA\u3001\u8F93\u5165\u8F93\u51FA 3 \u4E2D\u7C7B\u578B\u3002\u5176\u4E2D\u8F93\u5165\u53C2\u6570\u4E5F\u662F\u9ED8\u8BA4\u7684\u53C2\u6570\uFF0C\u4E5F\u53EB IN \u7C7B\u578B\u53C2\u6570\u3002",(0,l.jsx)("br",{})]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u8981\u6C42\u521B\u5EFA\u4E00\u4E2A\u5B58\u50A8\u8FC7\u7A0B\uFF0C\u7528\u4E8E\u67E5\u8BE2 READERINFO \u8868\u4E2D\u6240\u6709 READERID\u3001READENAME\u3001UNIT\u3001BOOKCOUNT\uFF0C\u4EE5\u53CA\u5176\u5728 BOOKINFO",(0,l.jsx)("br",{}),"\n\u8868\u4E2D\u501F\u9605\u7684\u56FE\u4E66\u6570\u76EE\u3002\u901A\u8FC7\u8BBE\u7F6E\u8F93\u5165\u53C2\u6570\uFF0C\u4F7F\u5F97\u5B58\u50A8\u8FC7\u7A0B\u80FD\u591F\u7075\u6D3B\u5730\u9009\u62E9\u8981\u67E5\u8BE2\u7684\u8BFB\u8005\u5355\u4F4D\uFF0C\u4EE5\u53CA\u80FD\u591F\u501F\u9605\u7684\u6700\u5C11\u8BFB\u4E66\u6570\u76EE\uFF0C\u5E76\u8F93\u51FA\u5230\u5C4F\u5E55\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE PROCEDURE\n    PRO_READERLIST_SE(unit IN VARCHAR2, minbookcount IN NUMBER)-- \u4E24\u4E2A\u8F93\u5165\u578B\u53C2\u6570 unit minbookcount\nAS\n\nTYPE reader_book_rc IS RECORD\n(\n    v_readerid READERINFO.READERID%TYPE,\n    v_readername READERINFO.READERNAME%TYPE,\n    v_unit READERINFO.UNIT%TYPE,\n    v_bookcount READERINFO.BOOKCOUNT%TYPE,\n    v_count_reader NUMBER(8)\n);                      -- \u58F0\u660E\u4E00\u4E2A\u8BB0\u5F55\u7C7B\u578B\u7684\u6570\u636E\u7C7B\u578B\n\nv_readebook_rc reader_book_rc;-- \u58F0\u660E\u53D8\u91CF \u8BE5\u53D8\u91CF\u4E3A\u8BB0\u5F55\u7C7B\u578B\n\nCURSOR cur_readebook\nIS\nSELECT R.readerid, R.readername, R.unit, R.bookcount, Count(B.reader)borrowedbooks\n    FROM ReaderInfo R\n    LEFT OUTER JOIN BookInfo B\n    ON R.readerid=B.reader\n    WHERE R.unit like unit\n    AND R.bookcount >= minbookcount\n    GROUP BY R.readerid, R.readerid, R.readername, R.unit, R.bookcount\n    ORDER BY R.bookcount;-- \u521B\u5EFA\u6E38\u6807\uFF0C\u8BE5\u6E38\u6807\u5173\u8054\u7684\u67E5\u8BE2\u8BED\u53E5\u6709\u6761\u4EF6\uFF0C\u8BE5\u6761\u4EF6\u6765\u81EA\u4E8E\u8BE5\u5B58\u50A8\u8FC7\u7A0B\u7684\u8F93\u5165\u7C7B\u578B\u53C2\u6570\n\nBEGIN\nOPEN cur_readebook;\n\n    LOOP\n        FETCH cur_readebook INTO v_readebook_rc;\n        EXIT WHEN cur_readebook %NOTFOUND;\n        DBMS_OUTPUT.PUT_LINE(v_readebook_rc.v_readerid\n        ||'-'|| v_readebook_rc.v_readername\n        ||'-'|| v_readebook_rc v_unit\n        ||'-'|| v_readebook_rc v_bookcount\n        ||'-'|| v_readebook_rc v_count_reader);\n    END LOOP; -- \u5229\u7528\u5FAA\u73AF\u904D\u5386\u6E38\u6807\uFF0C\u628A\u53D8\u91CF\u4E2D\u7684\u6570\u636E\u53D6\u51FA\u5E76\u8F93\u51FA\u5230\u5C4F\u5E55\nCLOSE cur_readebook;\nend;\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8C03\u7528\u5B58\u50A8\u8FC7\u7A0B\n",(0,l.jsx)(e.code,{children:"EXEC PRO_READERLIST_SE('%', 3)"})]}),"\n",(0,l.jsx)(e.p,{children:"\u4E3A minbookcount \u8BBE\u5B9A\u9ED8\u8BA4\u503C"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE PROCEDURE\n    PRO_READERLIST_SE(unit IN VARCHAR2, minbookcount IN NUMBER DEFAULT 2)\n--\u540E\u9762\u7684\u7701\u7565 \u540C\u4E0A\u811A\u672C\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u5E26\u6709\u8F93\u51FA\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B\u7684\u8C03\u7528",children:"\u5E26\u6709\u8F93\u51FA\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B\u7684\u8C03\u7528"}),"\n",(0,l.jsx)(e.p,{children:"\u8981\u6C42\u521B\u5EFA\u4E00\u4E2A\u5E26\u6709\u8F93\u51FA\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B\uFF0C\u7136\u540E\u8C03\u7528\u5B83\u4E3A\u53D8\u91CF\u8D4B\u503C\u3002"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u521B\u5EFA\u5E26\u6709\u8F93\u51FA\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B\u3002\u8BBE\u7F6E\u5B58\u50A8\u8FC7\u7A0B PRO_OUT_ELT\uFF0C\u8BE5\u5B58\u50A8\u8FC7\u7A0B\u7535\u90AE\u4E00\u4E2A\u8F93\u51FA\u53C2\u6570\uFF0C\u5B83\u7684\u529F\u80FD\u662F\u8FD4\u56DE\u8F93\u51FA\u53C2\u6570\u7684\u503C\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE PROCEDURE PRO_OUT_ELT(parm_out OUT VARCHAR2)\nAS\nBEGIN\n    parm_out := '\u8BA1\u7B97\u673A\u7CFB';\nEND;\n/\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u8C03\u7528 PRO_OUT_ELT \u5B58\u50A8\u8FC7\u7A0B\u4E3A\u53D8\u91CF\u8D4B\u503C\u3002\u521B\u5EFA\u5B58\u50A8\u8FC7\u7A0B PRO_READER_CLOSE\uFF0C\u5728\u8BE5\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u8C03\u7528 PRO_OUT_ELT \u4E3A\u53D8\u91CF\u8D4B\u503C\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE PROCEDURE PRO_READER_CLOSE\nAS\n    v_readerinfo READERINFO2%ROWTYPE;\n    v_elmts varchar2(30);\n\n    CURSOR cursor_readerinfose\n    IS\n    SELECT * FROM READERINFO2\n    WHERE UNIT = v_elmts\n    ORDER BY UNIT; -- \u58F0\u660E\u6E38\u6807\u548C\u5173\u8054\u6761\u4EF6\uFF0C\u67E5\u8BE2\u6761\u4EF6\u4E2D\u4F7F\u7528\u4E86\u53D8\u91CFv_elmts\n\nBEGIN\nPRO_OUT_ELT(v_elmts); -- \u8C03\u7528\u5B58\u50A8\u8FC7\u7A0BPRO_OUT_ELT\uFF0C\u4E3Av_elmts\u8D4B\u503C\n\nOPEN cursor_readerinfose;\n    LOOP\n        FETCH cursor_readerinfose INTO v_readerinfo;\n        EXIT WHEN cursor_readerinfose%NOTFOUND;\n        IF V_readerinfo.bookcount < 3 THEN\n            UPDATE READERINFO2 SET BOOKCOUNT = BOOKCOUNT+1\n            WHERE READERID = v_readerinfo.readerid;\n            DBMS_OUTPUT.PUT_LINE('\u6570\u636E\u4FEE\u6539\u5B8C\u6BD5...');\n        END IF;\n    END LOOP;\nEND;\n/\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"\u521B\u5EFA PRO_OUT_EL, PRO_READER_CLOSE \u5229\u7528 EXEC \u547D\u4EE4 PRO_READER_CLOSE"}),"\n"]}),"\n",(0,l.jsxs)(e.admonition,{type:"warning",children:[(0,l.jsx)(e.p,{children:"\u8C03\u7528 OUT \u7C7B\u578B\u53C2\u6570\u5F97\u5B58\u50A8\u8FC7\u7A0B\u65F6\uFF0C\u9700\u8981\u7528\u53D8\u91CF\u586B\u5145\uFF0C\u800C\u4E0D\u80FD\u7528\u5E38\u91CF\u8868\u8FBE\u5F0F\u586B\u5145\u3002"}),(0,l.jsx)(e.p,{children:"\u5728\u8C03\u7528\u5B58\u50A8\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C\u56E0\u53D1\u751F\u672A\u5904\u7406\u7684\u5F02\u5E38\u800C\u4E2D\u65AD\uFF0C\u90A3\u4E48\u8C03\u7528\u8005\u4E00\u822C\u4E0D\u4F1A\u5F97\u5230\u4EFB\u4F55 OUT \u53C2\u6570\u7684\u503C\uFF0C\u800C\u5728\u5F02\u5E38\u88AB\u5904\u7406\u7684\u60C5\u51B5\u4E0B\u9000\u51FA\uFF0C\u5728\u53D1\u751F\u5F02\u5E38\u4E4B\u524D\u6240\u83B7\u53D6\u7684 OUT \u53C2\u6570\u503C\u5C06\u88AB\u8C03\u7528\u8005\u83B7\u5F97\u3002"}),(0,l.jsxs)(e.p,{children:["\u5728\u5B58\u50A8\u8FC7\u7A0B\u4E2D\u67D0\u4E2A\u53C2\u6570\u65E2\u53EF\u4EE5\u662F\u8F93\u5165\u53C2\u6570\u4E5F\u53EF\u4EE5\u662F\u8F93\u51FA\u53C2\u6570\u7C7B\u578B\u7684\u53C2\u6570\uFF0C\u5B83\u65E2\u53EF\u4EE5\u63A5\u6536\u6570\u636E\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u6570\u636E\u3002\n",(0,l.jsx)(e.code,{children:"parameter IN OUT datatype"})]})]}),"\n",(0,l.jsx)(e.h3,{id:"oracle-\u5FAA\u73AF\u7ED3\u6784-if-while-for",children:"ORACLE \u5FAA\u73AF\u7ED3\u6784 IF WHILE FOR"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/wraith/articles/2564519.html",children:"\u5E7B\u5F71 11 ORACLE \u4E2D\u7684\u5FAA\u73AF\u603B\u7ED3"})}),"\n",(0,l.jsx)(e.h3,{id:"\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B",children:"\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B"}),"\n",(0,l.jsx)(e.p,{children:"\u5728 Oracle \u7684\u6570\u636E\u5B57\u5178 USER_SOURCE \u4E2D\u8BB0\u5F55\u7528\u6237\u5B9A\u4E49\u7684\u5B58\u50A8\u8FC7\u7A0B\u7684\u5143\u6570\u636E"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4ECE USER_SOURCE \u4E2D\u67E5\u8BE2\u5F53\u524D\u7528\u6237\u7684\u6240\u6709\u5B58\u50A8\u8FC7\u7A0B\u540D\u79F0"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"SELECT DISTINCT NAME FROM USER_SOURCE\nWHERE TYPE = 'PROCEDURE'\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"-- \u53EA\u67E5\u770B\u5F53\u524D\u7528\u6237\u6240\u6709\u7684\u5B58\u50A8\u8FC7\u7A0B\uFF0C\u4E0D\u67E5\u770B\u5177\u4F53\u7684\u811A\u672C\nSELECT * FORM USER_OBJECTS WHERE object_type = 'PROCEDURE';\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u67E5\u8BE2\u5B58\u50A8\u8FC7\u7A0B\u7684\u521B\u5EFA\u811A\u672C"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"SELECT NAME, LINE, TEXT, FROM USER_SOURCE-- line\u4E3A\u811A\u672C\u7F16\u53F7 text\u91CC\u9762\u5B58\u653E\u4E86\u5B58\u50A8\u8FC7\u7A0B\u7684\u76F8\u5173\u811A\u672C\nWHERE TYPE = 'PROCEDURE' AND NAME = 'PRO_READER'\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u67E5\u8BE2-oracle-\u6570\u636E\u5E93\u4E2D\u6307\u5B9A\u7528\u6237\u4E0B-\u7684\u5B58\u50A8\u8FC7\u7A0B",children:"\u67E5\u8BE2 oracle \u6570\u636E\u5E93\u4E2D\u6307\u5B9A\u7528\u6237\u4E0B \u7684\u5B58\u50A8\u8FC7\u7A0B"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"SELECT OBJECT_NAME ,LAST_DDL_TIME ,STATUS FROM ALL_OBJECTS\n    WHERE\n        OWNER = 'JC' AND\n        OBJECT_TYPE = 'PROCEDURE' AND\n        TO_CHAR(LAST_DDL_TIME,'yyyy-mm-dd') < '2022-12-20';\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B\u7684\u9519\u8BEF",children:"\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B\u7684\u9519\u8BEF"}),"\n",(0,l.jsxs)(e.p,{children:["\u9519\u8BEF\u63D0\u793A\u8BED\u53E5\u7684\u7ED3\u6784\n",(0,l.jsx)(e.code,{children:"select * from SYS.USER_ERRORS where NAME = upper('procedure_name'); "}),"\n\u67E5\u8BE2\u4E0D\u5230\u8BF7\u7528\u8FD9\u4E2A SQL\n",(0,l.jsx)(e.code,{children:"select * from SYS.ALL_ERRORS where NAME = upper('procedure_name'); "})]}),"\n",(0,l.jsx)(e.h3,{id:"\u5B58\u50A8\u8FC7\u7A0B\u7684\u91CD\u65B0\u7F16\u8BD1",children:"\u5B58\u50A8\u8FC7\u7A0B\u7684\u91CD\u65B0\u7F16\u8BD1"}),"\n",(0,l.jsxs)(e.p,{children:["\u5F53\u5B58\u50A8\u8FC7\u7A0B\u7684\u5F15\u7528\u5BF9\u8C61\u5931\u6548\u65F6\u8C03\u7528\u8005\u5C31\u4F1A\u51FA\u73B0\u5931\u6548\u7684\u60C5\u51B5\uFF0C\u5F53\u8FD9\u79CD\u60C5\u51B5\u51FA\u73B0\u65F6\uFF0C\u53EA\u8981\u4E0D\u662F\u811A\u672C\u51FA\u73B0\u95EE\u9898\uFF0C\u53EA\u9700\u8981\u91CD\u65B0\u7F16\u8BD1\u5C31\u53EF\u4EE5\u6B63\u5E38\u4F7F\u7528\u4E86\u3002",(0,l.jsx)(e.code,{children:"ALTER PROCEDURE procedure_name COMPILE;"})]}),"\n",(0,l.jsx)(e.h3,{id:"\u50A8\u5B58\u8FC7\u7A0B\u81EA\u52A8\u7F16\u8BD1\u6240\u6709\u65E0\u6548\u5B58\u50A8\u8FC7\u7A0B",children:"\u50A8\u5B58\u8FC7\u7A0B\u81EA\u52A8\u7F16\u8BD1\u6240\u6709\u65E0\u6548\u5B58\u50A8\u8FC7\u7A0B"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"begin end \u7248\u672C"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"DECLARE\n    V_OBJECT_NAME ALL_OBJECTS.OBJECT_NAME%TYPE;-- \u5B9A\u4E49\u5B57\u6BB5\u7C7B\u578B\u4E3AALL_OBJECTS\u8868\u4E2DOBJECT_NAME\u5217\u7C7B\u578B\n    V_SQL VARCHAR(1024);\n    V_CNT NUMBER(5);\nCURSOR CURSOR_OBJECTNAME IS\n    SELECT OBJECT_NAME FROM ALL_OBJECTS WHERE\n            OWNER = 'JC' AND OBJECT_TYPE = 'PROCEDURE' AND STATUS = 'INVALID';\nBEGIN\n    SELECT COUNT(1) INTO V_CNT  FROM ALL_OBJECTS WHERE OWNER = 'JC' AND\n            OBJECT_TYPE = 'PROCEDURE' AND STATUS = 'INVALID';\n    OPEN CURSOR_OBJECTNAME;\n    LOOP\n        BEGIN\n            FETCH CURSOR_OBJECTNAME INTO V_OBJECT_NAME;\n            EXIT WHEN CURSOR_OBJECTNAME%NOTFOUND;\n            -- \u6CE8\u610F\u62FC\u63A5\u65F6\u9700\u8981\u52A0\u7A7A\u683C\n            V_SQL := 'ALTER PROCEDURE '|| V_OBJECT_NAME ||' COMPILE';\n            --DBMS_OUTPUT.PUT_LINE(V_SQL);\n            EXECUTE IMMEDIATE V_SQL;\n            DBMS_OUTPUT.PUT_LINE(V_OBJECT_NAME || ' finished complied ');\n        EXCEPTION\n        WHEN OTHERS THEN\n            DBMS_OUTPUT.PUT_LINE('code:' || SQLCODE);\n            DBMS_OUTPUT.PUT_LINE('errm:' || SQLERRM);\n            DBMS_OUTPUT.PUT_LINE('lineno:' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);\n        END;\n    END LOOP;\n    DBMS_OUTPUT.PUT_LINE('total compiled ' || V_CNT || ' !');\nEND;\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u5B58\u50A8\u8FC7\u7A0B\u7248\u672C"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE OR REPLACE PROCEDURE JC.compile_invalid_procedure\nAS\n    V_OBJECT_NAME ALL_OBJECTS.OBJECT_NAME%TYPE;\n    V_SQL VARCHAR(1024);\n    V_CNT NUMBER(5);\nCURSOR CURSOR_OBJECTNAME IS\n    SELECT OBJECT_NAME FROM ALL_OBJECTS WHERE\n            OWNER = 'JC' AND OBJECT_TYPE = 'PROCEDURE' AND STATUS = 'INVALID';\nBEGIN\n    SELECT COUNT(1) INTO V_CNT  FROM ALL_OBJECTS WHERE OWNER = 'JC' AND\n            OBJECT_TYPE = 'PROCEDURE' AND STATUS = 'INVALID';\n    OPEN CURSOR_OBJECTNAME;\n    LOOP\n        BEGIN\n            FETCH CURSOR_OBJECTNAME INTO V_OBJECT_NAME;\n            EXIT WHEN CURSOR_OBJECTNAME%NOTFOUND;\n            V_SQL := 'ALTER PROCEDURE '|| V_OBJECT_NAME ||' COMPILE';\n            EXECUTE IMMEDIATE V_SQL;\n            DBMS_OUTPUT.PUT_LINE(V_OBJECT_NAME || ' finished complied ');\n        EXCEPTION\n        WHEN OTHERS THEN\n            DBMS_OUTPUT.PUT_LINE('code:' || SQLCODE);\n            DBMS_OUTPUT.PUT_LINE('errm:' || SQLERRM);\n            DBMS_OUTPUT.PUT_LINE('lineno:' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);\n        END;\n    END LOOP;\n    DBMS_OUTPUT.PUT_LINE('total compiled ' || V_CNT || ' !');\nEND;\n"})}),"\n",(0,l.jsx)(e.p,{children:"\uFF1A\uFF1A\uFF1Atip\n\u5982\u679C\u4F7F\u7528 dbeaver \u521B\u5EFA\u5B58\u50A8\u8FC7\u7A0B\uFF0C\u5728 sql \u7A97\u53E3\u4E2D\u6267\u884C\u65F6\uFF0C\u4F7F\u7528 crl+end \u628A\u6574\u4E2A\u811A\u672C\u4F5C\u4E3A\u4E00\u4E2A sql \u6267\u884C;\n:::"}),"\n",(0,l.jsx)(e.h3,{id:"\u5220\u9664\u5B58\u50A8\u8FC7\u7A0B",children:"\u5220\u9664\u5B58\u50A8\u8FC7\u7A0B"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.code,{children:"DROP PROCEDURE [ schema. ] procedure_name"})}),"\n",(0,l.jsx)(e.h2,{id:"\u51FD\u6570\u7684\u521B\u5EFA\u8BED\u6CD5\u7ED3\u6784",children:"\u51FD\u6570\u7684\u521B\u5EFA\u8BED\u6CD5\u7ED3\u6784"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE FUNCTION [ schema. ] function_name\n    [\n    (paramter_declaration [, paramter_declaration])\n    ]\n    RETURN datatype\n    {IS | AS}\n    [declare_selection]\n\n    BEGIN\n        statement [ statement | pagma ]...\n            [EXCEPTION exception_handler [ exception_handler] ... ]\n    END [name];\n/\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4F7F\u7528\u81EA\u5B9A\u4E49\u51FD\u6570\u6CE8\u610F"})}),"\n",(0,l.jsx)(e.p,{children:"\u81EA\u5B9A\u4E49\u51FD\u6570\u5C3D\u91CF\u4E0D\u8981\u64CD\u4F5C\u6570\u636E\u5E93\u6570\u636E"}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679C\u5728\u6807\u51C6 SQL \u8C03\u7528\u81EA\u5B9A\u4E49\u51FD\u6570\uFF0C\u90A3\u4E48\u88AB\u8C03\u7528\u51FD\u6570\u4E0D\u5141\u8BB8\u6709\u8F93\u51FA\u7C7B\u578B\u7684\u53C2\u6570\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679C\u5728\u6807\u51C6 SQL \u4E2D\u8C03\u7528\u81EA\u5B9A\u4E49\u51FD\u6570\uFF0C\u90A3\u4E48\u88AB\u8C03\u7528\u51FD\u6570\u5C06\u4E0D\u80FD\u6709\u4E8B\u52A1\u64CD\u4F5C\u8BED\u53E5\u548C DDL \u8BED\u53E5\u7B49\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u67E5\u8BE2\u6216\u589E\u52A0\u3001\u4FEE\u6539\u3001\u5220\u9664\u64CD\u4F5C\u6240\u8C03\u7528\u7684\u51FD\u6570\u964D\u4E0D\u5141\u8BB8\u64CD\u4F5C\u4EFB\u4F55\u6570\u636E\u8868"}),"\n",(0,l.jsx)(e.h3,{id:"\u521B\u5EFA\u65E0\u53C2\u6570\u51FD\u6570",children:"\u521B\u5EFA\u65E0\u53C2\u6570\u51FD\u6570"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8981\u6C42\u521B\u5EFA\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u53EF\u4EE5\u8FD4\u56DE\u5F53\u524D\u7684\u767B\u5F55\u7528\u6237"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE FUNCTION MYUSER\nRETURN VARCHAR2\nIS\n    v_qnty VARCHAR2(20); --\u8868\u793A\u58F0\u660E\u51FD\u6570\u5185\u90E8\u7684\u53D8\u91CF\uFF0C\u4E3AVARCHAR2\u7C7B\u578B\n\nBEGIN\n    SELECT SYS.LOGIN_USER INTO v_qnty\n    FROM DUAL;\n    RETURN v_qnty;\nEND;\n/\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u521B\u5EFA\u6709\u53C2\u6570\u51FD\u6570",children:"\u521B\u5EFA\u6709\u53C2\u6570\u51FD\u6570"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE FUNCTION GETUNIT(in_readerid IN VARCHAR2) --\u521B\u5EFA\u51FD\u6570GETUNIT\uFF0C\u5E26\u6709\u4E00\u4E2A\u8F93\u5165\u7C7B\u578B\u7684\u53C2\u6570\nRETURN VARCHAR2 IS\n    v_readerid VARCHAR2(20);\nBEGIN\n    SELECT UNIT INTO v_readerid FROM READERINFO2 WHERE\n    READERID = inreaderid;\n    RETURN v_readerid;\nEND;\n/\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"var v_unit VARCHAR2(10);\nEXEC :v_unit := GETUNIT('9702')\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8981\u6C42\u521B\u5EFA\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u5E26\u6709\u4E24\u4E2A\u8F93\u51FA\u53C2\u6570\uFF0C\u5728\u6839\u636E BOOKID \u67E5\u8BE2 BOOKINFO \u8868\u65F6\uFF0C\u80FD\u591F\u8FD4\u56DE\u56FE\u4E66\u540D\u79F0\u3001\u51FA\u7248\u793E\u53CA\u4F5C\u8005"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE FUNCTION GETBOOKINFO(in_bookid IN NUMBER, out_pulish OUT VARCHAR2, out_author OUT VARCHAR2)\nRETURN VARCHAR2\nIS\n    v_bookname VARCHAR2(20);\n    v_out_publish VARCHAR2(50);\n    v_out_author VARCHAR2(50);\n\nBEGIN\n    SELECT BOOKNAME. PUBLISH, AUTHOR INTO\n    v_bookname, v_out_publish, v_author\n    FROM BOOKID = in_bookid;\n    out_publish := v_out_publish;\n    out_author := v_out_author;\n    RETURN v_bookname;\nEND;\n/\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728\u4E0D\u589E\u52A0\u51FD\u6570\u53C2\u6570\u7684\u57FA\u7840\u4E0A\uFF0C\u8FD4\u56DE\u56FE\u4E66\u7684\u4EF7\u683C"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE FUNCTION GETBOOKINFO(in_bookid IN OUT NUMBER, out_pulish OUT VARCHAR2, out_author OUT VARCHAR2)\nRETURN VARCHAR2\nIS\n  v_bookname VARCHAR2(20);\n  v_out_publish VARCHAR2(50);\n  v_out_author VARCHAR2(50);\n  v_out_price NUMBER(8);\nBEGIN\n    SELECT BOOKNAME. PUBLISH, AUTHOR, PRICE INTO\n    v_bookname, v_out_publish, v_author, v_out_price\n    FROM BOOKID = in_bookid;\n    out_publish := v_out_publish;\n    out_author := v_out_author;\n    in_bookid := v_out_price;\n    RETURN v_bookname;\nEND;\n/\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"## \u67E5\u770B\u51FD\u6570\n\n```sql\n-- \u67E5\u770B\u51FD\u6570\u5217\u8868\nSELECT OBJECT_NAEM, OBJECT_ID, STATUS FROM USER_OBJECTS WHERE OBJECT_TYPE = 'FUNCTION';/\n-- \u67E5\u770B\u51FD\u6570\u76F8\u5173\u811A\u672C\nSELECT * FROM USER_SOURCE WHERE TYPE = 'FUNCTION' AND NAME = 'MYUSER' ORDER BY LINE;/\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u4FEE\u6539\u51FD\u6570",children:"\u4FEE\u6539\u51FD\u6570"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE OR REPLACE FUNCTION MYUSER\nRETURN VARCHAR2\nIS\n    v_qnty VARCHAR2(20); --\u8868\u793A\u58F0\u660E\u51FD\u6570\u5185\u90E8\u7684\u53D8\u91CF\uFF0C\u4E3AVARCHAR2\u7C7B\u578B\n\nBEGIN\n    SELECT SYS.LOGIN_USER INTO v_qnty\n    FROM DUAL;\n    RETURN v_qnty;\nEND;\n/\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u91CD\u65B0\u5220\u9664\u7F16\u8BD1\u51FD\u6570",children:"\u91CD\u65B0\u3001\u5220\u9664\u7F16\u8BD1\u51FD\u6570"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"ALTER FUNCTION function_name COMILE;\nDROP FUNCTION function_name;\n"})}),"\n",(0,l.jsx)(e.h3,{id:"begin-end-\u5199\u6CD5",children:"begin end \u5199\u6CD5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"DECLARE\n        v_currenttime timestamp;\n  BEGIN\n        v_currenttime := SYSDATE();\n    UPDATE test\n       SET COMPLETE   = 'Y',\n         UPDATETIME = v_currenttime\n     WHERE STEPCODE = 10;\n  EXCEPTION\n    WHEN OTHERS THEN\n        dbms_output.put_line('code:' || sqlcode);\n        dbms_output.put_line('errm:' || sqlerrm);\n        dbms_output.put_line('lineno:' || dbms_utility.format_error_backtrace);\n      ROLLBACK;\n      RETURN;\n  END;\n  /\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u67E5\u8BE2\u8868\u662F\u5426\u5B58\u5728\u6216\u8005\u5217\u662F\u5426\u5B58\u5728",children:"\u67E5\u8BE2\u8868\u662F\u5426\u5B58\u5728\uFF0C\u6216\u8005\u5217\u662F\u5426\u5B58\u5728"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"SELECT * FROM USER_TAB_COLS WHERE TABLE_NAME = 'TEST1' AND COLUMN_NAME = 'PWD';\nSELECT * FROM ALL_TABLES WHERE TABLE_NAME = 'TEST1';\nALTER PROCEDURE JC.INSERT2TEST1 COMPILE;\n"})}),"\n",(0,l.jsx)(e.h2,{id:"sql-\u9519\u8BEF-17041-99999-\u7D22\u5F15\u4E2D\u4E22\u5931-in-\u6216-out-\u53C2\u6570",children:"SQL \u9519\u8BEF [17041] [99999]: \u7D22\u5F15\u4E2D\u4E22\u5931 IN \u6216 OUT \u53C2\u6570"}),"\n",(0,l.jsx)(e.p,{children:"\u53EF\u80FD\u539F\u56E0\uFF1A\u5728\u8C03\u7528\u50A8\u5B58\u8FC7\u7A0B\u65F6\uFF0CCALL XXX ();"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)("font",{style:{color:"red"},children:"\u50A8\u5B58\u8FC7\u7A0B\u540D\u79F0\u540E\u9762\u4E0D\u80FD\u6709\u7A7A\u683C"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5165\u53C2\u4E0D\u8981\u4F7F\u7528?\u4F5C\u4E3A\u5C55\u4F4D\u7B26\u53F7\uFF0C\u5982\u679C\u4E3A\u7A7A\u76F4\u63A5\u4F7F\u7528'' \u6216\u8005 null \u5373\u53EF"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u91CD\u7F6E-oracle-\u6570\u636E\u5E93\u5BC6\u7801",children:"\u91CD\u7F6E Oracle \u6570\u636E\u5E93\u5BC6\u7801"}),"\n",(0,l.jsxs)(e.p,{children:["Shell \u7A97\u53E3\u6267\u884C",(0,l.jsx)(e.code,{children:"sqlplus / as sysdba"})," \u62A5\u9519\uFF1A",(0,l.jsx)(e.code,{children:"-bash: connect: command not found"}),"\uFF0C\u6B64\u65F6 \u9700\u8981\u5207\u6362\u5230 oracle \u7528\u6237"]}),"\n",(0,l.jsx)(e.admonition,{type:"caution",children:(0,l.jsxs)(e.p,{children:["\u4F7F\u7528",(0,l.jsx)(e.code,{children:"su - oracle"}),"\uFF0C\u8FD9\u6837\u73AF\u5883\u53D8\u91CF\u624D\u4E0D\u4F1A\u5931\u6548",(0,l.jsx)("br",{}),"\n\u6216\u8005\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"su oracle"})," \u53EA\u4E0D\u8FC7\u8981\u6267\u884C\u4E00\u4E0B\u547D\u4EE4",(0,l.jsx)(e.code,{children:"source ~/.bash_profile"})]})}),"\n",(0,l.jsx)(e.p,{children:"Oracle \u521B\u5EFA\u7528\u6237\u6388\u6743\u767B\u64CD\u4F5C"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.code,{children:"alter user system identified by 123456;"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/zbh355376/p/14273464.html",children:"\u5176\u4ED6 dba \u64CD\u4F5C \u53C2\u8003\u6B64\u535A\u6587"})}),"\n",(0,l.jsx)(e.h2,{id:"oracle-\u8FC1\u79FB\u5230-gaussdb-\u95EE\u9898",children:"Oracle \u8FC1\u79FB\u5230 GaussDb \u95EE\u9898"}),"\n",(0,l.jsx)(e.h3,{id:"gaussdb-\u5173\u952E\u5B57\u95EE\u9898",children:"GaussDb \u5173\u952E\u5B57\u95EE\u9898"}),"\n",(0,l.jsxs)(e.p,{children:["GaussDb KeyWord problem. Fix it.",(0,l.jsx)("br",{}),"\nAnnotation Field like this ",(0,l.jsx)(e.code,{children:'@TableField("\\"xxx\\"")'}),"."]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Be careful: Lowercase and two double quotes needs here."}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u53C2\u8003\u8D44\u6599",children:"\u53C2\u8003\u8D44\u6599\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E66\u7C4D ORCACLE PL/SQL \u5B9D\u5178"}),"\n",(0,l.jsxs)(e.li,{children:["\u5F15\u7528\u535A\u5BA2 ",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/wraith/articles/2564519.html",children:"\u5E7B\u5F71 11 ORACLE \u4E2D\u7684\u5FAA\u73AF\u603B\u7ED3"})]}),"\n",(0,l.jsxs)(e.li,{children:["DBA \u64CD\u4F5C ",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/zbh355376/p/14273464.html",children:"\u5176\u4ED6 dba \u64CD\u4F5C \u53C2\u8003\u6B64\u535A\u6587"})]}),"\n"]}),"\n","\n",(0,l.jsx)(R.A,{})]})}function T(n={}){let{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(O,{...n})}):O(n)}}}]);