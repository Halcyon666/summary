"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["5597"],{41730:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>l,toc:()=>h,default:()=>p,metadata:()=>r,assets:()=>o,contentTitle:()=>d});var r=JSON.parse('{"id":"Frontend/react","title":"Basic React","description":"\u65B0\u5EFAreact\u9879\u76EE","source":"@site/docs/02-Frontend/15-react.mdx","sourceDirName":"02-Frontend","slug":"/Frontend/react","permalink":"/summary/Frontend/react","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/02-Frontend/15-react.mdx","tags":[],"version":"current","lastUpdatedBy":"Halcyon666","lastUpdatedAt":1760803600000,"sidebarPosition":15,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Docusaurus","permalink":"/summary/Frontend/docusaurus"},"next":{"title":"A Robust Draggable Element","permalink":"/summary/Frontend/Drag and Drop Container Movement"}}'),s=t(47259),i=t(55511),c=t(85651),a=t(60145);let l={},d="Basic React",o={},h=[{value:"\u65B0\u5EFAreact\u9879\u76EE",id:"\u65B0\u5EFAreact\u9879\u76EE",level:2},{value:"spread and destruturing array or object",id:"spread-and-destruturing-array-or-object",level:2},{value:"Updating a nested object",id:"updating-a-nested-object",level:2},{value:"\u7BAD\u5934\u51FD\u6570",id:"\u7BAD\u5934\u51FD\u6570",level:2},{value:"react\u6570\u636E\u904D\u5386\u6307\u5B9Akey",id:"react\u6570\u636E\u904D\u5386\u6307\u5B9Akey",level:2},{value:"\u5411react\u7EC4\u4EF6\u4F20\u9012\u53C2\u6570",id:"\u5411react\u7EC4\u4EF6\u4F20\u9012\u53C2\u6570",level:2},{value:"useState function",id:"usestate-function",level:2},{value:"onClick\u4F20\u503C\u51FD\u6570\u540Dor\u533F\u540D\u51FD\u6570",id:"onclick\u4F20\u503C\u51FD\u6570\u540Dor\u533F\u540D\u51FD\u6570",level:2},{value:"\u5982\u4F55\u52A8\u6001\u8BBE\u7F6E\u53D8\u91CF\u540D\u4E3Akey\u503C",id:"\u5982\u4F55\u52A8\u6001\u8BBE\u7F6E\u53D8\u91CF\u540D\u4E3Akey\u503C",level:2},{value:"tsx\u80FD\u6E32\u67D3\u7684\u7C7B\u578B",id:"tsx\u80FD\u6E32\u67D3\u7684\u7C7B\u578B",level:2},{value:"useEffect function",id:"useeffect-function",level:2},{value:"how to clean resouce in useEffect",id:"how-to-clean-resouce-in-useeffect",level:2}];function u(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"basic-react",children:"Basic React"})}),"\n",(0,s.jsx)(n.h2,{id:"\u65B0\u5EFAreact\u9879\u76EE",children:"\u65B0\u5EFAreact\u9879\u76EE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npm create vite@latest my-react-app\n\ncd my-react-app\nnpm install\nnpm run dev\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://s2.loli.net/2025/10/07/hW3iwvBKxSORsHf.png",alt:""})}),"\n",(0,s.jsx)(n.h2,{id:"spread-and-destruturing-array-or-object",children:"spread and destruturing array or object"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"spread array"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const arr = [1, 2, 3];\nconst copy = [...arr];\nconsole.log(copy); // [1, 2, 3]\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"spread object"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const obj = { a: 1, b: 2 };\nconst copy = { ...obj };\nconsole.log(copy); // { a: 1, b: 2 }\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"array destruturing"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const [a, b] = [10, 20];\nconsole.log(a); // 10\nconsole.log(b); // 20\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"object destruturing"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'const person = { name: "Alice", age: 25 };\nconst { name, age } = person;\nconsole.log(name, age); // Alice 25\n'})}),"\n",(0,s.jsx)(n.h2,{id:"updating-a-nested-object",children:"Updating a nested object"}),"\n",(0,s.jsx)(n.p,{children:"consider the object construct like this,"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"const [person, setPerson] = useState({\n  name: 'Niki de Saint Phalle',\n  artwork: {\n    title: 'Blue Nana',\n    city: 'Hamburg',\n    image: 'https://i.imgur.com/Sd1AgUOm.jpg',\n  }\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:"you can update immutable object like this way,"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const nextArtwork = { ...person.artwork, city: 'New Delhi' };\nconst nextPerson = { ...person, artwork: nextArtwork };\nsetPerson(nextPerson);\n"})}),"\n",(0,s.jsx)(n.p,{children:"or"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"setPerson({\n  ...person, // Copy other fields\n  artwork: { // but replace the artwork\n    ...person.artwork, // with the same one\n    city: 'New Delhi' // but in New Delhi!\n  }\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:["or use ",(0,s.jsx)(n.code,{children:"useImmer"})," instead of ",(0,s.jsx)(n.code,{children:"useState"})]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["another way you can use ",(0,s.jsx)(n.code,{children:"use-immer"})," library, handle deeper nested object."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"  const [person, updatePerson] = useImmer({\n    name: 'Niki de Saint Phalle',\n    artwork: {\n      title: 'Blue Nana',\n      city: 'Hamburg',\n      image: 'https://i.imgur.com/Sd1AgUOm.jpg',\n    }\n  });\n\n  function handleNameChange(e) {\n    updatePerson(draft => {\n      draft.name = e.target.value;\n    });\n  }\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://react.dev/learn/updating-objects-in-state",children:"usage from official website"})}),"\n",(0,s.jsx)(n.h2,{id:"\u7BAD\u5934\u51FD\u6570",children:"\u7BAD\u5934\u51FD\u6570"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u5199\u6CD5"}),(0,s.jsx)(n.th,{children:"\u542B\u4E49"}),(0,s.jsxs)(n.th,{children:["\u662F\u5426\u9700\u8981\u5199 ",(0,s.jsx)(n.code,{children:"return"})]})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"(param) => ( expression )"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"\u9690\u5F0F\u8FD4\u56DE"}),"\uFF0C\u81EA\u52A8\u8FD4\u56DE\u62EC\u53F7\u91CC\u7684\u8868\u8FBE\u5F0F\u7ED3\u679C"]}),(0,s.jsx)(n.td,{children:"\u274C \u4E0D\u9700\u8981"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"(param) => { statement }"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"\u51FD\u6570\u4F53\u8BED\u53E5\u5757"}),"\uFF0C\u4E0D\u4F1A\u81EA\u52A8\u8FD4\u56DE\uFF0C\u9700\u8981\u624B\u52A8\u5199 ",(0,s.jsx)(n.code,{children:"return"})]}),(0,s.jsx)(n.td,{children:"\u2705 \u9700\u8981"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"react\u6570\u636E\u904D\u5386\u6307\u5B9Akey",children:"react\u6570\u636E\u904D\u5386\u6307\u5B9Akey"}),"\n",(0,s.jsx)(n.p,{children:"key \u53EA\u80FD\u7528\u5728 \u7236\u7EC4\u4EF6 map \u6E32\u67D3\u5217\u8868\u7684\u5143\u7D20\u4E0A\uFF0C\u800C\u4E0D\u662F\u5B50\u7EC4\u4EF6\u5185\u90E8\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="Need key component"  showLineNumbers {9-12}',children:'export default function Contact({\n  img,\n  imgAlt,\n  name,\n  phoneNumber,\n  email,\n}: ContactInfo) {\n  return (\n    //\u8FD9\u662F \u4E0D\u5BF9\u7684\uFF0C\u56E0\u4E3A key \u53EA\u80FD\u7528\u5728 \u7236\u7EC4\u4EF6 map \n    // \u6E32\u67D3\u5217\u8868\u7684\u5143\u7D20\u4E0A\uFF0C\u800C\u4E0D\u662F\u5B50\u7EC4\u4EF6\u5185\u90E8\u3002\n    // <article className="contact-card" key={id}>\n    <article className="contact-card">\n      <img src={img} alt={imgAlt} />\n      <h3>{name}</h3>\n      <div className="info-group">\n        <img src={phoneIcon} alt="phone icon" />\n        <p>{phoneNumber}</p>\n      </div>\n      <div className="info-group">\n        <img src={mailIcon} alt="mail icon" />\n        <p>{email}</p>\n      </div>\n    </article>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-txs",metastring:'title="Parent component pass key" showLineNumbers {5}',children:'function App() {\n  return (\n    <div className="contacts">\n      {contacts.map((contact) => (\n        <Contact key={contact.id} {...contact} />\n      ))}\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u5411react\u7EC4\u4EF6\u4F20\u9012\u53C2\u6570",children:"\u5411react\u7EC4\u4EF6\u4F20\u9012\u53C2\u6570"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="Contact.txs" showLineNumbers {5-11}',children:'import phoneIcon from "./images/phone-icon.png";\nimport mailIcon from "./images/mail-icon.png";\nimport type ContactInfo from "./ContactInfo";\n\nexport default function Contact({\n  img,\n  imgAlt,\n  name,\n  phoneNumber,\n  email,\n}: ContactInfo) {\n  return (\n    //\u8FD9\u662F \u4E0D\u5BF9\u7684\uFF0C\u56E0\u4E3A key \u53EA\u80FD\u7528\u5728 \u7236\u7EC4\u4EF6 map \u6E32\u67D3\u5217\u8868\u7684\u5143\u7D20\u4E0A\uFF0C\u800C\u4E0D\u662F\u5B50\u7EC4\u4EF6\u5185\u90E8\u3002\n    // <article className="contact-card" key={id}>\n    <article className="contact-card">\n      <img src={img} alt={imgAlt} />\n      <h3>{name}</h3>\n      <div className="info-group">\n        <img src={phoneIcon} alt="phone icon" />\n        <p>{phoneNumber}</p>\n      </div>\n      <div className="info-group">\n        <img src={mailIcon} alt="mail icon" />\n        <p>{email}</p>\n      </div>\n    </article>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="App.tsx" showLineNumbers {8}',children:'import "./index.css";\nimport Contact from "./Contact";\nimport { contacts } from "./ContactInfo";\nfunction App() {\n  return (\n    <div className="contacts">\n      {contacts.map((contact) => (\n        <Contact key={contact.id} {...contact} />\n      ))}\n    </div>\n  );\n}\nexport default App;\n'})}),"\n",(0,s.jsx)(n.h2,{id:"usestate-function",children:"useState function"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="Main.tsx" showLineNumbers {1,5-9,16}',children:'import { useState } from "react";\n\nexport default function Main() {\n  // Array destructuring\n  const [ingredients, setIngredients] = useState<string[]>([\n    "Chicken",\n    "Oregano",\n    "Tomatoes",\n  ]);\n  const handleSubmit: React.FormEventHandler<HTMLFormElement> = (event) => {\n    event.preventDefault();\n    const formData = new FormData(event.currentTarget);\n    // the key is the name of input\n    const newIngredient = formData.get("ingredient");\n    if (typeof newIngredient === "string" && newIngredient?.trim() !== "") {\n      setIngredients((prev) => [...prev, newIngredient]);\n    } else {\n      console.warn("No ingredient provided");\n    }\n  };\n\n  return (\n    <main>\n      <form className="add-ingredient-form" onSubmit={handleSubmit}>\n        <input\n          type="text"\n          name="ingredient"\n          aria-label="Add ingredient"\n          placeholder="e.g. oregano"\n        ></input>\n        <button>Add ingredient</button>\n      </form>\n      <h1>Ingrredients on hand:</h1>\n      <ul className="ingredient-ul">\n        {ingredients.map((ingredient) => (\n          <li key={ingredient}>{ingredient}</li>\n        ))}\n      </ul>\n    </main>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"onclick\u4F20\u503C\u51FD\u6570\u540Dor\u533F\u540D\u51FD\u6570",children:"onClick\u4F20\u503C\u51FD\u6570\u540Dor\u533F\u540D\u51FD\u6570"}),"\n",(0,s.jsxs)(n.p,{children:["Version 1 ",(0,s.jsx)(n.code,{children:"(onClick={getRecipe})"})]}),"\n",(0,s.jsx)(n.p,{children:"You\u2019re giving React a function reference.\nReact will call getRecipe() only when the button is clicked."}),"\n",(0,s.jsx)(n.p,{children:"This is the simplest and most efficient form \u2014 no new function is created on every render."}),"\n",(0,s.jsxs)(n.p,{children:["Version 2 ",(0,s.jsx)(n.code,{children:"(onClick={() => getRecipe()})"})]}),"\n",(0,s.jsx)(n.p,{children:"You\u2019re creating a new anonymous function on each render that calls getRecipe() inside it."}),"\n",(0,s.jsx)(n.p,{children:"It still works \u2014 React will call your wrapper function on click, which in turn calls getRecipe() \u2014 but it\u2019s one extra layer of indirection and (very slightly) less efficient."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"When to use"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"onClick={getRecipe}"})}),(0,s.jsx)(n.td,{children:"Default, most common"}),(0,s.jsx)(n.td,{children:"Pass function directly"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"onClick={() => getRecipe()}"})}),(0,s.jsx)(n.td,{children:"When you need to wrap logic or pass arguments"}),(0,s.jsx)(n.td,{children:"Creates a new function every render"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"\u5982\u4F55\u52A8\u6001\u8BBE\u7F6E\u53D8\u91CF\u540D\u4E3Akey\u503C",children:"\u5982\u4F55\u52A8\u6001\u8BBE\u7F6E\u53D8\u91CF\u540D\u4E3Akey\u503C"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="\u9519\u8BEF\u793A\u8303"',children:"const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n  const { name, value } = event.currentTarget;\n  // highlight-next-line\n  setMeme((prev) => ({ ...prev, name: value }));\n};\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="\u6B63\u786E\u7528\u6CD5\u793A\u8303"',children:"const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n  const { name, value } = event.currentTarget;\n  // highlight-next-line\n  setMeme((prev) => ({ ...prev, [name]: value }));\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"tsx\u80FD\u6E32\u67D3\u7684\u7C7B\u578B",children:"tsx\u80FD\u6E32\u67D3\u7684\u7C7B\u578B"}),"\n","\n",(0,s.jsxs)(n.p,{children:["React \u7684 JSX \u8868\u8FBE\u5F0F ",(0,s.jsx)(n.code,{children:"{ ... }"})," \u91CC\uFF0C\u53EA\u80FD\u76F4\u63A5\u6E32\u67D3\u4EE5\u4E0B\u7C7B\u578B\uFF1A"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5B57\u7B26\u4E32 (string)"}),"\n",(0,s.jsx)(n.li,{children:"\u6570\u5B57 (number)"}),"\n",(0,s.jsx)(n.li,{children:"\u5E03\u5C14\u503C (boolean)"}),"\n",(0,s.jsx)(n.li,{children:"React \u5143\u7D20 (JSX \u5143\u7D20)"}),"\n",(0,s.jsx)(n.li,{children:"\u6570\u7EC4\uFF08\u5305\u542B\u4EE5\u4E0A\u7C7B\u578B\uFF09"}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(c.A,{color:"red",children:"\u4E0D\u80FD\u6E32\u67D3\u5BF9\u8C61,\u5BF9\u8C61\u6570\u7EC4"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"useeffect-function",children:"useEffect function"}),"\n",(0,s.jsxs)(n.p,{children:["when calling useEffect, depends on the dependents in ",(0,s.jsx)(n.code,{children:"[]"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"That's look this example."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="infinite loop"',children:'import React from "react";\n\nexport default function App() {\n  const [starWarsData, setStarWarsData] = React.useState({});\n  const [count, setCount] = React.useState(0);\n\n  console.log("Rendered!");\n\n  React.useEffect(() => {\n    console.log("useEffect runs");\n    fetch("https://swapi.dev/api/people/1")\n      .then((res) => res.json())\n      .then((data) => setStarWarsData(data)\n      );\n      // highlight-next-line\n  }, [starWarsData]);\n\n  return (\n    <div>\n      <h2>The count is {count}</h2>\n      <button onClick={() => setCount((prevCount) => prevCount + 1)}>\n        Add\n      </button>\n      <pre>{JSON.stringify(starWarsData, null, 2)}</pre>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Each time setStarWarsData(data) runs, React receives a new ",(0,s.jsx)(n.code,{children:"{ ... }"})," object.\nEven if the JSON content is identical, it\u2019s a different object reference,\nso React thinks the dependency changed and re-runs the effect \u2014 causing an infinite loop."]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"corret usage"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'React.useEffect(() => {\n  console.log("useEffect runs");\n  fetch("https://swapi.dev/api/people/1")\n    .then((res) => res.json())\n    .then((data) =>\n      setStarWarsData(data)\n    );\n    // highlight-next-line\n}, []);\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"What happens when visit the page first time?"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-log",metastring:'title="Console Output"',children:"Rendered!\nApp.tsx:11 useEffect runs\nApp.tsx:8 Rendered!\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Stage"}),(0,s.jsx)(n.th,{children:"Trigger"}),(0,s.jsx)(n.th,{children:"What happens"}),(0,s.jsx)(n.th,{children:"Console output"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"Initial mount"}),(0,s.jsx)(n.td,{children:"Component function executes"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Rendered!"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"2"}),(0,s.jsx)(n.td,{children:"After mount"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"useEffect"})," callback runs"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"useEffect runs"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"3"}),(0,s.jsx)(n.td,{children:"State updated"}),(0,s.jsx)(n.td,{children:"Component re-renders with new data"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Rendered!"})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"how-to-clean-resouce-in-useeffect",children:"how to clean resouce in useEffect"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="WindowTracker"',children:'import { useEffect, useState } from "react";\n\nexport default function WindowTracker() {\n  const [windowWidth, setWindownWidth] = useState<number>(window.innerWidth);\n  useEffect(() => {\n    const watchWindowWidth = () => {\n      console.log("resized!");\n      setWindownWidth(window.innerWidth);\n    };\n    window.addEventListener("resize", watchWindowWidth);\n    // cleaning up what creating before\n    // highlight-start\n    return () => {\n      window.removeEventListener("resize", watchWindowWidth);\n      console.log("cleaning up");\n    };\n    // highlight-end\n  }, []);\n  return <h1>Window width: {windowWidth}</h1>;\n}\n'})}),"\n","\n",(0,s.jsx)(a.A,{})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},85651:function(e,n,t){t.d(n,{A:()=>s});var r=t(47259);function s({color:e,background:n,className:t,children:s}){return(0,r.jsx)("span",{className:t,style:{color:e,background:n,padding:n?"0 0.2em":void 0,borderRadius:n?"0.2em":void 0},children:s})}t(96363)}}]);