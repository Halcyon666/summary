"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["6752"],{22975:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>s,toc:()=>g,default:()=>m,metadata:()=>r,assets:()=>p,contentTitle:()=>c});var r=JSON.parse('{"id":"background/Java/Spring/AOP/AspectJ/aspectj-overview","title":"AspectJ\u5F62\u5F0FAOP\u6982\u8FF0","description":"\u672C\u6587\u76F8\u5173\u4EE3\u7801(\u6765\u81EA\u5B98\u65B9\u6E90\u7801spring-test\u6A21\u5757)\u8BF7\u53C2\u89C1spring-framework org.springframework.mylearntest\u5305\u4E0B\u3002","source":"@site/docs/background/Java/Spring/AOP/AspectJ/aspectj-overview.mdx","sourceDirName":"background/Java/Spring/AOP/AspectJ","slug":"/background/Java/Spring/AOP/AspectJ/aspectj-overview","permalink":"/summary/background/Java/Spring/AOP/AspectJ/aspectj-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/background/Java/Spring/AOP/AspectJ/aspectj-overview.mdx","tags":[],"version":"current","lastUpdatedBy":"Halcyon666","lastUpdatedAt":1769269891000,"frontMatter":{"title":"AspectJ\u5F62\u5F0FAOP\u6982\u8FF0","sidebar_label":"AspectJ\u6982\u8FF0"},"sidebar":"tutorialSidebar","previous":{"title":"Spring AOP\u7684\u7EC7\u51651","permalink":"/summary/background/Java/Spring/AOP/Weaving/weaving-programmatic"},"next":{"title":"\u7EC7\u5165\u65B9\u6CD5","permalink":"/summary/background/Java/Spring/AOP/AspectJ/aspectj-weaving"}}'),a=n(35656),o=n(40059),i=n(60145);let s={title:"AspectJ\u5F62\u5F0FAOP\u6982\u8FF0",sidebar_label:"AspectJ\u6982\u8FF0"},c,p={},g=[];function l(e){let t={a:"a",code:"code",p:"p",pre:"pre",...(0,o.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["\u672C\u6587\u76F8\u5173\u4EE3\u7801(\u6765\u81EA",(0,a.jsx)(t.a,{href:"https://github.com/spring-projects/spring-framework.git",title:"\u5B98\u65B9\u6E90\u7801",children:"\u5B98\u65B9\u6E90\u7801"}),"spring-test\u6A21\u5757)\u8BF7\u53C2\u89C1",(0,a.jsx)(t.a,{href:"https://github.com/Halcyon666/spring-framework-modified/tree/main/spring-test",children:"spring-framework"})," org.springframework.mylearntest\u5305\u4E0B\u3002"]}),"\n",(0,a.jsx)(t.p,{children:"\u65E0\u9700\u50CF1.0\u90A3\u6837\u5B9E\u73B0\u76F8\u5E94\u7684\u63A5\u53E3\uFF0C\u552F\u4E00\u8981\u505A\u7684\u5C31\u662F\u5728\u8FD9\u4E2AAspect\u7C7B\u4E0A\u52A0\u4E00\u4E2A@Aspect\u6CE8\u89E3\u3002\u8FD9\u6837\u5C31\u53EF\u4EE5\u5224\u65ADClassPath\u4E2D\u54EA\u4E9B\u7C7B\u662F\u6211\u4EEC\u8981\u627E\u7684Aspect\u5B9A\u4E49\u3002\u901A\u8FC7@Pointcut\u5B9A\u4E49Pointcut\uFF0C\u901A\u8FC7Around\u7B49\u6CE8\u89E3\u6765\u6307\u5B9A\u54EA\u4E9B\u65B9\u6CD5\u5B9A\u4E49\u4E86\u76F8\u5E94\u7684Advice\u903B\u8F91\u3002"}),"\n",(0,a.jsxs)(n,{children:[(0,a.jsx)("summary",{children:"PerformanceTraceAspect"}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'package org.springframework.mylearntest.aop2.aspectj;\n\nimport org.apache.commons.lang3.time.StopWatch;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n/**\n * @Author: whalefall\n * @Date: 2020/7/28 22:46\n * Spring 2.0 \u4E4B\u540E\u65E0\u9700\u5B9E\u73B0\u63A5\u53E3\u5B9A\u4E49pointcut\n */\n@Aspect\npublic class PerformanceTraceAspect {\n	private final Log logger = LogFactory.getLog(PerformanceTraceAspect.class);\n\n	@Pointcut("execution(public  void *.method1()) || execution(public  void *.method2())")\n	public void pointcutName() {}\n\n	@Around("pointcutName()")\n	public Object performanceTrace(ProceedingJoinPoint joinPoint) throws Throwable {\n		StopWatch sw = new StopWatch();\n		try {\n			sw.start();\n			return joinPoint.proceed();\n		} finally {\n				System.out.println("pt in method["\n						+ joinPoint.getSignature().getName()\n				+ "]>>>>>>" + sw.toString());\n		}\n	}\n}\n'})})]}),"\n","\n",(0,a.jsx)(i.A,{})]})}function m(e={}){let{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);