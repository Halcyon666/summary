"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["4101"],{16517:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>c,toc:()=>p,default:()=>h,metadata:()=>l,assets:()=>a,contentTitle:()=>t});var l=JSON.parse('{"id":"Frontend/uni-app","title":"uni-app\u5F00\u53D1","description":"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u5F00\u53D1","source":"@site/docs/02-Frontend/99-uni-app.mdx","sourceDirName":"02-Frontend","slug":"/Frontend/uni-app","permalink":"/summary/Frontend/uni-app","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/02-Frontend/99-uni-app.mdx","tags":[],"version":"current","lastUpdatedBy":"Halcyon666","lastUpdatedAt":1768823796000,"sidebarPosition":99,"frontMatter":{"title":"uni-app\u5F00\u53D1","sidebar_label":"uni-app\u5F00\u53D1"},"sidebar":"tutorialSidebar","previous":{"title":"docusaurus","permalink":"/summary/Frontend/docusaurus"},"next":{"title":"shell\u57FA\u7840\u547D\u4EE4","permalink":"/summary/devops/Linux/Common-Shell-Command"}}'),s=i(35656),d=i(40059),r=i(60145);let c={title:"uni-app\u5F00\u53D1",sidebar_label:"uni-app\u5F00\u53D1"},t,a={},p=[{value:"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u5F00\u53D1",id:"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u5F00\u53D1",level:2},{value:"\u5C0F\u77E5\u8BC6",id:"\u5C0F\u77E5\u8BC6",level:3},{value:"uni-app \u547D\u4EE4",id:"uni-app-\u547D\u4EE4",level:3},{value:"\u95EE\u9898\u5904\u7406",id:"\u95EE\u9898\u5904\u7406",level:3},{value:"<code>pnpm -i</code> \u62A5\u9519\u5904\u7406",id:"pnpm--i-\u62A5\u9519\u5904\u7406",level:4},{value:"\u771F\u673A\u8C03\u8BD5\uFF0C\u4E00\u5757\u767D\u5C4F",id:"\u771F\u673A\u8C03\u8BD5\u4E00\u5757\u767D\u5C4F",level:4},{value:"Cannot find name &#39;uni&#39;.ts(2304)",id:"cannot-find-name-units2304",level:4},{value:"\u89E3\u51B3pinia\u62A5hasInjectionContext\u95EE\u9898",id:"\u89E3\u51B3pinia\u62A5hasinjectioncontext\u95EE\u9898",level:4},{value:"call with Alibaba OSS service",id:"call-with-alibaba-oss-service",level:4},{value:"wrong url,[\u6E32\u67D3\u5C42\u7F51\u7EDC\u5C42\u9519\u8BEF] Failed to load local image resource",id:"wrong-url\u6E32\u67D3\u5C42\u7F51\u7EDC\u5C42\u9519\u8BEF-failed-to-load-local-image-resource",level:4},{value:"\u5FEB\u6377\u952E",id:"\u5FEB\u6377\u952E",level:2}];function o(n){let e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u5F00\u53D1",children:"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u5F00\u53D1"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u4F7F\u7528vue3 vite ts uni-app uni-ui"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u5C0F\u77E5\u8BC6",children:"\u5C0F\u77E5\u8BC6"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u66F4\u6539\u8DEF\u7531\u9875\u9762\u4E4B\u540E\uFF0C\u9700\u8981\u91CD\u65B0\u8FD0\u884C\u4E00\u4E0B"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"750rpx * 1334rpx \u5168\u5C4F iPhone6"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"view == div text==span"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"#ifdef H5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"#ifdef H5\n// \u53EA\u5728 H5 \u5E73\u53F0\u4E0B\u7F16\u8BD1\u7684\u4EE3\u7801\u5757\nconsole.log('This is running on H5 platform.');\n#endif\n\n// \u8FD9\u90E8\u5206\u4EE3\u7801\u5728\u6240\u6709\u5E73\u53F0\u90FD\u4F1A\u7F16\u8BD1\nconsole.log('This is common code for all platforms.');\n\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"uni-app-\u547D\u4EE4",children:"uni-app \u547D\u4EE4"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u521B\u5EFA\u9879\u76EE"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"npx degit dcloudio/uni-preset-vue#vite-ts uni-app-vue"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5B89\u88C5\u4F9D\u8D56"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"pnpm i"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6E05\u7406\u4F9D\u8D56"}),"\n",(0,s.jsx)(e.li,{}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"pnpm store prune"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7F16\u8BD1"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"pnpm dev:mp-weixin"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u8FD0\u884C"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Run method: open Weixin Mini Program Devtools, import dist\\dev\\mp-weixin run."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://blog.csdn.net/weixin_43993776/article/details/134260744",children:"VSCODE\u63D2\u4EF6\u76F8\u5173\u8D44\u6599"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u8FD9\u4E24\u4E2A\u662F\u7528\u6765\u68C0\u67E5ts"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"pnpm i -D @types/wechat-miniprogram @uni-helper/uni-app-types"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5B89\u88C5\u63D0\u793A"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"pnpm i -D @uni-helper/uni-ui-types"})}),"\n",(0,s.jsx)(e.h3,{id:"\u95EE\u9898\u5904\u7406",children:"\u95EE\u9898\u5904\u7406"}),"\n",(0,s.jsxs)(e.h4,{id:"pnpm--i-\u62A5\u9519\u5904\u7406",children:[(0,s.jsx)(e.code,{children:"pnpm -i"})," \u62A5\u9519\u5904\u7406"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'Error: Expected "0.17.19" but got "0.16.17"'}),"\n",(0,s.jsx)(e.li,{children:"registry.npmmirror.com+esbuild@0.17.19\\node_modules\\esbuild"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"pnpm install esbuild@0.17.19"})}),"\n",(0,s.jsx)(e.h4,{id:"\u771F\u673A\u8C03\u8BD5\u4E00\u5757\u767D\u5C4F",children:"\u771F\u673A\u8C03\u8BD5\uFF0C\u4E00\u5757\u767D\u5C4F"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://blog.csdn.net/weixin_63853754/article/details/132316522",children:"\u76F8\u5173\u8D44\u6599"})}),"\n",(0,s.jsx)(e.p,{children:"eslintrc.json\uFF0C.prettierc.json"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"manifest.json\u6DFB\u52A0appid \u548C settings"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:' "mp-weixin" : {\n    "appid" : "xxxxxxxxxx",\n    "setting" : {\n        "urlCheck" : false,\n        "es6" : true,\n        "postcss" : true,\n        "minified" : true\n    },\n    "usingComponents" : true\n},\n'})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:["\u5F88\u91CD\u8981 ",(0,s.jsx)("font",{color:"red",children:'"es6"'})," : true,\uFF0C\u4E0D\u7136\u771F\u673A\u8C03\u8BD5\uFF0C\u5C31\u9001\u4F60\u4E00\u5757\u767D\u5C4F"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"cannot-find-name-units2304",children:"Cannot find name 'uni'.ts(2304)"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"pnpm add -D @types/uni-app"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://blog.csdn.net/qq_15006083/article/details/110196313",children:"\u539F\u6587\u4F5C\u8005"})}),"\n",(0,s.jsx)(e.h4,{id:"\u89E3\u51B3pinia\u62A5hasinjectioncontext\u95EE\u9898",children:"\u89E3\u51B3pinia\u62A5hasInjectionContext\u95EE\u9898"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://blog.csdn.net/k1_maple/article/details/130954853",children:"hasInjectContext\u62A5\u9519"})}),"\n",(0,s.jsx)(e.h4,{id:"call-with-alibaba-oss-service",children:"call with Alibaba OSS service"}),"\n",(0,s.jsx)(e.p,{children:"When upload a Gzip png picture,"}),"\n",(0,s.jsx)(e.p,{children:"and only set the ContentType header;"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:'metadata.setContentType("image/png"); '})}),"\n",(0,s.jsx)(e.p,{children:"and not set"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:'metadata.setContentEncoding("gzip");'})}),"\n",(0,s.jsx)(e.p,{children:"anyway I had tried, the uni-app wechat miniprogram can't display the picture,"}),"\n",(0,s.jsx)(e.p,{children:"I make sure there source data."}),"\n",(0,s.jsx)(e.h4,{id:"wrong-url\u6E32\u67D3\u5C42\u7F51\u7EDC\u5C42\u9519\u8BEF-failed-to-load-local-image-resource",children:"wrong url,[\u6E32\u67D3\u5C42\u7F51\u7EDC\u5C42\u9519\u8BEF] Failed to load local image resource"}),"\n",(0,s.jsxs)(e.p,{children:["if url is ",(0,s.jsx)(e.code,{children:"http:/"})," just one slash is wrong"]}),"\n",(0,s.jsx)(e.h2,{id:"\u5FEB\u6377\u952E",children:"\u5FEB\u6377\u952E"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u667A\u80FD\u63D0\u793A"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"ctl+i"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{}),"\n"]}),"\n","\n",(0,s.jsx)(r.A,{})]})}function h(n={}){let{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}}}]);