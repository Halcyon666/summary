"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4222],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var l=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=l.createContext({}),u=function(e){var t=l.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=u(e.components);return l.createElement(o.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),m=u(n),d=a,k=m["".concat(o,".").concat(d)]||m[d]||c[d]||i;return n?l.createElement(k,r(r({ref:t},s),{},{components:n})):l.createElement(k,r({ref:t},s))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=d;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p[m]="string"==typeof e?e:a,r[1]=p;for(var u=2;u<i;u++)r[u]=n[u];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1670:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>p,toc:()=>u});var l=n(7462),a=(n(7294),n(3905));const i={},r=void 0,p={unversionedId:"FrontEnd/uni-app",id:"FrontEnd/uni-app",title:"uni-app",description:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5f00\u53d1",source:"@site/docs/02-FrontEnd/uni-app.md",sourceDirName:"02-FrontEnd",slug:"/FrontEnd/uni-app",permalink:"/summary/FrontEnd/uni-app",draft:!1,editUrl:"https://github.com/Halcyon666/summary/blob/main/docs/02-FrontEnd/uni-app.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"pnpm",permalink:"/summary/FrontEnd/pnpm"},next:{title:"vue3\u5165\u95e8",permalink:"/summary/FrontEnd/vue3\u5165\u95e8"}},o={},u=[{value:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5f00\u53d1",id:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5f00\u53d1",level:2},{value:"\u5c0f\u77e5\u8bc6",id:"\u5c0f\u77e5\u8bc6",level:3},{value:"uni-app \u547d\u4ee4",id:"uni-app-\u547d\u4ee4",level:3},{value:"\u95ee\u9898\u5904\u7406",id:"\u95ee\u9898\u5904\u7406",level:3},{value:"<code>pnpm -i</code> \u62a5\u9519\u5904\u7406",id:"pnpm--i-\u62a5\u9519\u5904\u7406",level:4},{value:"\u771f\u673a\u8c03\u8bd5\uff0c\u4e00\u5757\u767d\u5c4f",id:"\u771f\u673a\u8c03\u8bd5\u4e00\u5757\u767d\u5c4f",level:4},{value:"Cannot find name &#39;uni&#39;.ts(2304)",id:"cannot-find-name-units2304",level:4},{value:"\u89e3\u51b3pinia\u62a5hasInjectionContext\u95ee\u9898",id:"\u89e3\u51b3pinia\u62a5hasinjectioncontext\u95ee\u9898",level:4},{value:"call with Alibaba OSS service",id:"call-with-alibaba-oss-service",level:4},{value:"do not compress picture",id:"do-not-compress-picture",level:4},{value:"wrong url,\u6e32\u67d3\u5c42\u7f51\u7edc\u5c42\u9519\u8bef Failed to load local image resource",id:"wrong-url\u6e32\u67d3\u5c42\u7f51\u7edc\u5c42\u9519\u8bef-failed-to-load-local-image-resource",level:4},{value:"\u5feb\u6377\u952e",id:"\u5feb\u6377\u952e",level:2}],s={toc:u},m="wrapper";function c(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,l.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5f00\u53d1"},"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5f00\u53d1"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4f7f\u7528vue3 vite ts uni-app uni-ui")),(0,a.kt)("h3",{id:"\u5c0f\u77e5\u8bc6"},"\u5c0f\u77e5\u8bc6"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u66f4\u6539\u8def\u7531\u9875\u9762\u4e4b\u540e\uff0c\u9700\u8981\u91cd\u65b0\u8fd0\u884c\u4e00\u4e0b")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"750rpx * 1334rpx \u5168\u5c4f iPhone6")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"view == div text==span")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"#ifdef H5"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"#ifdef H5\n// \u53ea\u5728 H5 \u5e73\u53f0\u4e0b\u7f16\u8bd1\u7684\u4ee3\u7801\u5757\nconsole.log('This is running on H5 platform.');\n#endif\n\n// \u8fd9\u90e8\u5206\u4ee3\u7801\u5728\u6240\u6709\u5e73\u53f0\u90fd\u4f1a\u7f16\u8bd1\nconsole.log('This is common code for all platforms.');\n\n")))),(0,a.kt)("h3",{id:"uni-app-\u547d\u4ee4"},"uni-app \u547d\u4ee4"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u521b\u5efa\u9879\u76ee")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"npx degit dcloudio/uni-preset-vue#vite-ts uni-app-vue")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5b89\u88c5\u4f9d\u8d56")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pnpm i")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6e05\u7406\u4f9d\u8d56")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"pnpm store prune"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7f16\u8bd1"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pnpm dev:mp-weixin")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8fd0\u884c")),(0,a.kt)("p",null,"Run method: open Weixin Mini Program Devtools, import dist\\dev\\mp-weixin run."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://blog.csdn.net/weixin_43993776/article/details/134260744"},"VSCODE\u63d2\u4ef6\u76f8\u5173\u8d44\u6599")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8fd9\u4e24\u4e2a\u662f\u7528\u6765\u68c0\u67e5ts ")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pnpm i -D @types/wechat-miniprogram @uni-helper/uni-app-types")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5b89\u88c5\u63d0\u793a")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pnpm i -D @uni-helper/uni-ui-types")),(0,a.kt)("h3",{id:"\u95ee\u9898\u5904\u7406"},"\u95ee\u9898\u5904\u7406"),(0,a.kt)("h4",{id:"pnpm--i-\u62a5\u9519\u5904\u7406"},(0,a.kt)("inlineCode",{parentName:"h4"},"pnpm -i")," \u62a5\u9519\u5904\u7406"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Error: Expected "0.17.19" but got "0.16.17"'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"mailto:registry.npmmirror.com+esbuild@0.17.19"},"registry.npmmirror.com+esbuild@0.17.19"),"\\node_modules\\esbuild")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pnpm install esbuild@0.17.19")),(0,a.kt)("h4",{id:"\u771f\u673a\u8c03\u8bd5\u4e00\u5757\u767d\u5c4f"},"\u771f\u673a\u8c03\u8bd5\uff0c\u4e00\u5757\u767d\u5c4f"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://blog.csdn.net/weixin_63853754/article/details/132316522"},"\u76f8\u5173\u8d44\u6599")),(0,a.kt)("p",null,"eslintrc.json\uff0c.prettierc.json"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"manifest.json\u6dfb\u52a0appid \u548c settings"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-json"},' "mp-weixin" : {\n    "appid" : "xxxxxxxxxx",\n    "setting" : {\n        "urlCheck" : false,\n        "es6" : true,\n        "postcss" : true,\n        "minified" : true\n    },\n    "usingComponents" : true\n},\n')),(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"\u5f88\u91cd\u8981 ",(0,a.kt)("font",{color:"red"},'"es6"')," : true,\uff0c\u4e0d\u7136\u771f\u673a\u8c03\u8bd5\uff0c\u5c31\u9001\u4f60\u4e00\u5757\u767d\u5c4f")))),(0,a.kt)("h4",{id:"cannot-find-name-units2304"},"Cannot find name 'uni'.ts(2304)"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pnpm add -D @types/uni-app")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://blog.csdn.net/qq_15006083/article/details/110196313"},"\u539f\u6587\u4f5c\u8005")),(0,a.kt)("h4",{id:"\u89e3\u51b3pinia\u62a5hasinjectioncontext\u95ee\u9898"},"\u89e3\u51b3pinia\u62a5hasInjectionContext\u95ee\u9898"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://blog.csdn.net/k1_maple/article/details/130954853"},"hasInjectContext\u62a5\u9519")),(0,a.kt)("h4",{id:"call-with-alibaba-oss-service"},"call with Alibaba OSS service"),(0,a.kt)("p",null,"When upload a Gzip png picture,"),(0,a.kt)("p",null,"and only set the ContentType header;"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},'metadata.setContentType("image/png"); ')),(0,a.kt)("p",null,"and not set "),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},'metadata.setContentEncoding("gzip");')),(0,a.kt)("p",null,"anyway I had tried, the uni-app wechat miniprogram can't display the picture,"),(0,a.kt)("p",null,"I make sure there source data."),(0,a.kt)("h4",{id:"do-not-compress-picture"},"do not compress picture"),(0,a.kt)("p",null,"gzip picture compress rate too low and the picture will miss some part."),(0,a.kt)("h4",{id:"wrong-url\u6e32\u67d3\u5c42\u7f51\u7edc\u5c42\u9519\u8bef-failed-to-load-local-image-resource"},"wrong url,","[\u6e32\u67d3\u5c42\u7f51\u7edc\u5c42\u9519\u8bef]"," Failed to load local image resource"),(0,a.kt)("p",null,"if url is ",(0,a.kt)("inlineCode",{parentName:"p"},"http:/")," just one slash is wrong"),(0,a.kt)("h2",{id:"\u5feb\u6377\u952e"},"\u5feb\u6377\u952e"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u667a\u80fd\u63d0\u793a")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"ctl+i")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"})))}c.isMDXComponent=!0}}]);