"use strict";(self.webpackChunksummary=self.webpackChunksummary||[]).push([["9647"],{98616:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>s,toc:()=>d,default:()=>p,metadata:()=>o,assets:()=>c,contentTitle:()=>r});var o=JSON.parse('{"id":"Frontend/react/react-problems","title":"React Problem","description":"TypeScript type assertion","source":"@site/docs/02-Frontend/01-react/04-react-problems.mdx","sourceDirName":"02-Frontend/01-react","slug":"/Frontend/react/react-problems","permalink":"/summary/Frontend/react/react-problems","draft":false,"unlisted":false,"editUrl":"https://github.com/Halcyon666/summary/edit/main/docs/02-Frontend/01-react/04-react-problems.mdx","tags":[],"version":"current","lastUpdatedBy":"Halcyon666","lastUpdatedAt":1766678298000,"sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"React TypeScript Naming Conventions","permalink":"/summary/Frontend/react/react-naming-conventions"},"next":{"title":"Vue \u57FA\u78401","permalink":"/summary/Frontend/vue/vue-grammer-one"}}'),a=t(35656),i=t(40059);let s={},r="React Problem",c={},d=[{value:"TypeScript type assertion",id:"typescript-type-assertion",level:2},{value:"useAppDispatch Called Incorrectly: Expected 0 Arguments, Got 1",id:"useappdispatch-called-incorrectly-expected-0-arguments-got-1",level:2},{value:"Cannot find module &#39;@rollup/rollup-win32-x64-msvc&#39;",id:"cannot-find-module-rolluprollup-win32-x64-msvc",level:2}];function l(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"react-problem",children:"React Problem"})}),"\n",(0,a.jsx)(n.h2,{id:"typescript-type-assertion",children:"TypeScript type assertion"}),"\n",(0,a.jsx)(n.p,{children:"Property 'reaction' does not exist on type 'PostData'."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/Halcyon666/react-daily-learn/commit/26819a23ea2730f03fd3ada4ce936de97fa81c28",children:"fix commit"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:'title="ReactionButtons.tsx"',children:'import { useAppDispatch } from "../../hooks";\nimport { reactionAdded, type PostData, type Reactions } from "./postsSlice";\n\nconst reactionEmoji: Record<keyof Reactions, string> = {\n  thumbsUp: "\u{1F44D}",\n  wow: "\u{1F62E}",\n  heart: "\u2764\uFE0F",\n  rocket: "\u{1F680}",\n  coffee: "\u2615",\n};\n\nconst ReactionButtons = ({ id, reactions }: PostData) => {\n  const dispatch = useAppDispatch();\n  const reactionButtons = Object.entries(reactionEmoji).map(([name, emoji]) => {\n    // highlight-next-line\n    const reaction = name as keyof Reactions;\n    return (\n      <button\n        key={name}\n        className="reactionButton"\n        onClick={() => dispatch(reactionAdded({ postId: id, reaction }))}\n      >\n        {emoji} {reactions[reaction]}\n      </button>\n    );\n  });\n  return <div>{reactionButtons}</div>;\n};\n\nexport default ReactionButtons;\n\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/Halcyon666/react-daily-learn/commit/ac8e9cbc1b28c3da48ba97dc4146a15194552375",children:"fix commit"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:'title="postsSlice.ts"',children:'\nconst postsSlice = createSlice({\n  name: "postSlice",\n  initialState,\n  reducers: {\n    postAdded: {\n      reducer: (state, action: PayloadAction<PostData>) => {\n        state.push(action.payload);\n      },\n      prepare: (title: string, content: string, userId: string) => {\n        return {\n          payload: {\n            id: nanoid(),\n            title,\n            content,\n            userId,\n            date: new Date().toISOString(),\n            reactions: {\n              thumsUp: 0,\n              wow: 0,\n              heart: 0,\n              rocket: 0,\n              coffee: 0,\n            },\n          },\n        };\n      },\n    },\n\n    // The issue is that reactionAdded is expecting a different payload type. \n    // It needs id and reaction, not the full PostData. Here\'s the corrected code:\n    reactionAdded: (\n      state,\n      // highlight-next-line\n      action: PayloadAction<{ postId: string; reaction: keyof Reactions }>\n    ) => {\n      const { postId, reaction } = action.payload;\n      const existingPost = state.find((post) => post.id === postId);\n      if (existingPost) {\n        existingPost.reactions[reaction]++;\n      }\n    },\n  },\n});\n'})}),"\n",(0,a.jsx)(n.h2,{id:"useappdispatch-called-incorrectly-expected-0-arguments-got-1",children:"useAppDispatch Called Incorrectly: Expected 0 Arguments, Got 1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-txs",children:'// highlight-next-line\nconst dispatch = useAppDispatch();\nconst savePost = () => {\n    if (title && content) {\n        dispatch(postAdded({ id: nanoid(), title, content }));\n        setContent("");\n        setTitle("");\n    }\n};\n'})}),"\n",(0,a.jsx)(n.h2,{id:"cannot-find-module-rolluprollup-win32-x64-msvc",children:"Cannot find module '@rollup/rollup-win32-x64-msvc'"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-log",children:"\\node_modules\\.pnpm\\rollup@4.53.3\\node_modules\\rollup\\dist\\native.js:92:76)\n[cause]: Error: Cannot find module '@rollup/rollup-win32-x64-msvc'\n  Require stack:\n"})}),"\n",(0,a.jsxs)(n.p,{children:["I definately use a win nodejs package in windows system, ",(0,a.jsx)(n.code,{children:"node-v24.12.0-win-x64.zip"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Maybe try to install another vite version ",(0,a.jsx)(n.code,{children:"vite 7.2.7"}),", meanwhile auto download the missing module."]}),"\n",(0,a.jsxs)(n.p,{children:["Or you can mannually move the directory to ",(0,a.jsx)(n.code,{children:"%LOCALAPPDATA%\\pnpm\\global\\5\\.pnpm"})," from a online machine."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://s2.loli.net/2025/12/13/aYQoR9qhtApGPJ3.png",alt:"20251213140735"})})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);